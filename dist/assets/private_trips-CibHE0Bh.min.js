import{_ as O,D as E,e as A,y as I,z as D,f as l,t as L,r as _,o as n,c as i,g,h as r,i as s,j as b,A as z,B as P,C as R,F as B,k as F,E as x,a as T,d as m,b as p,m as N,p as W}from"./index.min.js";const S=m(()=>p(()=>import("./map-b2mjEKBi.min.js"),__vite__mapDeps([0,1,2,3]))),j=m(()=>p(()=>import("./trip_page-_qBZqfuL.min.js"),__vite__mapDeps([4,2,3,5,1]))),U=m(()=>p(()=>import("./usertype_picker--L6V32hh.min.js"),__vite__mapDeps([6,2,3]))),J=m(()=>p(()=>import("./privateTripWizard-ZLdENtk0.min.js"),__vite__mapDeps([7,2,3,8,1,9,10]))),M={components:{datatabble:E,maps:S,delete_icon:A,car_icon:I,route_icon:D,trip_page:j,usertype_picker:U,private_trip_wizard:J},name:"Private trips",setup(f){const a=f.conf.url+f.path+"?load=json";l(null);const o=l({}),e=l({}),u=l([]),k=l(!1),c=l(!1),h=l(!1),y=l(""),v=l("#");(()=>{N(a).then(d=>{e.value=JSON.parse(JSON.stringify(d)),v.value=e.value.columns[1].value})})();const t=(d,V)=>{switch(d){case"view":break;case"edit":o.value=V,c.value=!0;break;case"delete":W("trip_id",V,"PrivateTrip.delete");break}},w=()=>{o.value.usertype=="employee"&&(u.value=e.value.employees),o.value.usertype=="supervisor"&&(u.value=e.value.supervisors)};return{usersList:u,showWizard:c,setType:d=>{o.value.usertype=d,h.value=!1,c.value=!0,w()},showOptions:h,showTrip:k,url:a,content:e,activeItem:o,searchValue:y,searchField:v,translate:L,handleAction:t}},props:["path","lang","business_setting","system_setting","conf","auth"]},q={class:"w-full overflow-auto"},G={key:2,class:"w-full relative"},K={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},H=["textContent"],Q={class:"w-full bg-white"},X={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex px-4"},Y={class:"card-title"},Z={class:"d-flex align-items-center position-relative my-1"},$={class:"card-toolbar flex-row-fluid justify-content-end gap-5"},ee={class:"w-150px"},te=["textContent","value"],se=["textContent"],ae=["src"],oe=["onClick"],ne=["onClick"];function le(f,a,o,e,u,k){const c=_("private_trip_wizard"),h=_("usertype_picker"),y=_("vue-feather"),v=_("delete_icon"),C=_("datatabble");return n(),i("div",q,[e.showWizard&&e.activeItem.usertype?(n(),g(c,{onCallback:a[0]||(a[0]=t=>e.showWizard=!1),conf:o.conf,usertype:e.activeItem.usertype,userslist:e.usersList,key:e.showWizard,vehicles:e.content.vehicles,drivers:e.content.drivers,system_setting:o.system_setting,item:e.activeItem,business_setting:o.business_setting},null,8,["conf","usertype","userslist","vehicles","drivers","system_setting","item","business_setting"])):r("",!0),!e.showWizard&&e.showOptions?(n(),g(h,{alias:e.translate("Need private trip"),disable_students:!0,key:e.showOptions,auth:o.auth,item:e.activeItem,onCallback:e.setType},null,8,["alias","auth","item","onCallback"])):r("",!0),!e.showWizard&&!e.showOptions&&e.content&&!e.showTrip?(n(),i("div",G,[e.content?(n(),i("main",{key:e.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[s("div",K,[s("h1",{class:"font-bold text-lg w-full",textContent:b(e.content.title)},null,8,H)]),s("div",Q,[s("div",X,[s("div",Y,[s("div",Z,[z(s("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>e.searchValue=t),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-250px ps-12",placeholder:"Search Report"},null,512),[[P,e.searchValue]])])]),s("div",$,[s("div",ee,[z(s("select",{"onUpdate:modelValue":a[2]||(a[2]=t=>e.searchField=t),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(n(!0),i(B,null,F(e.content.columns,t=>(n(),i("option",{textContent:b(t.text),value:t.value},null,8,te))),256))],512),[[R,e.searchField]])])]),s("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:a[3]||(a[3]=t=>e.showOptions=!0),textContent:b(e.translate("add_new"))},null,8,se)]),e.content.columns?(n(),g(C,{key:0,"search-field":e.searchField,"search-value":e.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":e.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:e.content.columns,items:e.content.items},{"item-picture":x(t=>[s("img",{src:t.picture,class:"w-8 h-8 rounded-full"},null,8,ae)]),"item-details":x(t=>[t.not_editable?r("",!0):(n(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:w=>e.handleAction("edit",t)},[T(y,{class:"w-5",type:"edit"})],8,oe))]),"item-delete":x(t=>[t.not_removeable?r("",!0):(n(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:w=>e.handleAction("delete",t)},[T(v,{class:"w-5"})],8,ne))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):r("",!0)])])):r("",!0)])):r("",!0)])}const ce=O(M,[["render",le]]);export{ce as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-b2mjEKBi.min.js","index.es-9divdo6P.min.js","index.min.js","index.min.css","trip_page-_qBZqfuL.min.js","help-QMf3rqBc.min.js","usertype_picker--L6V32hh.min.js","privateTripWizard-ZLdENtk0.min.js","editable_map_location-h8_ViIKg.min.js","tooltip-s9Xa9pgY.min.js","trip_map-R_hbrq_T.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
