import{_ as j,t as _,a as k,o as a,c as i,d as t,g as b,e as s,i as y,n as S,b as r,F as u,f as h,w as C,v as T,q as w,l as N,s as V,r as p,u as D,j as F}from"./index.min.js";const M={components:{translate:_},emits:["callback"],setup(d,{emit:c}){return{translate:_,emit:c,close:()=>{if(!window.confirm(_("confirm_close_ticket")))return null;var e=new URLSearchParams;e.append("type","HelpMessage.close"),e.append("params[message_id]",d.item.message_id),e.append("params[status]","completed"),N(e,"/api/update").then(x=>{V(x.result)})}}},props:["path","langs","setting","conf","auth","doctors","categories","item"]},A={class:"w-full"},U={class:"container-fluid"},B={class:"row"},I={class:"col-lg-12"},L={class:"card mt-n4 mx-n4 card-border-effect-none mb-n5 border-bottom-0 border-start-0 rounded-0"},O={class:"card-body pb-4 mb-0"},P={class:"row"},q={class:"col-md"},R={class:"flex align-items-center"},J={class:"px-1 pt-1"},z={class:"col-md"},G=["textContent"],H={class:"hstack gap-3 flex h-8"},W=t("div",{class:"vr"},null,-1),K={class:"text-muted"},Q=["textContent"],X=["textContent"],Y=t("div",{class:"vr"},null,-1),Z={class:"text-muted"},$=["textContent"],tt=["textContent"],et=t("div",{class:"vr"},null,-1),st=["textContent"],nt={class:"lg:flex gap-6 mt-4"},ot={class:"col-xxl-9 w-full"},lt={class:"card"},at={class:"card-body p-4"},it=["textContent"],ct=["textContent"],dt=["textContent"],rt={class:"card-body p-4"},_t=["textContent"],mt={"data-simplebar":"init",style:{"max-height":"300px"},class:"overflow-y-auto"},ut={class:"simplebar-wrapper"},ht=t("div",{class:"simplebar-height-auto-observer-wrapper"},[t("div",{class:"simplebar-height-auto-observer"})],-1),xt={class:"simplebar-mask"},vt={class:"simplebar-offset"},ft={class:"simplebar-content-wrapper",tabindex:"0",role:"region","aria-label":"scrollable content"},pt={class:"simplebar-content"},gt={class:"flex gap-2 mb-4"},Ct={key:0,class:"flex-shrink-0"},bt=["src"],yt={key:1,class:"flex-grow-1 ms-3"},wt={class:"fs-13 flex gap-2"},kt=["textContent"],St=["textContent"],jt=["textContent"],Et={action:"/api/create",method:"POST","data-refresh":"1",id:"add-device-form",class:"action my-2 rounded-lg pb-2"},Tt=t("input",{name:"type",type:"hidden",value:"ForumComment.create"},null,-1),Nt=["value"],Vt=["name"],Dt={class:"row g-3"},Ft={class:"col-lg-12"},Mt=["textContent"],At=t("textarea",{name:"params[comment]",class:"form-control bg-light border-light",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Enter comments"},null,-1),Ut={class:"col-lg-12 text-end mt-4"},Bt=["textContent"],It={class:"w-96"},Lt={class:"card"},Ot={class:"card-header"},Pt=["textContent"],qt={class:"card-body"},Rt={action:"/api/update",method:"POST",id:"edit-item-form",class:"action my-2 rounded-lg pb-2"},Jt=t("input",{name:"type",type:"hidden",value:"Forum.update"},null,-1),zt=["value"],Gt={class:"table-responsive table-card"},Ht={class:"table table-borderless align-middle mb-0 w-full"},Wt=["textContent"],Kt={class:"py-2"},Qt=["textContent"],Xt=["textContent"],Yt={id:"t-client",class:"py-2"},Zt=["textContent","value"],$t=["textContent"],te={id:"t-client",class:"py-2"},ee=["textContent","value"],se=["textContent"],ne={id:"t-client",class:"py-2"},oe=["textContent"],le=["textContent"],ae=["textContent"],ie=["textContent"],ce=["textContent"],de=["textContent"],re=["textContent"],_e=["textContent"],me=t("td",{class:"fw-medium py-2"},null,-1),ue={id:"d-date",class:"py-2 flex"},he=["textContent"];function xe(d,c,n,e,x,v){const m=k("vue-feather");return a(),i("div",A,[t("div",U,[t("div",B,[t("div",I,[t("div",L,[t("div",O,[t("div",P,[t("div",q,[t("div",R,[t("div",J,[b(m,{type:"clipboard"})]),t("div",z,[t("h4",{class:"fw-semibold px-1",id:"ticket-title",textContent:s(n.item.customer_name)},null,8,G),t("div",H,[W,t("div",K,[t("span",{textContent:s(e.translate("Created at"))},null,8,Q),y(" : "),t("span",{class:"fw-medium",id:"create-date",textContent:s(n.item.date)},null,8,X)]),Y,t("div",Z,[t("span",{textContent:s(e.translate("Last update"))},null,8,$),y(" : "),t("span",{class:"fw-medium",id:"update-date",textContent:s(n.item.update_date)},null,8,tt)]),et,n.item.status?(a(),i("div",{key:0,class:S(["badge rounded-pill fs-12 text-white",n.item.status=="0"?"bg-info":"bg-success"]),id:"ticket-status",textContent:s(n.item.status=="0"?"disabled":"active")},null,10,st)):r("",!0)])]),t("span",{class:"w-auto py-2 px-4 cursor-pointer text-lg",onClick:c[0]||(c[0]=o=>e.emit("callback"))},[b(m,{class:"w-5",type:"x-circle"})])])])])])])])]),t("div",nt,[t("div",ot,[t("div",lt,[t("div",at,[t("h6",{class:"fw-semibold text-uppercase mb-3",textContent:s(e.translate("Ticket Discripation"))},null,8,it),t("h3",{class:"fw-semibold text-uppercase mb-3",textContent:s(n.item.subject)},null,8,ct),t("p",{class:"text-muted font-bold pt-10",textContent:s(n.item.content)},null,8,dt)]),t("div",rt,[t("h5",{class:"card-title text-sm font-semibold mb-4",textContent:s(e.translate("Comments"))},null,8,_t),t("div",mt,[t("div",ut,[ht,t("div",xt,[t("div",vt,[t("div",ft,[t("div",pt,[(a(!0),i(u,null,h(n.item.comments,o=>(a(),i("div",gt,[o.user?(a(),i("div",Ct,[t("img",{src:n.item.user.photo?n.item.user.photo:n.item.user.picture,alt:"",class:"h-10 w-10 mt-2 avatar-xs rounded-circle"},null,8,bt)])):r("",!0),o.user?(a(),i("div",yt,[t("h5",wt,[t("span",{textContent:s(o.user.name)},null,8,kt),t("small",{class:"text-muted",textContent:s(o.date)},null,8,St)]),t("p",{class:"text-muted",textContent:s(o.comment)},null,8,jt)])):r("",!0)]))),256))])])])])])]),t("form",Et,[Tt,t("input",{name:"params[message_id]",type:"hidden",value:n.item.message_id},null,8,Nt),d.model_id&&d.column&&d.column.column_type=="hidden"?C((a(),i("input",{key:0,name:"params["+d.column.key+"]",type:"hidden","onUpdate:modelValue":c[1]||(c[1]=o=>d.column.default=o)},null,8,Vt)),[[T,d.column.default]]):r("",!0),t("div",Dt,[t("div",Ft,[t("label",{for:"exampleFormControlTextarea1",class:"form-label",textContent:s(e.translate("WRITE_COMMENT"))},null,8,Mt),At]),t("div",Ut,[t("button",{type:"submit",href:"javascript:void(0);",class:"btn btn-primary",textContent:s(e.translate("Send"))},null,8,Bt)])])])])])]),t("div",It,[t("div",Lt,[t("div",Ot,[t("h5",{class:"card-title mb-0",textContent:s(e.translate("Ticket Details"))},null,8,Pt)]),t("div",qt,[t("form",Rt,[Jt,t("input",{name:"params[id]",type:"hidden",value:n.item.id},null,8,zt),t("div",Gt,[t("table",Ht,[t("tbody",null,[t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("ID"))},null,8,Wt),t("td",Kt,[y("#"),t("span",{id:"t-no",textContent:s(n.item.id)},null,8,Qt)])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Assigned Doctor"))},null,8,Xt),t("td",Yt,[C(t("select",{"onUpdate:modelValue":c[2]||(c[2]=o=>n.item.doctor_id=o),name:"params[doctor_id]",class:"form-control form-control-solid border border-gray-600"},[(a(!0),i(u,null,h(n.doctors,o=>(a(),i("option",{textContent:s(o.title),value:o.id},null,8,Zt))),256))],512),[[w,n.item.doctor_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Category"))},null,8,$t),t("td",te,[C(t("select",{"onUpdate:modelValue":c[3]||(c[3]=o=>n.item.category_id=o),name:"params[category_id]",class:"form-control form-control-solid border border-gray-600"},[(a(!0),i(u,null,h(n.categories,o=>(a(),i("option",{textContent:s(o.title),value:o.id},null,8,ee))),256))],512),[[w,n.item.category_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Status"))},null,8,se),t("td",ne,[C(t("select",{"onUpdate:modelValue":c[4]||(c[4]=o=>n.item.status=o),name:"params[status]",class:"form-control form-control-solid border border-gray-600"},[t("option",{textContent:s(e.translate("Active")),value:"on"},null,8,oe),t("option",{textContent:s(e.translate("Inactive")),value:"0"},null,8,le)],512),[[w,n.item.status]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Name"))},null,8,ae),t("td",{class:"py-2",textContent:s(n.item.customer_name)},null,8,ie)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Email"))},null,8,ce),t("td",{class:"py-2",textContent:s(n.item.customer_email)},null,8,de)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Phone"))},null,8,re),t("td",{class:"py-2",textContent:s(n.item.customer_phone)},null,8,_e)]),t("tr",null,[me,t("td",ue,[t("button",{textContent:s(e.translate("Update")),type:"submit",class:"cursor-pointer hover:bg-red-800 hover:text-gray-100 px-3 py-2 text-sm border-red-600 border-1 rounded border mt-2 block text-center"},null,8,he)])])])])])])])])])])])])}const ve=j(M,[["render",xe]]),fe={components:{item_details:ve,translate:_},setup(d){const c=d.conf.url+d.path+"?load=json",n=p({}),e=p({}),x=p(!1),v=p(!1),m=p("0"),o=()=>{v.value=!1,e.value=null},l=f=>{m.value=f},g=f=>{v.value=!0,e.value=f};(()=>{F(c).then(f=>{n.value=JSON.parse(JSON.stringify(f))})})();let E=[{text:_("Inactive"),status:"0",icon:"delete",desc:_("New posts those not opened yet")},{text:_("Active"),status:"on",icon:"check-square",desc:_("posts needs customer reply")}];return{content:n,activeItem:e,closeMessage:o,switchStatus:l,showDetails:g,showAddSide:x,showEditSide:v,activeStatus:m,statusList:E,translate:_}},props:["path","langs","setting","conf","auth"]},pe={class:"w-full"},ge={key:1,class:"container-fluid"},Ce={class:"card"},be={class:"card-body"},ye={class:"d-flex flex-column flex-xl-row p-7"},we={class:"flex-lg-row-fluid me-xl-15 mb-20 mb-xl-0"},ke={class:"mb-0"},Se=t("form",{method:"post",action:"#",class:"form mb-15"},[t("div",{class:"position-relative"},[t("i",{class:"ki-duotone ki-magnifier fs-1 text-primary position-absolute top-50 translate-middle ms-9"},[t("span",{class:"path1"}),t("span",{class:"path2"})]),t("input",{type:"text",class:"form-control form-control-lg form-control-solid ps-14",name:"search",value:"",placeholder:"Search"})])],-1),je=["textContent"],Ee={class:"w-full"},Te={key:0,class:"d-flex mb-10 gap-4"},Ne=["onClick"],Ve={class:"d-flex align-items-center mb-2"},De=["textContent"],Fe=["textContent"],Me=["textContent"],Ae=["textContent"],Ue={class:"w-full"},Be=["onClick"],Ie={class:"flex-col justify-start items-start gap-2.5 flex"},Le={class:"mt-2 justify-start items-start gap-2.5 inline-flex"},Oe={class:"px-2.5 py-1 bg-blue-100 rounded-lg justify-center items-center gap-2.5 flex"},Pe=["textContent"],qe=["textContent"],Re={class:"flex w-full"},Je={key:0,class:"w-full justify-start items-center gap-2 inline-flex"},ze={class:"relative flex"},Ge=["src"],He={class:"justify-between items-center flex"},We={class:"flex-col justify-start items-start inline-flex"},Ke={class:"justify-start items-center gap-1 inline-flex"},Qe=["textContent"],Xe=["textContent"],Ye={class:"justify-start gap-10 flex"},Ze={class:"flex gap-1 text-sm font-normal relative"},$e=["textContent"],ts=t("span",{class:"pt-2"},"1",-1),es=t("img",{src:"/src/front_assets/svg/views.svg",width:"40"},null,-1),ss={class:"flex gap-1 text-sm font-normal relative"},ns=["textContent"],os=t("span",{class:"pt-2"},"1",-1),ls=t("img",{src:"/src/front_assets/svg/comments.svg",width:"40"},null,-1),as={class:"flex gap-1 text-sm font-normal relative"},is=["textContent"],cs=t("span",{class:"pt-2"},"1",-1),ds=t("img",{src:"/src/front_assets/svg/shares.svg",width:"36"},null,-1),rs={class:"flex-column flex-lg-row-auto w-100 mw-lg-300px mw-xxl-350px"},_s={class:"card-rounded flex gap-10 mb-15 py-3 px-6"},ms={class:"d-flex align-items-center mb-10 gap-2"},us=["onClick"],hs=["textContent"];function xs(d,c,n,e,x,v){const m=k("item_details"),o=k("vue-feather");return a(),i("div",pe,[e.showEditSide&&e.content?(a(),D(m,{key:0,item:e.activeItem,doctors:e.content.doctors,categories:e.content.categories,ref:"activeForumPost",onCallback:e.closeMessage},null,8,["item","doctors","categories","onCallback"])):r("",!0),e.showEditSide?r("",!0):(a(),i("div",ge,[t("div",Ce,[t("div",be,[t("div",ye,[t("div",we,[t("div",ke,[Se,t("h1",{class:"text-gray-900 mb-10",textContent:s(e.content.title)},null,8,je),e.content.disable?(a(!0),i(u,{key:0},h(e.content.items,l=>(a(),i("div",Ee,[l.status==e.activeStatus?(a(),i("div",Te,[b(o,{type:"bell",class:"mt-5"}),t("div",{class:"d-flex flex-column",onClick:g=>(e.activeItem=l,e.showEditSide=!0)},[t("div",Ve,[t("a",{href:"javascript:;",class:"font-semibold text-gray-800 text-hover-primary fs-4 me-3",textContent:s(l.customer_name)},null,8,De),t("span",{class:"truncate max-w-sm badge badge-light my-1 bg-gray-100",textContent:s(l.subject)},null,8,Fe),t("span",{class:S(["badge badge-light mx-2 my-1 text-white",{"bg-primary":l.status=="on","bg-danger":l.status=="0"}]),textContent:s(l.status)},null,10,Me)]),t("span",{class:"truncate text-muted fw-semibold fs-6",textContent:s(l.content)},null,8,Ae)],8,Ne)])):r("",!0)]))),256)):r("",!0),(a(!0),i(u,null,h(e.content.items,l=>(a(),i("div",Ue,[l.status==e.activeStatus?(a(),i("div",{key:0,onClick:g=>(e.activeItem=l,e.showEditSide=!0),class:"w-full flex-col justify-start items-start gap-10 inline-flex bg-gray-100 p-4 rounded-lg shadow-md bg-white"},[t("div",Ie,[t("div",Le,[t("div",Oe,[t("div",{class:"font-normal text-sm leading-none",textContent:s(l.category_name)},null,8,Pe)])]),t("a",{href:"javascript:;",class:"pt-1 text-lg font-semibold leading-relaxed purple-color hover:text-gray-500",textContent:s(l.subject)},null,8,qe)]),t("div",Re,[l.doctor?(a(),i("div",Je,[t("div",ze,[t("img",{class:"w-10 h-10 relative rounded-full",src:l.doctor?l.doctor.picture:""},null,8,Ge)]),t("div",He,[t("div",We,[t("div",Ke,[t("div",{class:"text-sm font-semibold text-gray-500",textContent:s(l.doctor.name)},null,8,Qe)]),t("div",{class:"text-sm pt-1 font-normal leading-none text-gray-800",textContent:s(e.translate("Answered By"))},null,8,Xe)])])])):r("",!0),t("div",Ye,[t("div",Ze,[t("span",{class:"tooltiptext",textContent:s(e.translate("Views"))},null,8,$e),ts,es]),t("div",ss,[t("span",{class:"tooltiptext",textContent:s(e.translate("Comments"))},null,8,ns),os,ls]),t("div",as,[t("span",{class:"tooltiptext",textContent:s(e.translate("Shares"))},null,8,is),cs,ds])])])],8,Be)):r("",!0)]))),256))])]),t("div",rs,[t("div",_s,[(a(!0),i(u,null,h(e.statusList,l=>(a(),i("div",ms,[b(o,{type:l.icon},null,8,["type"]),t("div",{class:"d-flex flex-column cursor-pointer",onClick:g=>e.switchStatus(l.status)},[t("h5",{class:S(["",l.status==e.activeStatus?"text-gray-800":"text-gray-500"]),textContent:s(l.text)},null,10,hs)],8,us)]))),256))])])])])])]))])}const ps=j(fe,[["render",xs]]);export{ps as default};
