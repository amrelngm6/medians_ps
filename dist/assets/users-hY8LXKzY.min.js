import{_ as S,f as _,t as A,r as g,o,c as a,i as t,j as s,F as p,k as w,l as E,x as R,B as I,h as d,g as b,d as C,b as y,m as U,n as N,s as B}from"./index.min.js";const O=C(()=>y(()=>import("./side-form-create-MWe593XH.min.js"),__vite__mapDeps([0,1,2,3,4]))),P=C(()=>y(()=>import("./side-form-update-o9ZFuAel.min.js"),__vite__mapDeps([5,1,2,3,4,6]))),V={components:{SideFormCreate:O,SideFormUpdate:P},name:"Users",setup(f){const r=f.conf.url+f.path+"?load=json",i=_(!1),e=_(!1),h=_({}),u=_({});return(()=>{U(r).then(l=>{u.value=JSON.parse(JSON.stringify(l))})})(),{url:r,showAddSide:i,showEditSide:e,content:u,activeItem:h,setActiveStatus:l=>{l.active=!l.active;var m=new URLSearchParams;m.append("type","User.updateStatus"),m.append("params",JSON.stringify(l)),N(m,"/api/update").then(k=>{B(k.result)})},closeSide:()=>{i.value=!1,e.value=!1},sameRole:(l,m)=>l.role_id==m.role_id,translate:A}},props:["path","lang","setting","conf","auth"]},F={key:0,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},L={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},T=["textContent"],j={class:"w-full flex gap gap-6"},D={class:"w-full pb-4"},J={class:"pb-b flex gap-4"},q=["textContent"],z=["textContent"],G={class:"w-full grid lg:grid-cols-3 gap gap-6"},H={class:"mb-2 rounded-lg bg-white p-4"},K={class:"flex-shrink-0"},M={class:"relative"},Q=t("div",{class:"absolute inset-0 rounded-full shadow-inner","aria-hidden":"true"},null,-1),W=["src"],X={class:"flex-grow w-full"},Y={class:"text-lg font-medium text-gray-900"},Z=["textContent"],$=["textContent"],ee={class:"text-center"},te=["onClick"],ne=["textContent"],oe=["textContent","onClick"];function se(f,r,i,e,h,u){const x=g("side-form-create"),v=g("side-form-update");return e.content?(o(),a("main",F,[t("div",L,[t("h1",{class:"font-bold text-lg w-full",textContent:s(e.content.title)},null,8,T),t("a",{href:"javascript:;",class:"menu-dark uppercase p-2 mx-2 text-center text-white w-32 rounded bg-danger",onClick:r[0]||(r[0]=c=>{e.showAddSide=!0,e.activeItem={}})},s(e.translate("add_new")),1)]),t("div",j,[e.content&&e.content.users?(o(),a("div",{key:e.content.users,class:"w-full"},[(o(!0),a(p,null,w(e.content.roles,c=>(o(),a("div",D,[t("h3",J,[t("span",{textContent:s(c.name)},null,8,q),E(),t("span",{class:"pt-2 text-sm text-muted",textContent:s(c.id>1?e.translate("Theese users can manage your account only"):"")},null,8,z)]),t("div",G,[(o(!0),a(p,null,w(e.content.users,n=>(o(),a("div",H,[n&&e.sameRole(n,c)?(o(),a("div",{class:"flex items-center space-x-4 gap gap-4",key:c},[t("div",K,[t("div",M,[Q,t("img",{class:"relative w-12 h-12 rounded-full",src:n.photo,alt:"User avatar"},null,8,W)])]),t("div",X,[t("div",Y,s(n.first_name)+" "+s(n.last_name),1),t("div",{class:"text-sm font-medium text-gray-500",textContent:s(n.phone)},null,8,Z),t("div",{class:"text-sm font-medium text-gray-500",textContent:s(n.email)},null,8,$)]),t("div",ee,[t("div",{class:"flex gap gap-2 cursor-pointer",onClick:l=>e.setActiveStatus(n)},[t("span",{class:R([n.active?"":"bg-inverse-dark","mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[t("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:I({left:n.active?"16px":0})},null,4)],2),t("span",{textContent:s(n.active?e.translate("Active"):e.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,ne)],8,te),n.id==i.auth.id||i.auth.role_id==1?(o(),a("span",{key:0,textContent:s(e.translate("edit")),class:"hover:bg-purple-800 hover:text-gray-100 my-2 inline-flex items-center px-6 py-1 rounded-full text-xs pb-2 font-medium bg-blue-100 text-blue-800 cursor-pointer",onClick:l=>{e.showEditSide=!0,e.showAddSide=!1,e.activeItem=n}},null,8,oe)):d("",!0)])])):d("",!0)]))),256))])]))),256))])):d("",!0),e.showAddSide&&e.content&&e.content.fillable?(o(),b(x,{key:1,onCallback:e.closeSide,conf:i.conf,model:"User.create",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","columns"])):d("",!0),e.showEditSide&&!e.showAddSide?(o(),b(v,{key:2,onCallback:e.closeSide,conf:i.conf,model:"User.update",item:e.activeItem,model_id:e.activeItem.id,index:"id",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","item","model_id","columns"])):d("",!0)])])):d("",!0)}const ae=S(V,[["render",se]]);export{ae as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["side-form-create-MWe593XH.min.js","index.min.js","index.min.css","Field-CYyYgOGz.min.js","Field.min.css","side-form-update-o9ZFuAel.min.js","form_field-Bko1J7lO.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}