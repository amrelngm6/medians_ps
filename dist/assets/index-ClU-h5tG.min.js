const __vite__fileDeps=["form_field-BcgAo7kt.min.js","Close-BjOQ1kqe.min.js","index.min.js","index.min.css","Field-C6oLVcCh.min.js","Field.min.css","merge-8tag8P4r.min.js","form_field.min.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as E,t as r,a as b,o as l,c as i,d as t,g as x,e as s,i as C,n as S,b as _,F as f,f as p,y as N,w,q as k,z as R,A as P,l as F,s as j,r as h,u as A,j as V,p as D}from"./index.min.js";const O=R(()=>P(()=>import("./form_field-BcgAo7kt.min.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),L={components:{form_field:O},emits:["callback"],setup(m,{emit:d}){return{handleReply:a=>{item.value=a.value},showCommentForm:null,setCommentStatus:a=>{a.status=a.status=="on"?0:"on";var c=new URLSearchParams;c.append("type","ForumComment.update"),c.append("params[id]",a.id),c.append("params[status]",a.status??0),F(c,"/api/update").then(n=>{j(n.result)})},translate:r,emit:d,close:()=>{if(!window.confirm(r("confirm_close_ticket")))return null;var a=new URLSearchParams;a.append("type","HelpMessage.close"),a.append("params[message_id]",m.item.message_id),a.append("params[status]","completed"),F(a,"/api/update").then(c=>{j(c.result)})}}},props:["path","langs","setting","conf","auth","doctors","categories","item"]},M={class:"w-full"},U={class:"container-fluid"},B={class:"row"},I={class:"col-lg-12"},q={class:"card mt-n4 mx-n4 card-border-effect-none mb-n5 border-bottom-0 border-start-0 rounded-0"},z={class:"card-body pb-4 mb-0"},J={class:"row"},G={class:"col-md"},H={class:"flex align-items-center"},W={class:"px-1 pt-1"},K={class:"col-md"},Q=["textContent"],X={class:"hstack gap-3 flex h-8"},Y=t("div",{class:"vr"},null,-1),Z={class:"text-muted"},$=["textContent"],tt=["textContent"],et=t("div",{class:"vr"},null,-1),st={class:"text-muted"},nt=["textContent"],ot=["textContent"],lt=t("div",{class:"vr"},null,-1),at=["textContent"],it={class:"lg:flex gap-6 mt-4"},dt={class:"col-xxl-9 col-lg-8 w-full"},ct={class:"card"},rt={class:"card-body p-4"},_t=["textContent"],mt=["textContent"],ut=["textContent"],ht={class:"card-body p-4"},xt=["textContent"],ft={"data-simplebar":"init",style:{"max-height":"300px"},class:"overflow-y-auto"},pt={class:"simplebar-wrapper"},vt=t("div",{class:"simplebar-height-auto-observer-wrapper"},[t("div",{class:"simplebar-height-auto-observer"})],-1),bt={class:"simplebar-mask"},yt={class:"simplebar-offset"},gt={class:"simplebar-content-wrapper",tabindex:"0",role:"region","aria-label":"scrollable content"},Ct={class:"simplebar-content"},wt={class:"gap-2 mb-4"},kt={key:0,class:"flex-grow-1 ms-3"},St={class:"fs-13 flex gap-2"},Ft=["textContent"],jt=["textContent"],Et=["onClick"],Tt=["textContent"],Nt=["checked"],Rt=["textContent"],Pt={action:"/api/update",method:"POST","data-refresh":"1",id:"comment-reply-form",class:"action my-2 rounded-lg pb-2"},At=t("input",{name:"type",type:"hidden",value:"ForumComment.update"},null,-1),Vt=["value"],Dt={class:"row g-3"},Ot={class:"col-lg-12"},Lt=["textContent"],Mt={class:"col-lg-12 text-end mt-4"},Ut=["textContent"],Bt={action:"/api/update",method:"POST","data-refresh":"1",id:"post-reply-form",class:"action my-2 rounded-lg pb-2"},It=t("input",{name:"type",type:"hidden",value:"Forum.update"},null,-1),qt=["value"],zt=["value"],Jt=["value"],Gt={class:"row g-3"},Ht={class:"col-lg-12"},Wt=["textContent"],Kt={class:"col-lg-12 text-end mt-4"},Qt=["textContent"],Xt={key:0,action:"/api/create",method:"POST","data-refresh":"1",id:"add-comment-form",class:"action my-2 rounded-lg pb-2"},Yt=t("input",{name:"type",type:"hidden",value:"ForumComment.create"},null,-1),Zt=["value"],$t={class:"lg:px-0 gap-6 sm:flex sm:items-center sm:justify-between sm:py-4 sm:px-6"},te={class:"w-full mt-1 text-gray-900 sm:mt-0"},ee=["textContent"],se=["placeholder"],ne={class:"w-full mt-1 text-gray-900 sm:mt-0"},oe=["textContent"],le=["placeholder"],ae={class:"row g-3"},ie={class:"col-lg-12"},de=["textContent"],ce=t("textarea",{name:"params[content]",class:"form-control bg-light border-light",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Enter comments"},null,-1),re={class:"col-lg-12 text-end mt-4"},_e=["textContent"],me={class:""},ue={class:"card"},he={class:"card-header"},xe=["textContent"],fe={class:"card-body"},pe={action:"/api/update",method:"POST",id:"edit-item-form",class:"action my-2 rounded-lg pb-2"},ve=t("input",{name:"type",type:"hidden",value:"Forum.update"},null,-1),be=["value"],ye={class:"table-responsive table-card"},ge={class:"table table-borderless align-middle mb-0 w-full"},Ce=["textContent"],we={class:"py-2"},ke=["href","textContent"],Se=["textContent"],Fe={id:"t-client",class:"py-2"},je=["textContent","value"],Ee=["textContent"],Te={id:"t-client",class:"py-2"},Ne=["textContent","value"],Re=["textContent"],Pe={id:"t-client",class:"py-2"},Ae=["textContent"],Ve=["textContent"],De=["textContent"],Oe=["textContent"],Le=["textContent"],Me=["textContent"],Ue=["textContent"],Be=["textContent"],Ie=t("td",{class:"fw-medium py-2"},null,-1),qe={id:"d-date",class:"py-2 flex"},ze=["textContent"];function Je(m,d,o,e,v,u){const a=b("vue-feather"),c=b("form_field");return l(),i("div",M,[t("div",U,[t("div",B,[t("div",I,[t("div",q,[t("div",z,[t("div",J,[t("div",G,[t("div",H,[t("div",W,[x(a,{type:"clipboard"})]),t("div",K,[t("h4",{class:"fw-semibold px-1",id:"ticket-title",textContent:s(o.item.customer_name)},null,8,Q),t("div",X,[Y,t("div",Z,[t("span",{textContent:s(e.translate("Created at"))},null,8,$),C(" : "),t("span",{class:"fw-medium",id:"create-date",textContent:s(o.item.date)},null,8,tt)]),et,t("div",st,[t("span",{textContent:s(e.translate("Last update"))},null,8,nt),C(" : "),t("span",{class:"fw-medium",id:"update-date",textContent:s(o.item.update_date)},null,8,ot)]),lt,o.item.status?(l(),i("div",{key:0,class:S(["badge rounded-pill fs-12 text-white",o.item.status=="0"?"bg-info":"bg-success"]),id:"ticket-status",textContent:s(o.item.status=="0"?"disabled":"active")},null,10,at)):_("",!0)])]),t("span",{class:"w-auto py-2 px-4 cursor-pointer text-lg",onClick:d[0]||(d[0]=n=>e.emit("callback"))},[x(a,{class:"w-5",type:"x-circle"})])])])])])])])]),t("div",it,[t("div",dt,[t("div",ct,[t("div",rt,[t("h6",{class:"fw-semibold text-uppercase mb-3",textContent:s(e.translate("Ticket Discripation"))},null,8,_t),t("h3",{class:"fw-semibold text-uppercase mb-3",textContent:s(o.item.subject)},null,8,mt),t("p",{class:"text-muted font-bold pt-10",textContent:s(o.item.content)},null,8,ut)]),t("div",ht,[t("h5",{class:"card-title text-sm font-semibold mb-4",textContent:s(e.translate("Comments"))},null,8,xt),t("div",ft,[t("div",pt,[vt,t("div",bt,[t("div",yt,[t("div",gt,[t("div",Ct,[(l(!0),i(f,null,p(o.item.comments,n=>(l(),i("div",wt,[n.user_name?(l(),i("div",kt,[t("h5",St,[t("span",{class:"flex-none",textContent:s(n.user_name)},null,8,Ft),t("small",{class:"w-full text-muted",textContent:s(n.date)},null,8,jt),t("div",{onClick:y=>e.setCommentStatus(n),class:"py-4 flex gap gap-2 cursor-pointer flex-none"},[t("span",{class:S([n.status!="on"?"bg-gray-200":"bg-red-400","mx-2 mt-1 bg-red-400 block h-4 relative rounded-full w-8 border border-1 border-danger-subtle"]),style:{direction:"ltr"}},[t("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:N({left:n.status=="on"?"16px":0})},null,4)],2),t("span",{textContent:s(n.status=="on"?e.translate("Active"):e.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,Tt),t("input",{value:"on",checked:n.status=="on",type:"checkbox",class:"hidden"},null,8,Nt)],8,Et)]),t("p",{class:"text-muted",textContent:s(n.content)},null,8,Rt)])):_("",!0),t("form",Pt,[At,t("input",{name:"params[id]",type:"hidden",value:n.id},null,8,Vt),t("div",Dt,[t("div",Ot,[t("label",{for:"exampleFormControlTextarea1",class:"form-label fs-1 fw-bold",textContent:s(e.translate("Doctor Reply"))},null,8,Lt),x(c,{onCallback:e.handleReply,column:{column_type:"editor",key:"reply"},model:n,item:n,conf:o.conf},null,8,["onCallback","model","item","conf"])]),t("div",Mt,[t("button",{type:"submit",class:"btn btn-primary",textContent:s(e.translate("Send"))},null,8,Ut)])])])]))),256))])])])])])]),t("form",Bt,[It,t("input",{name:"params[id]",type:"hidden",value:o.item.id},null,8,qt),t("input",{name:"params[status]",type:"hidden",value:o.item.status},null,8,zt),t("input",{name:"params[reply]",type:"hidden",value:o.item.reply},null,8,Jt),t("div",Gt,[t("div",Ht,[t("label",{for:"exampleFormControlTextarea1",class:"form-label fs-1 fw-bold",textContent:s(e.translate("Doctor Reply"))},null,8,Wt),x(c,{onCallback:e.handleReply,column:{column_type:"editor",key:"reply"},model:o.item,item:o.item,conf:o.conf},null,8,["onCallback","model","item","conf"])]),t("div",Kt,[t("button",{type:"submit",class:"btn btn-primary",textContent:s(e.translate("Send"))},null,8,Qt)])])]),e.showCommentForm?(l(),i("form",Xt,[Yt,t("input",{name:"params[item_id]",type:"hidden",value:o.item.id},null,8,Zt),t("div",$t,[t("dd",te,[t("p",{textContent:s(e.translate("Name"))},null,8,ee),t("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-first-name",type:"text",placeholder:e.translate("Name"),name:"params[user_name]"},null,8,se)]),t("dd",ne,[t("p",{textContent:s(e.translate("Email"))},null,8,oe),t("input",{type:"email",class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-email",placeholder:e.translate("ENTER Email"),name:"params[user_email]"},null,8,le)])]),t("div",ae,[t("div",ie,[t("label",{for:"exampleFormControlTextarea1",class:"form-label",textContent:s(e.translate("WRITE_COMMENT"))},null,8,de),ce]),t("div",re,[t("button",{type:"submit",class:"btn btn-primary",textContent:s(e.translate("Send"))},null,8,_e)])])])):_("",!0)])])]),t("div",me,[t("div",ue,[t("div",he,[t("h5",{class:"card-title mb-0",textContent:s(e.translate("Ticket Details"))},null,8,xe)]),t("div",fe,[t("form",pe,[ve,t("input",{name:"params[id]",type:"hidden",value:o.item.id},null,8,be),t("div",ye,[t("table",ge,[t("tbody",null,[t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("ID"))},null,8,Ce),t("td",we,[C("#"),t("a",{target:"_blank",href:"/forum-post/"+o.item.id,textContent:s(o.item.id)},null,8,ke)])]),t("tr",null,[t("td",{class:"fw-medium py-2 w-32",textContent:s(e.translate("Assigned Doctor"))},null,8,Se),t("td",Fe,[w(t("select",{"onUpdate:modelValue":d[1]||(d[1]=n=>o.item.doctor_id=n),name:"params[doctor_id]",class:"form-control form-control-solid border border-gray-600"},[(l(!0),i(f,null,p(o.doctors,n=>(l(),i("option",{textContent:s(n.title),value:n.id},null,8,je))),256))],512),[[k,o.item.doctor_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Category"))},null,8,Ee),t("td",Te,[w(t("select",{"onUpdate:modelValue":d[2]||(d[2]=n=>o.item.category_id=n),name:"params[category_id]",class:"form-control form-control-solid border border-gray-600"},[(l(!0),i(f,null,p(o.categories,n=>(l(),i("option",{textContent:s(n.title),value:n.id},null,8,Ne))),256))],512),[[k,o.item.category_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Status"))},null,8,Re),t("td",Pe,[w(t("select",{"onUpdate:modelValue":d[3]||(d[3]=n=>o.item.status=n),name:"params[status]",class:"form-control form-control-solid border border-gray-600"},[t("option",{textContent:s(e.translate("Active")),value:"on"},null,8,Ae),t("option",{textContent:s(e.translate("Inactive")),value:"0"},null,8,Ve)],512),[[k,o.item.status]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Name"))},null,8,De),t("td",{class:"py-2",textContent:s(o.item.customer_name)},null,8,Oe)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Email"))},null,8,Le),t("td",{class:"py-2",textContent:s(o.item.customer_email)},null,8,Me)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Phone"))},null,8,Ue),t("td",{class:"py-2",textContent:s(o.item.customer_phone)},null,8,Be)]),t("tr",null,[Ie,t("td",qe,[t("button",{textContent:s(e.translate("Update")),type:"submit",class:"btn btn-danger block text-center"},null,8,ze)])])])])])])])])])])])])}const Ge=E(L,[["render",Je]]),He={components:{item_details:Ge,translate:r},setup(m){const d=m.conf.url+m.path+"?load=json",o=h({}),e=h({}),v=h(!1),u=h(!1),a=h("0"),c=()=>{u.value=!1,e.value=null},n=g=>{a.value=g};(()=>{V(d).then(g=>{o.value=JSON.parse(JSON.stringify(g))})})();let T=[{text:r("Inactive"),status:"0",icon:"delete",desc:r("New posts those not opened yet")},{text:r("Active"),status:"on",icon:"check-square",desc:r("posts needs customer reply")}];return{content:o,activeItem:e,closeMessage:c,switchStatus:n,showAddSide:v,showEditSide:u,activeStatus:a,statusList:T,translate:r}},props:["path","langs","setting","conf","auth"]},We={class:"w-full"},Ke={key:1,class:"container-fluid"},Qe={class:"card"},Xe={class:"card-body"},Ye={class:"d-flex flex-column flex-xl-row p-7"},Ze={class:"flex-lg-row-fluid me-xl-15 mb-20 mb-xl-0"},$e={class:"mb-0"},ts={key:0,method:"post",action:"#",class:"form mb-15"},es=D('<div class="position-relative"><i class="ki-duotone ki-magnifier fs-1 text-primary position-absolute top-50 translate-middle ms-9"><span class="path1"></span><span class="path2"></span></i><input type="text" class="form-control form-control-lg form-control-solid ps-14" name="search" value="" placeholder="Search"></div>',1),ss=[es],ns=["textContent"],os={class:"w-full"},ls=["onClick"],as={class:"flex-col justify-start items-start gap-2.5 flex"},is={class:"mt-2 justify-start items-start gap-2.5 inline-flex"},ds={class:"px-2.5 py-1 bg-blue-100 rounded-lg justify-center items-center gap-2.5 flex"},cs=["textContent"],rs=["textContent"],_s={class:"flex w-full"},ms={key:0,class:"w-full justify-start items-center gap-2 inline-flex"},us={class:"relative flex"},hs=["src"],xs={class:"justify-between items-center flex"},fs={class:"flex-col justify-start items-start inline-flex"},ps={class:"justify-start items-center gap-1 inline-flex"},vs=["textContent"],bs=["textContent"],ys={class:"justify-start gap-10 flex items-center p-2 flex-none"},gs={class:"flex gap-1 text-sm mx-2 font-normal relative items-center"},Cs=["textContent"],ws=["textContent"],ks=t("img",{src:"/src/front_assets/svg/views.svg",width:"40"},null,-1),Ss={class:"flex gap-1 text-sm mx-2 font-normal relative items-center"},Fs=["textContent"],js=["textContent"],Es=t("img",{src:"/src/front_assets/svg/comments.svg",width:"40"},null,-1),Ts={class:"flex-column flex-lg-row-auto w-100 mw-lg-300px mw-xxl-350px"},Ns={class:"card-rounded flex gap-10 mb-15 py-3 px-6"},Rs={class:"d-flex align-items-center mb-10 gap-2"},Ps=["onClick"],As=["textContent"];function Vs(m,d,o,e,v,u){const a=b("item_details"),c=b("vue-feather");return l(),i("div",We,[e.showEditSide&&e.content?(l(),A(a,{key:0,item:e.activeItem,doctors:e.content.doctors,categories:e.content.categories,ref:"activeForumPost",onCallback:e.closeMessage},null,8,["item","doctors","categories","onCallback"])):_("",!0),e.showEditSide?_("",!0):(l(),i("div",Ke,[t("div",Qe,[t("div",Xe,[t("div",Ye,[t("div",Ze,[t("div",$e,[e.content.showSearchForm?(l(),i("form",ts,ss)):_("",!0),t("h1",{class:"text-gray-900 mb-10",textContent:s(e.content.title)},null,8,ns),(l(!0),i(f,null,p(e.content.items,n=>(l(),i("div",os,[n.status==e.activeStatus?(l(),i("div",{key:0,onClick:y=>(e.activeItem=n,e.showEditSide=!0),class:"w-full flex-col justify-start items-start gap-10 inline-flex bg-gray-100 p-4 rounded-lg shadow-md bg-white mb-4"},[t("div",as,[t("div",is,[t("div",ds,[t("div",{class:"font-normal text-sm leading-none",textContent:s(n.category?n.category.title:"")},null,8,cs)])]),t("a",{href:"javascript:;",class:"pt-1 text-lg font-semibold leading-relaxed purple-color hover:text-gray-500",textContent:s(n.subject)},null,8,rs)]),t("div",_s,[n.doctor?(l(),i("div",ms,[t("div",us,[t("img",{class:"w-10 h-10 relative rounded-full",src:n.doctor?n.doctor.picture:""},null,8,hs)]),t("div",xs,[t("div",fs,[t("div",ps,[t("div",{class:"text-sm font-semibold text-gray-500",textContent:s(n.doctor.title)},null,8,vs)]),t("div",{class:"text-sm pt-1 font-normal leading-none text-gray-800",textContent:s(e.translate("Answered By"))},null,8,bs)])])])):_("",!0),t("div",ys,[t("div",gs,[t("span",{class:"tooltiptext",textContent:s(e.translate("Views"))},null,8,Cs),t("span",{class:"pt-2",textContent:s(n.views_sum_times)},null,8,ws),ks]),t("div",Ss,[t("span",{class:"tooltiptext",textContent:s(e.translate("Comments"))},null,8,Fs),t("span",{class:"pt-2",textContent:s(n.comments.length)},null,8,js),Es])])])],8,ls)):_("",!0)]))),256))])]),t("div",Ts,[t("div",Ns,[(l(!0),i(f,null,p(e.statusList,n=>(l(),i("div",Rs,[x(c,{class:"w-6 pb-2",type:n.icon},null,8,["type"]),t("div",{class:"d-flex flex-column cursor-pointer",onClick:y=>e.switchStatus(n.status)},[t("h5",{class:S(["",n.status==e.activeStatus?"text-danger":"text-gray-500"]),textContent:s(n.text)},null,10,As)],8,Ps)]))),256))])])])])])]))])}const Os=E(He,[["render",Vs]]);export{Os as default};
