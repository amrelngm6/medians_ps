import{_ as b,o as l,c as a,d as i,a as e,r as h,t as r,b as _,m as x,w as p,v as f}from"./index-SroOd78B.js";const v={name:"ActionButtons",methods:{handleAction(s){this.$root.$children[0].$refs.activeTab.$refs.data_table?this.$root.$children[0].$refs.activeTab.$refs.data_table.handleAction(s,this.data):this.$root.$children[0].$refs.activeTab.handleAction(s,this.data)}},props:{data:{type:Object,required:!0}}},y={class:"action-buttons flex gap-6 gap text-base"},k=e("i",{class:"fa fa-edit"},null,-1),A=[k],C=e("i",{class:"fa fa-trash"},null,-1),T=[C];function $(s,t,c,g,o,n){return l(),a("div",y,[c.data.not_editable?i("",!0):(l(),a("button",{key:0,class:"hover:text-gray-600 text-purple",onClick:t[0]||(t[0]=u=>n.handleAction("edit"))},A)),c.data.not_removeable?i("",!0):(l(),a("button",{key:1,class:"hover:text-red-400 text-red-600",onClick:t[1]||(t[1]=u=>n.handleAction("delete"))},T))])}const m=b(v,[["render",$]]),S={components:{dataTableActions:m},name:"pages",data(){return{url:this.conf.url+this.path+"?load=json",content:{title:"",items:[],columns:[]},activeItem:{},showAddSide:!1,showEditSide:!1,showLoader:!0}},computed:{bindings(){return this.content.columns.push({key:this.__("actions"),component:m,sortable:!1}),{columns:this.content.columns,data:this.content.items}}},props:["path","lang","setting","conf","auth"],mounted(){this.load()},methods:{handleAction(s,t){switch(s){case"view":window.open(this.conf.url+t.content.prefix);break;case"edit":window.open(this.conf.url+"builder?prefix="+t.content.prefix);break;case"delete":this.$parent.delete(t,"Page.delete");break}console.log(s,t)},load(){this.showLoader=!0,this.$parent.handleGetRequest(this.url).then(s=>{this.setValues(s),this.showLoader=!1})},setValues(s){return this.content=JSON.parse(JSON.stringify(s)),this},__(s){return this.$root.$children[0].__(s)}}},L={class:"w-full flex overflow-auto",style:{height:"85vh","z-index":"9999"}},V={class:"w-full relative"},N={key:0,class:"mx-auto mt-10 absolute top-0 left-0 right-0 bottom-0 m-auto w-40 h-40"},q=["src"],B={key:1,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},D={class:"px-4 mb-6 py-4 rounded-lg shadow-lg bg-white dark:bg-gray-700 flex w-full"},E=["textContent"],O=e("hr",{class:"mt-2"},null,-1),P={class:"w-full flex gap gap-6"},j={key:0,class:"col-md-3 sidebar-create-form"},I={class:"mb-6 p-4 rounded-lg shadow-lg bg-white dark:bg-gray-700"},J={action:"/api/create",method:"POST","data-refresh":"1",id:"add-device-form",class:"action py-0 m-auto rounded-lg max-w-xl pb-10"},R={class:"w-full flex"},U={class:"w-full m-auto max-w-xl text-base mb-10"},z=e("input",{name:"type",type:"hidden",value:"Page.create"},null,-1),G=e("input",{name:"params[status]",type:"hidden",value:"1"},null,-1),M=["textContent"],W=["textContent"],F=["placeholder"],H=["textContent"];function K(s,t,c,g,o,n){const u=h("data-table"),w=h("close_icon");return l(),a("div",L,[e("div",V,[o.showLoader?(l(),a("div",N,[e("img",{src:c.conf.url+"uploads/images/loader.gif"},null,8,q)])):i("",!0),o.content&&!o.showLoader?(l(),a("main",B,[e("div",D,[e("h1",{class:"font-bold text-lg w-full",textContent:r(o.content.title)},null,8,E),e("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg menu-dark hover:bg-purple-800",onClick:t[0]||(t[0]=d=>{o.showLoader=!0,o.showAddSide=!0,o.showLoader=!1})},r(n.__("add_new")),1)]),O,e("div",P,[_(u,x({ref:"pages",onActionTriggered:n.handleAction},n.bindings),null,16,["onActionTriggered"]),o.showAddSide?(l(),a("div",j,[e("div",I,[e("form",J,[e("div",R,[e("h1",U,r(n.__("ADD_NEW")),1),e("span",{class:"cursor-pointer py-1 px-2",onClick:t[1]||(t[1]=d=>(o.showAddSide=!1,o.activeItem={}))},[_(w)])]),z,G,p(e("input",{name:"params[title]",type:"hidden","onUpdate:modelValue":t[2]||(t[2]=d=>s.altTitle=d)},null,512),[[f,s.altTitle]]),e("span",{class:"block my-2",textContent:r(n.__("title")+" AR")},null,8,M),p(e("input",{name:"params[content][ar][title]",required:"",type:"text",class:"h-12 mt-3 rounded w-full border px-3 text-gray-700 focus:border-blue-100 dark:bg-gray-800 dark:border-gray-600","onUpdate:modelValue":t[3]||(t[3]=d=>s.altTitle=d)},null,512),[[f,s.altTitle]]),e("span",{class:"block mb-2",textContent:r(n.__("title")+" EN")},null,8,W),e("input",{name:"params[content][en][title]",required:"",type:"text",class:"h-12 mt-3 rounded w-full border px-3 text-gray-700 focus:border-blue-100 dark:bg-gray-800 dark:border-gray-600",placeholder:n.__("Title")},null,8,F),e("button",{class:"uppercase h-12 mt-3 text-white w-full rounded bg-red-700 hover:bg-red-800",textContent:r(n.__("save"))},null,8,H)])])])):i("",!0)])])):i("",!0)])])}const X=b(S,[["render",K]]);export{X as default};
