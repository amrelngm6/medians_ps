import{_ as E,D as A,e as I,z as N,A as L,R as P,f as n,t as R,r as u,o,c,l as D,k as d,g as a,h as b,B as T,C as F,E as M,F as B,i as W,a as O,G as p,d as x,b as g,m as z,p as j,O as J}from"./index.min.js";const U=x(()=>g(()=>import("./map-9tewgzv7.min.js"),__vite__mapDeps([0,1,2,3]))),Y=x(()=>g(()=>import("./trip_page-iVvGd1gu.min.js"),__vite__mapDeps([4,2,3,1]))),q=x(()=>g(()=>import("./usertype_picker-6vvA9vKc.min.js"),__vite__mapDeps([5,2,3]))),G=x(()=>g(()=>import("./privateTripWizard-EKMfW2vH.min.js"),__vite__mapDeps([6,2,3,7,1,8,9]))),K={components:{datatabble:A,maps:U,delete_icon:I,car_icon:N,route_icon:L,trip_page:Y,usertype_picker:q,private_trip_wizard:G,VueTailwindDatepicker:P},name:"Private trips",setup(m){const s=n({startDate:"",endDate:""}),l=n({date:"YYYY-MM-DD",month:"MMM"}),e=m.conf.url+m.path+"?load=json";n(null);const _=n({}),i=n({}),h=n([]),k=n(!1),v=n(!1),f=n(!1),C=n(""),y=n("#");(()=>{z(e).then(r=>{i.value=JSON.parse(JSON.stringify(r)),y.value=i.value.columns[1].value})})();const V=(r,w)=>{switch(r){case"view":break;case"edit":_.value=w,v.value=!0;break;case"delete":j("trip_id",w,"PrivateTrip.delete");break}},S=()=>{_.value.usertype=="employee"&&(h.value=i.value.employees),_.value.usertype=="supervisor"&&(h.value=i.value.supervisors)};return{handleSelectedDate:r=>{z(m.conf.url+m.path+"?start_date="+r.startDate+"&end_date="+r.endDate+"&load=json").then(w=>{i.value=JSON.parse(JSON.stringify(w))})},usersList:h,showWizard:v,setType:r=>{_.value.usertype=r,f.value=!1,v.value=!0,S()},showOptions:f,showTrip:k,url:e,content:i,activeItem:_,searchValue:C,searchField:y,translate:R,handleAction:V,dateValue:s,formatter:l}},props:["path","lang","business_setting","system_setting","conf","auth","currency"]},H={class:"w-full overflow-auto"},Q={key:2,class:"w-full relative"},X={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},Z=["textContent"],$=["textContent"],ee={class:"w-full bg-white"},te={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex"},ae={class:"card-title"},se={class:"d-flex align-items-center position-relative my-1"},ne=J('<div id="kt_ecommerce_report_views_export" class="d-none"><div class="dt-buttons btn-group flex-wrap"><button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Copy</span></button> <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Excel</span></button> <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>CSV</span></button> <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>PDF</span></button></div></div>',1),oe={class:"card-toolbar flex-row-fluid justify-content-end gap-5 w-200px"},le={class:"w-150px"},re=["textContent","value"],ie={class:"card-toolbar w-full flex-end"},ce={class:"w-full"},de=["src"],_e=["textContent"],ue=["textContent"],me=["onClick"],he=["onClick"];function ve(m,s,l,e,_,i){const h=u("private_trip_wizard"),k=u("usertype_picker"),v=u("vue-tailwind-datepicker"),f=u("vue-feather"),C=u("delete_icon"),y=u("datatabble");return o(),c("div",H,[e.showWizard&&e.activeItem.usertype?(o(),D(h,{onCallback:s[0]||(s[0]=t=>e.showWizard=!1),conf:l.conf,currency:l.currency,usertype:e.activeItem.usertype,userslist:e.usersList,key:e.showWizard,vehicles:e.content.vehicles,drivers:e.content.drivers,system_setting:l.system_setting,item:e.activeItem,business_setting:l.business_setting},null,8,["conf","currency","usertype","userslist","vehicles","drivers","system_setting","item","business_setting"])):d("",!0),!e.showWizard&&e.showOptions?(o(),D(k,{alias:e.translate("Need private trip"),disable_students:!0,key:e.showOptions,auth:l.auth,item:e.activeItem,onCallback:e.setType},null,8,["alias","auth","item","onCallback"])):d("",!0),!e.showWizard&&!e.showOptions&&e.content&&!e.showTrip?(o(),c("div",Q,[e.content?(o(),c("main",{key:e.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[a("div",X,[a("h1",{class:"font-bold text-lg w-full",textContent:b(e.content.title)},null,8,Z),a("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:s[1]||(s[1]=t=>e.showOptions=!0),textContent:b(e.translate("add_new"))},null,8,$)]),a("div",ee,[a("div",te,[a("div",ae,[a("div",se,[T(a("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>e.searchValue=t),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-125px",placeholder:"Search Report"},null,512),[[F,e.searchValue]])]),ne]),a("div",oe,[a("div",le,[T(a("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>e.searchField=t),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(o(!0),c(B,null,W(e.content.columns,t=>(o(),c("option",{textContent:b(t.text),value:t.value},null,8,re))),256))],512),[[M,e.searchField]])])]),a("div",ie,[a("div",ce,[O(v,{formatter:e.formatter,"onUpdate:modelValue":[s[4]||(s[4]=t=>e.handleSelectedDate(t)),s[5]||(s[5]=t=>e.dateValue=t)],separator:" - "+e.translate("To")+" - ",modelValue:e.dateValue},null,8,["formatter","separator","modelValue"])])])]),e.content.columns?(o(),D(y,{key:0,"search-field":e.searchField,"search-value":e.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":e.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:e.content.columns,items:e.content.items},{"item-picture":p(t=>[a("img",{src:t.picture,class:"w-8 h-8 rounded-full"},null,8,de)]),"item-total_cost":p(t=>[a("span",{class:"py-2",textContent:b(l.currency.symbol+""+t.total_cost)},null,8,_e)]),"item-subtotal":p(t=>[a("span",{class:"py-2",textContent:b(l.currency.symbol+""+t.total_cost)},null,8,ue)]),"item-details":p(t=>[t.not_editable?d("",!0):(o(),c("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:V=>e.handleAction("edit",t)},[O(f,{class:"w-5",type:"edit"})],8,me))]),"item-delete":p(t=>[t.not_removeable?d("",!0):(o(),c("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:V=>e.handleAction("delete",t)},[O(C,{class:"w-5"})],8,he))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):d("",!0)])])):d("",!0)])):d("",!0)])}const ye=E(K,[["render",ve]]);export{ye as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-9tewgzv7.min.js","index.es-1o16WfS3.min.js","index.min.js","index.min.css","trip_page-iVvGd1gu.min.js","usertype_picker-6vvA9vKc.min.js","privateTripWizard-EKMfW2vH.min.js","editable_map_location-TngG0iuf.min.js","tooltip-f44wegi-.min.js","trip_map-VjdXxrS9.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
