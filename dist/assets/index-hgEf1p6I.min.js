import{_ as k,t as _,a as y,o as l,c as i,d as t,g as v,e as s,i as b,n as w,b as r,F as p,f as C,w as j,v as E,l as T,s as N,r as f,u as D,j as F}from"./index.min.js";const L={components:{translate:_},emits:["callback"],setup(c,{emit:d}){return{translate:_,emit:d,close:()=>{if(!window.confirm(_("confirm_close_ticket")))return null;var e=new URLSearchParams;e.append("type","HelpMessage.close"),e.append("params[message_id]",c.item.message_id),e.append("params[status]","completed"),T(e,"/api/update").then(u=>{N(u.result)})}}},props:["path","langs","setting","conf","auth","doctors","item"]},M={class:"w-full"},V={class:"container-fluid"},A={class:"row"},B={class:"col-lg-12"},I={class:"card mt-n4 mx-n4 card-border-effect-none mb-n5 border-bottom-0 border-start-0 rounded-0"},O={class:"card-body pb-4 mb-0"},P={class:"row"},R={class:"col-md"},$={class:"flex align-items-center"},q={class:"px-1 pt-1"},J={class:"col-md"},U=["textContent"],z={class:"hstack gap-3 flex h-8"},G=t("div",{class:"vr"},null,-1),H={class:"text-muted"},W=["textContent"],K=["textContent"],Q=t("div",{class:"vr"},null,-1),X={class:"text-muted"},Y=["textContent"],Z=["textContent"],tt=t("div",{class:"vr"},null,-1),et=["textContent"],st={class:"lg:flex gap-6 mt-4"},nt={class:"col-xxl-9 w-full"},ot={class:"card"},lt={class:"card-body p-4"},at=["textContent"],it=["textContent"],ct=["textContent"],dt={class:"card-body p-4"},rt=["textContent"],_t={"data-simplebar":"init",style:{"max-height":"300px"},class:"overflow-y-auto"},mt={class:"simplebar-wrapper"},ut=t("div",{class:"simplebar-height-auto-observer-wrapper"},[t("div",{class:"simplebar-height-auto-observer"})],-1),ht={class:"simplebar-mask"},xt={class:"simplebar-offset"},ft={class:"simplebar-content-wrapper",tabindex:"0",role:"region","aria-label":"scrollable content"},vt={class:"simplebar-content"},pt={class:"flex gap-2 mb-4"},Ct={key:0,class:"flex-shrink-0"},gt=["src"],bt={key:1,class:"flex-grow-1 ms-3"},yt={class:"fs-13 flex gap-2"},wt=["textContent"],kt=["textContent"],St=["textContent"],jt={action:"/api/create",method:"POST","data-refresh":"1",id:"add-device-form",class:"action my-2 rounded-lg pb-2"},Et=t("input",{name:"type",type:"hidden",value:"ForumComment.create"},null,-1),Tt=["value"],Nt=["name"],Dt={class:"row g-3"},Ft={class:"col-lg-12"},Lt=["textContent"],Mt=t("textarea",{name:"params[comment]",class:"form-control bg-light border-light",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Enter comments"},null,-1),Vt={class:"col-lg-12 text-end mt-4"},At=["textContent"],Bt={class:"w-96"},It={class:"card"},Ot={class:"card-header"},Pt=["textContent"],Rt={class:"card-body"},$t={class:"table-responsive table-card"},qt={class:"table table-borderless align-middle mb-0 w-full"},Jt=["textContent"],Ut={class:"py-2"},zt=["textContent"],Gt=["textContent"],Ht={id:"t-client",class:"py-2"},Wt={name:"params[doctor_id]",class:"form-control form-control-solid border border-gray-600"},Kt=["textContent","value"],Qt=["textContent"],Xt={class:"py-2"},Yt=["textContent"],Zt=["textContent"],te={class:"py-2"},ee=["textContent"],se=["textContent"],ne=["textContent"],oe=["textContent"],le=["textContent"],ae=["textContent"],ie={id:"d-date",class:"py-2 flex"},ce=["textContent"];function de(c,d,o,e,u,h){const m=y("vue-feather");return l(),i("div",M,[t("div",V,[t("div",A,[t("div",B,[t("div",I,[t("div",O,[t("div",P,[t("div",R,[t("div",$,[t("div",q,[v(m,{type:"clipboard"})]),t("div",J,[t("h4",{class:"fw-semibold px-1",id:"ticket-title",textContent:s(o.item.customer_name)},null,8,U),t("div",z,[G,t("div",H,[t("span",{textContent:s(e.translate("Created at"))},null,8,W),b(" : "),t("span",{class:"fw-medium",id:"create-date",textContent:s(o.item.date)},null,8,K)]),Q,t("div",X,[t("span",{textContent:s(e.translate("Last update"))},null,8,Y),b(" : "),t("span",{class:"fw-medium",id:"update-date",textContent:s(o.item.update_date)},null,8,Z)]),tt,o.item.status?(l(),i("div",{key:0,class:w(["badge rounded-pill fs-12 text-white",o.item.status=="0"?"bg-info":"bg-success"]),id:"ticket-status",textContent:s(o.item.status=="0"?"disabled":"active")},null,10,et)):r("",!0)])]),t("span",{class:"w-auto py-2 px-4 cursor-pointer text-lg",onClick:d[0]||(d[0]=a=>e.emit("callback"))},[v(m,{class:"w-5",type:"x-circle"})])])])])])])])]),t("div",st,[t("div",nt,[t("div",ot,[t("div",lt,[t("h6",{class:"fw-semibold text-uppercase mb-3",textContent:s(e.translate("Ticket Discripation"))},null,8,at),t("h3",{class:"fw-semibold text-uppercase mb-3",textContent:s(o.item.subject)},null,8,it),t("p",{class:"text-muted font-bold pt-10",textContent:s(o.item.content)},null,8,ct)]),t("div",dt,[t("h5",{class:"card-title text-sm font-semibold mb-4",textContent:s(e.translate("Comments"))},null,8,rt),t("div",_t,[t("div",mt,[ut,t("div",ht,[t("div",xt,[t("div",ft,[t("div",vt,[(l(!0),i(p,null,C(o.item.comments,a=>(l(),i("div",pt,[a.user?(l(),i("div",Ct,[t("img",{src:o.item.user.photo?o.item.user.photo:o.item.user.picture,alt:"",class:"h-10 w-10 mt-2 avatar-xs rounded-circle"},null,8,gt)])):r("",!0),a.user?(l(),i("div",bt,[t("h5",yt,[t("span",{textContent:s(a.user.name)},null,8,wt),t("small",{class:"text-muted",textContent:s(a.date)},null,8,kt)]),t("p",{class:"text-muted",textContent:s(a.comment)},null,8,St)])):r("",!0)]))),256))])])])])])]),t("form",jt,[Et,t("input",{name:"params[message_id]",type:"hidden",value:o.item.message_id},null,8,Tt),c.model_id&&c.column&&c.column.column_type=="hidden"?j((l(),i("input",{key:0,name:"params["+c.column.key+"]",type:"hidden","onUpdate:modelValue":d[1]||(d[1]=a=>c.column.default=a)},null,8,Nt)),[[E,c.column.default]]):r("",!0),t("div",Dt,[t("div",Ft,[t("label",{for:"exampleFormControlTextarea1",class:"form-label",textContent:s(e.translate("WRITE_COMMENT"))},null,8,Lt),Mt]),t("div",Vt,[t("button",{type:"submit",href:"javascript:void(0);",class:"btn btn-primary",textContent:s(e.translate("Send"))},null,8,At)])])])])])]),t("div",Bt,[t("div",It,[t("div",Ot,[t("h5",{class:"card-title mb-0",textContent:s(e.translate("Ticket Details"))},null,8,Pt)]),t("div",Rt,[t("div",$t,[t("table",qt,[t("tbody",null,[t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("ID"))},null,8,Jt),t("td",Ut,[b("#"),t("span",{id:"t-no",textContent:s(o.item.id)},null,8,zt)])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Assigned Doctor"))},null,8,Gt),t("td",Ht,[t("select",Wt,[(l(!0),i(p,null,C(c.content.doctors,a=>(l(),i("option",{textContent:s(a.name),value:a.id},null,8,Kt))),256))])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Status"))},null,8,Qt),t("td",Xt,[t("span",{class:"font-bold",id:"t-status",textContent:s(o.item.status)},null,8,Yt)])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Priority"))},null,8,Zt),t("td",te,[t("span",{class:"badge bg-danger text-white",id:"t-priority",textContent:s(o.item.priority)},null,8,ee)])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Created at"))},null,8,se),t("td",{id:"c-date",class:"py-2",textContent:s(o.item.date)},null,8,ne)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Last update"))},null,8,oe),t("td",{id:"d-date",class:"py-2",textContent:s(o.item.last_update)},null,8,le)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Close ticket"))},null,8,ae),t("td",ie,[t("div",{onClick:d[3]||(d[3]=(...a)=>e.close&&e.close(...a)),class:"cursor-pointer hover:bg-red-800 hover:text-gray-100 px-3 py-2 text-sm border-red-600 border-1 rounded border mt-2 block text-center"},[v(m,{class:"w-4 mx-1",type:"power"}),t("span",{onClick:d[2]||(d[2]=(...a)=>e.close&&e.close(...a)),textContent:s(e.translate("Close"))},null,8,ce)])])])])])])])])])])])])}const re=k(L,[["render",de]]),_e={components:{item_details:re,translate:_},setup(c){const d=c.conf.url+c.path+"?load=json",o=f({}),e=f({}),u=f(!1),h=f(!1),m=f("0"),a=()=>{h.value=!1,e.value=null},n=x=>{m.value=x},g=x=>{h.value=!0,e.value=x};(()=>{F(d).then(x=>{o.value=JSON.parse(JSON.stringify(x))})})();let S=[{text:_("Inactive"),status:"0",icon:"delete",desc:_("New posts those not opened yet")},{text:_("Active"),status:"on",icon:"check-square",desc:_("posts needs customer reply")}];return{content:o,activeItem:e,closeMessage:a,switchStatus:n,showDetails:g,showAddSide:u,showEditSide:h,activeStatus:m,statusList:S,translate:_}},props:["path","langs","setting","conf","auth"]},me={class:"w-full"},ue={key:1,class:"container-fluid"},he={class:"card"},xe={class:"card-body"},fe={class:"d-flex flex-column flex-xl-row p-7"},ve={class:"flex-lg-row-fluid me-xl-15 mb-20 mb-xl-0"},pe={class:"mb-0"},Ce=t("form",{method:"post",action:"#",class:"form mb-15"},[t("div",{class:"position-relative"},[t("i",{class:"ki-duotone ki-magnifier fs-1 text-primary position-absolute top-50 translate-middle ms-9"},[t("span",{class:"path1"}),t("span",{class:"path2"})]),t("input",{type:"text",class:"form-control form-control-lg form-control-solid ps-14",name:"search",value:"",placeholder:"Search"})])],-1),ge=["textContent"],be={class:"w-full"},ye={key:0,class:"d-flex mb-10 gap-4"},we=["onClick"],ke={class:"d-flex align-items-center mb-2"},Se=["textContent"],je=["textContent"],Ee=["textContent"],Te=["textContent"],Ne={class:"w-full"},De=["onClick"],Fe={class:"flex-col justify-start items-start gap-2.5 flex"},Le={class:"mt-2 justify-start items-start gap-2.5 inline-flex"},Me={class:"px-2.5 py-1 bg-blue-100 rounded-lg justify-center items-center gap-2.5 flex"},Ve=["textContent"],Ae=["textContent"],Be={class:"flex w-full"},Ie={key:0,class:"w-full justify-start items-center gap-2 inline-flex"},Oe={class:"relative flex"},Pe=["src"],Re={class:"justify-between items-center flex"},$e={class:"flex-col justify-start items-start inline-flex"},qe={class:"justify-start items-center gap-1 inline-flex"},Je=["textContent"],Ue=["textContent"],ze={class:"justify-start gap-10 flex"},Ge={class:"flex gap-1 text-sm font-normal relative"},He=["textContent"],We=t("span",{class:"pt-2"},"1",-1),Ke=t("img",{src:"/src/front_assets/svg/views.svg",width:"40"},null,-1),Qe={class:"flex gap-1 text-sm font-normal relative"},Xe=["textContent"],Ye=t("span",{class:"pt-2"},"1",-1),Ze=t("img",{src:"/src/front_assets/svg/comments.svg",width:"40"},null,-1),ts={class:"flex gap-1 text-sm font-normal relative"},es=["textContent"],ss=t("span",{class:"pt-2"},"1",-1),ns=t("img",{src:"/src/front_assets/svg/shares.svg",width:"36"},null,-1),os={class:"flex-column flex-lg-row-auto w-100 mw-lg-300px mw-xxl-350px"},ls={class:"card-rounded flex gap-10 mb-15 py-3 px-6"},as={class:"d-flex align-items-center mb-10 gap-2"},is=["onClick"],cs=["textContent"];function ds(c,d,o,e,u,h){const m=y("item_details"),a=y("vue-feather");return l(),i("div",me,[e.showEditSide&&e.content?(l(),D(m,{key:0,item:e.activeItem,doctors:e.content.doctors,ref:"activeForumPost",onCallback:e.closeMessage},null,8,["item","doctors","onCallback"])):r("",!0),e.showEditSide?r("",!0):(l(),i("div",ue,[t("div",he,[t("div",xe,[t("div",fe,[t("div",ve,[t("div",pe,[Ce,t("h1",{class:"text-gray-900 mb-10",textContent:s(e.content.title)},null,8,ge),e.content.disable?(l(!0),i(p,{key:0},C(e.content.items,n=>(l(),i("div",be,[n.status==e.activeStatus?(l(),i("div",ye,[v(a,{type:"bell",class:"mt-5"}),t("div",{class:"d-flex flex-column",onClick:g=>(e.activeItem=n,e.showEditSide=!0)},[t("div",ke,[t("a",{href:"javascript:;",class:"font-semibold text-gray-800 text-hover-primary fs-4 me-3",textContent:s(n.customer_name)},null,8,Se),t("span",{class:"truncate max-w-sm badge badge-light my-1 bg-gray-100",textContent:s(n.subject)},null,8,je),t("span",{class:w(["badge badge-light mx-2 my-1 text-white",{"bg-primary":n.status=="on","bg-danger":n.status=="0"}]),textContent:s(n.status)},null,10,Ee)]),t("span",{class:"truncate text-muted fw-semibold fs-6",textContent:s(n.content)},null,8,Te)],8,we)])):r("",!0)]))),256)):r("",!0),(l(!0),i(p,null,C(e.content.items,n=>(l(),i("div",Ne,[n.status==e.activeStatus?(l(),i("div",{key:0,onClick:g=>(e.activeItem=n,e.showEditSide=!0),class:"w-full flex-col justify-start items-start gap-10 inline-flex bg-gray-100 p-4 rounded-lg shadow-md bg-white"},[t("div",Fe,[t("div",Le,[t("div",Me,[t("div",{class:"font-normal text-sm leading-none",textContent:s(n.category_name)},null,8,Ve)])]),t("a",{href:"javascript:;",class:"pt-1 text-lg font-semibold leading-relaxed purple-color hover:text-gray-500",textContent:s(n.subject)},null,8,Ae)]),t("div",Be,[n.doctor?(l(),i("div",Ie,[t("div",Oe,[t("img",{class:"w-10 h-10 relative rounded-full",src:n.doctor?n.doctor.picture:""},null,8,Pe)]),t("div",Re,[t("div",$e,[t("div",qe,[t("div",{class:"text-sm font-semibold text-gray-500",textContent:s(n.doctor.name)},null,8,Je)]),t("div",{class:"text-sm pt-1 font-normal leading-none text-gray-800",textContent:s(e.translate("Answered By"))},null,8,Ue)])])])):r("",!0),t("div",ze,[t("div",Ge,[t("span",{class:"tooltiptext",textContent:s(e.translate("Views"))},null,8,He),We,Ke]),t("div",Qe,[t("span",{class:"tooltiptext",textContent:s(e.translate("Comments"))},null,8,Xe),Ye,Ze]),t("div",ts,[t("span",{class:"tooltiptext",textContent:s(e.translate("Shares"))},null,8,es),ss,ns])])])],8,De)):r("",!0)]))),256))])]),t("div",os,[t("div",ls,[(l(!0),i(p,null,C(e.statusList,n=>(l(),i("div",as,[v(a,{type:n.icon},null,8,["type"]),t("div",{class:"d-flex flex-column cursor-pointer",onClick:g=>e.switchStatus(n.status)},[t("h5",{class:w(["",n.status==e.activeStatus?"text-gray-800":"text-gray-500"]),textContent:s(n.text)},null,10,cs)],8,is)]))),256))])])])])])]))])}const ms=k(_e,[["render",ds]]);export{ms as default};
