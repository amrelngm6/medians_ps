import{_ as V,D as j,e as I,y as O,z as L,f as o,t as M,r as m,o as l,c as d,g as k,h as i,i as a,j as v,A as b,a as C,d as S,b as W,m as R,s as z,C as J,E as q,p as G}from"./index.min.js";import{e as K}from"./editable_map_location-coU7ejna.min.js";import U from"./routeWizard-mHP5_-T7.min.js";import{t as F}from"./tooltip-s9Xa9pgY.min.js";import"./index.es-rMZ4nck9.min.js";import"./route_map-MdeaZHEJ.min.js";const H=S(()=>W(()=>import("./map-Ijj4GbGk.min.js"),__vite__mapDeps([0,1,2,3]))),Q=S(()=>W(()=>import("./form_field-wmEUbNYZ.min.js"),__vite__mapDeps([4,2,3,5,6,7,1]))),X={components:{datatabble:j,maps:H,delete_icon:I,car_icon:O,route_icon:L,form_field:Q,editable_map_location:K,route_wizard:U,tooltip:F},name:"Supervisors",setup(c){const n=c.conf.url+c.path+"?load=json",r=o(!1),t=o({}),g=o({}),x=o({}),_=o(!1),h=o([]),f=o(!1),u=o(""),s=()=>{r.value=!1};(()=>{R(n).then(e=>{g.value=JSON.parse(JSON.stringify(e))})})();const p=async()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{t.value.start_latitude=e.coords.latitude,t.value.start_longitude=e.coords.longitude,t.value.end_latitude=e.coords.latitude,t.value.end_longitude=e.coords.longitude},e=>{t.value.start_latitude=30.06,t.value.start_longitude=31.21,t.value.end_latitude=30.06,t.value.end_longitude=31.21,z(e.message)}):z("location error")},A=()=>{t.value={},_.value=!0,p()},E=async()=>{let e=u.value.length>3?await J(c.system_setting.google_map_api,u.value,c.business_setting.country):"";h.value=e.predictions},P=async e=>{t.value.start_latitude=e.lat(),t.value.start_longitude=e.lng(),t.value.start_address=await q(e.lat(),e.lng())},B=e=>{t.value.end_latitude=e.lat(),t.value.end_longitude=e.lng()},D=(e,w,bt)=>{},N=(e,w)=>{switch(e){case"view":break;case"edit":t.value=w,_.value=!0;break;case"delete":G("route_id",w,"Supervisor.delete");break;case"close":r.value=!1,t.value={};break}},T=o([]);return{showTip:o({}),showPlaceSearch:f,startPlaceChanged:E,start_placeSearch:u,places:h,waypoints:T,showEditSide:r,url:n,content:g,fillable,center:x,activeItem:t,translate:M,clickMarker:D,updateStartMarker:P,updateEndMarker:B,getUserLocation:p,showWizard:_,closeSide:s,addSupervisorWizard:A,handleAction:N}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},Y={class:"w-full flex overflow-auto"},Z={key:0,class:"w-full relative"},$={key:1,class:""},tt={class:"card"},et={class:"card-body"},st={class:"card-px text-center pt-15 pb-15"},at=["textContent"],ot=["textContent"],nt=["textContent"],lt={class:"text-center pb-15 px-5"},it=["src"],rt={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},dt={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},ct=["textContent"],_t=["textContent"],ut=a("hr",{class:"mt-2"},null,-1),vt={class:"w-full bg-white"},ht=["src"],mt=["onClick"],gt=["onClick"];function ft(c,n,r,t,g,x){const _=m("supervisor_wizard"),h=m("vue-feather"),f=m("delete_icon"),u=m("datatabble");return l(),d("div",Y,[t.content?(l(),d("div",Z,[t.showWizard?(l(),k(_,{onCallback:n[0]||(n[0]=s=>t.showWizard=!1),key:t.showWizard,routes:t.content.routes,system_setting:r.system_setting,item:t.activeItem,business_setting:r.business_setting,conf:r.conf},null,8,["routes","system_setting","item","business_setting","conf"])):i("",!0),!t.showWizard&&t.content.items&&!t.content.items.length?(l(),d("div",$,[a("div",tt,[a("div",et,[a("div",st,[a("h2",{class:"fs-2x fw-bold mb-0",textContent:v(t.content.title)},null,8,at),a("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:v(t.translate("Add your first Supervisor using this below wizard"))},null,8,ot),a("a",{textContent:v(t.translate("add_new")),onClick:n[1]||(n[1]=(...s)=>t.addSupervisorWizard&&t.addSupervisorWizard(...s)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,nt)]),a("div",lt,[a("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,it)])])])])):i("",!0),t.content.items&&!t.showWizard?(l(),d("main",rt,[a("div",dt,[a("h1",{class:"font-bold text-lg w-full",textContent:v(t.content.title)},null,8,ct),t.showWizard?i("",!0):(l(),d("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:n[2]||(n[2]=(...s)=>t.addSupervisorWizard&&t.addSupervisorWizard(...s)),textContent:v(t.translate("add_new"))},null,8,_t))]),ut,a("div",vt,[t.content.columns?(l(),k(u,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":b(s=>[a("img",{src:s.picture,class:"w-8 h-8 rounded-full"},null,8,ht)]),"item-edit":b(s=>[s.not_editable?i("",!0):(l(),d("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:y=>t.handleAction("edit",s)},[C(h,{class:"w-5",type:"edit"})],8,mt))]),"item-delete":b(s=>[s.not_removeable?i("",!0):(l(),d("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:y=>t.handleAction("delete",s)},[C(f,{class:"w-5"})],8,gt))]),_:1},8,["body-text-direction","headers","items"])):i("",!0)])])):i("",!0)])):i("",!0)])}const St=V(X,[["render",ft]]);export{St as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-Ijj4GbGk.min.js","index.es-rMZ4nck9.min.js","index.min.js","index.min.css","form_field-wmEUbNYZ.min.js","Field-8FxMyBm6.min.js","Field.min.css","editable_map_location-coU7ejna.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
