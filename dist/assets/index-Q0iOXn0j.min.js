import{_ as j,t as d,a as k,o as a,c as i,d as t,g as p,e as s,i as C,n as S,b as r,F as u,f as h,w as y,q as w,l as N,s as T,r as g,u as V,j as D}from"./index.min.js";const F={components:{translate:d},emits:["callback"],setup(m,{emit:c}){return{translate:d,emit:c,close:()=>{if(!window.confirm(d("confirm_close_ticket")))return null;var e=new URLSearchParams;e.append("type","HelpMessage.close"),e.append("params[message_id]",m.item.message_id),e.append("params[status]","completed"),N(e,"/api/update").then(x=>{T(x.result)})}}},props:["path","langs","setting","conf","auth","doctors","categories","item"]},A={class:"w-full"},M={class:"container-fluid"},B={class:"row"},I={class:"col-lg-12"},L={class:"card mt-n4 mx-n4 card-border-effect-none mb-n5 border-bottom-0 border-start-0 rounded-0"},O={class:"card-body pb-4 mb-0"},P={class:"row"},R={class:"col-md"},U={class:"flex align-items-center"},q={class:"px-1 pt-1"},J={class:"col-md"},z=["textContent"],G={class:"hstack gap-3 flex h-8"},H=t("div",{class:"vr"},null,-1),W={class:"text-muted"},K=["textContent"],Q=["textContent"],X=t("div",{class:"vr"},null,-1),Y={class:"text-muted"},Z=["textContent"],$=["textContent"],tt=t("div",{class:"vr"},null,-1),et=["textContent"],st={class:"lg:flex gap-6 mt-4"},nt={class:"col-xxl-9 col-lg-8 w-full"},ot={class:"card"},lt={class:"card-body p-4"},at=["textContent"],it=["textContent"],ct=["textContent"],dt={class:"card-body p-4"},rt=["textContent"],_t={"data-simplebar":"init",style:{"max-height":"300px"},class:"overflow-y-auto"},mt={class:"simplebar-wrapper"},ut=t("div",{class:"simplebar-height-auto-observer-wrapper"},[t("div",{class:"simplebar-height-auto-observer"})],-1),ht={class:"simplebar-mask"},xt={class:"simplebar-offset"},ft={class:"simplebar-content-wrapper",tabindex:"0",role:"region","aria-label":"scrollable content"},vt={class:"simplebar-content"},gt={class:"flex gap-2 mb-4"},bt={key:0,class:"flex-shrink-0"},pt=["src"],Ct={key:1,class:"flex-grow-1 ms-3"},yt={class:"fs-13 flex gap-2"},wt=["textContent"],kt=["textContent"],St=["textContent"],jt={action:"/api/create",method:"POST","data-refresh":"1",id:"add-comment-form",class:"action my-2 rounded-lg pb-2"},Et=t("input",{name:"type",type:"hidden",value:"ForumComment.create"},null,-1),Nt=["value"],Tt={class:"lg:px-0 gap-6 sm:flex sm:items-center sm:justify-between sm:py-4 sm:px-6"},Vt={class:"w-full mt-1 text-gray-900 sm:mt-0"},Dt=["textContent"],Ft=["placeholder"],At={class:"w-full mt-1 text-gray-900 sm:mt-0"},Mt=["textContent"],Bt=["placeholder"],It={class:"row g-3"},Lt={class:"col-lg-12"},Ot=["textContent"],Pt=t("textarea",{name:"params[content]",class:"form-control bg-light border-light",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Enter comments"},null,-1),Rt={class:"col-lg-12 text-end mt-4"},Ut=["textContent"],qt={class:"col-xxl-3 col-lg-4"},Jt={class:"card"},zt={class:"card-header"},Gt=["textContent"],Ht={class:"card-body"},Wt={action:"/api/update",method:"POST",id:"edit-item-form",class:"action my-2 rounded-lg pb-2"},Kt=t("input",{name:"type",type:"hidden",value:"Forum.update"},null,-1),Qt=["value"],Xt={class:"table-responsive table-card"},Yt={class:"table table-borderless align-middle mb-0 w-full"},Zt=["textContent"],$t={class:"py-2"},te=["href","textContent"],ee=["textContent"],se={id:"t-client",class:"py-2"},ne=["textContent","value"],oe=["textContent"],le={id:"t-client",class:"py-2"},ae=["textContent","value"],ie=["textContent"],ce={id:"t-client",class:"py-2"},de=["textContent"],re=["textContent"],_e=["textContent"],me=["textContent"],ue=["textContent"],he=["textContent"],xe=["textContent"],fe=["textContent"],ve=t("td",{class:"fw-medium py-2"},null,-1),ge={id:"d-date",class:"py-2 flex"},be=["textContent"];function pe(m,c,n,e,x,f){const _=k("vue-feather");return a(),i("div",A,[t("div",M,[t("div",B,[t("div",I,[t("div",L,[t("div",O,[t("div",P,[t("div",R,[t("div",U,[t("div",q,[p(_,{type:"clipboard"})]),t("div",J,[t("h4",{class:"fw-semibold px-1",id:"ticket-title",textContent:s(n.item.customer_name)},null,8,z),t("div",G,[H,t("div",W,[t("span",{textContent:s(e.translate("Created at"))},null,8,K),C(" : "),t("span",{class:"fw-medium",id:"create-date",textContent:s(n.item.date)},null,8,Q)]),X,t("div",Y,[t("span",{textContent:s(e.translate("Last update"))},null,8,Z),C(" : "),t("span",{class:"fw-medium",id:"update-date",textContent:s(n.item.update_date)},null,8,$)]),tt,n.item.status?(a(),i("div",{key:0,class:S(["badge rounded-pill fs-12 text-white",n.item.status=="0"?"bg-info":"bg-success"]),id:"ticket-status",textContent:s(n.item.status=="0"?"disabled":"active")},null,10,et)):r("",!0)])]),t("span",{class:"w-auto py-2 px-4 cursor-pointer text-lg",onClick:c[0]||(c[0]=l=>e.emit("callback"))},[p(_,{class:"w-5",type:"x-circle"})])])])])])])])]),t("div",st,[t("div",nt,[t("div",ot,[t("div",lt,[t("h6",{class:"fw-semibold text-uppercase mb-3",textContent:s(e.translate("Ticket Discripation"))},null,8,at),t("h3",{class:"fw-semibold text-uppercase mb-3",textContent:s(n.item.subject)},null,8,it),t("p",{class:"text-muted font-bold pt-10",textContent:s(n.item.content)},null,8,ct)]),t("div",dt,[t("h5",{class:"card-title text-sm font-semibold mb-4",textContent:s(e.translate("Comments"))},null,8,rt),t("div",_t,[t("div",mt,[ut,t("div",ht,[t("div",xt,[t("div",ft,[t("div",vt,[(a(!0),i(u,null,h(n.item.comments,l=>(a(),i("div",gt,[l.user?(a(),i("div",bt,[t("img",{src:n.item.user.photo?n.item.user.photo:n.item.user.picture,alt:"",class:"h-10 w-10 mt-2 avatar-xs rounded-circle"},null,8,pt)])):r("",!0),l.user?(a(),i("div",Ct,[t("h5",yt,[t("span",{textContent:s(l.user.name)},null,8,wt),t("small",{class:"text-muted",textContent:s(l.date)},null,8,kt)]),t("p",{class:"text-muted",textContent:s(l.comment)},null,8,St)])):r("",!0)]))),256))])])])])])]),t("form",jt,[Et,t("input",{name:"params[item_id]",type:"hidden",value:n.item.id},null,8,Nt),t("div",Tt,[t("dd",Vt,[t("p",{textContent:s(e.translate("Name"))},null,8,Dt),t("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-first-name",type:"text",placeholder:e.translate("Name"),name:"params[user_name]"},null,8,Ft)]),t("dd",At,[t("p",{textContent:s(e.translate("Email"))},null,8,Mt),t("input",{type:"email",class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-email",placeholder:e.translate("ENTER Email"),name:"params[user_email]"},null,8,Bt)])]),t("div",It,[t("div",Lt,[t("label",{for:"exampleFormControlTextarea1",class:"form-label",textContent:s(e.translate("WRITE_COMMENT"))},null,8,Ot),Pt]),t("div",Rt,[t("button",{type:"submit",class:"btn btn-primary",textContent:s(e.translate("Send"))},null,8,Ut)])])])])])]),t("div",qt,[t("div",Jt,[t("div",zt,[t("h5",{class:"card-title mb-0",textContent:s(e.translate("Ticket Details"))},null,8,Gt)]),t("div",Ht,[t("form",Wt,[Kt,t("input",{name:"params[id]",type:"hidden",value:n.item.id},null,8,Qt),t("div",Xt,[t("table",Yt,[t("tbody",null,[t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("ID"))},null,8,Zt),t("td",$t,[C("#"),t("a",{href:"/forum_post/"+n.item.id,textContent:s(n.item.id)},null,8,te)])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Assigned Doctor"))},null,8,ee),t("td",se,[y(t("select",{"onUpdate:modelValue":c[1]||(c[1]=l=>n.item.doctor_id=l),name:"params[doctor_id]",class:"form-control form-control-solid border border-gray-600"},[(a(!0),i(u,null,h(n.doctors,l=>(a(),i("option",{textContent:s(l.title),value:l.id},null,8,ne))),256))],512),[[w,n.item.doctor_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Category"))},null,8,oe),t("td",le,[y(t("select",{"onUpdate:modelValue":c[2]||(c[2]=l=>n.item.category_id=l),name:"params[category_id]",class:"form-control form-control-solid border border-gray-600"},[(a(!0),i(u,null,h(n.categories,l=>(a(),i("option",{textContent:s(l.title),value:l.id},null,8,ae))),256))],512),[[w,n.item.category_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Status"))},null,8,ie),t("td",ce,[y(t("select",{"onUpdate:modelValue":c[3]||(c[3]=l=>n.item.status=l),name:"params[status]",class:"form-control form-control-solid border border-gray-600"},[t("option",{textContent:s(e.translate("Active")),value:"on"},null,8,de),t("option",{textContent:s(e.translate("Inactive")),value:"0"},null,8,re)],512),[[w,n.item.status]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Name"))},null,8,_e),t("td",{class:"py-2",textContent:s(n.item.customer_name)},null,8,me)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Email"))},null,8,ue),t("td",{class:"py-2",textContent:s(n.item.customer_email)},null,8,he)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Phone"))},null,8,xe),t("td",{class:"py-2",textContent:s(n.item.customer_phone)},null,8,fe)]),t("tr",null,[ve,t("td",ge,[t("button",{textContent:s(e.translate("Update")),type:"submit",class:"btn btn-danger block text-center"},null,8,be)])])])])])])])])])])])])}const Ce=j(F,[["render",pe]]),ye={components:{item_details:Ce,translate:d},setup(m){const c=m.conf.url+m.path+"?load=json",n=g({}),e=g({}),x=g(!1),f=g(!1),_=g("0"),l=()=>{f.value=!1,e.value=null},o=v=>{_.value=v},b=v=>{f.value=!0,e.value=v};(()=>{D(c).then(v=>{n.value=JSON.parse(JSON.stringify(v))})})();let E=[{text:d("Inactive"),status:"0",icon:"delete",desc:d("New posts those not opened yet")},{text:d("Active"),status:"on",icon:"check-square",desc:d("posts needs customer reply")}];return{content:n,activeItem:e,closeMessage:l,switchStatus:o,showDetails:b,showAddSide:x,showEditSide:f,activeStatus:_,statusList:E,translate:d}},props:["path","langs","setting","conf","auth"]},we={class:"w-full"},ke={key:1,class:"container-fluid"},Se={class:"card"},je={class:"card-body"},Ee={class:"d-flex flex-column flex-xl-row p-7"},Ne={class:"flex-lg-row-fluid me-xl-15 mb-20 mb-xl-0"},Te={class:"mb-0"},Ve=t("form",{method:"post",action:"#",class:"form mb-15"},[t("div",{class:"position-relative"},[t("i",{class:"ki-duotone ki-magnifier fs-1 text-primary position-absolute top-50 translate-middle ms-9"},[t("span",{class:"path1"}),t("span",{class:"path2"})]),t("input",{type:"text",class:"form-control form-control-lg form-control-solid ps-14",name:"search",value:"",placeholder:"Search"})])],-1),De=["textContent"],Fe={class:"w-full"},Ae={key:0,class:"d-flex mb-10 gap-4"},Me=["onClick"],Be={class:"d-flex align-items-center mb-2"},Ie=["textContent"],Le=["textContent"],Oe=["textContent"],Pe=["textContent"],Re={class:"w-full"},Ue=["onClick"],qe={class:"flex-col justify-start items-start gap-2.5 flex"},Je={class:"mt-2 justify-start items-start gap-2.5 inline-flex"},ze={class:"px-2.5 py-1 bg-blue-100 rounded-lg justify-center items-center gap-2.5 flex"},Ge=["textContent"],He=["textContent"],We={class:"flex w-full"},Ke={key:0,class:"w-full justify-start items-center gap-2 inline-flex"},Qe={class:"relative flex"},Xe=["src"],Ye={class:"justify-between items-center flex"},Ze={class:"flex-col justify-start items-start inline-flex"},$e={class:"justify-start items-center gap-1 inline-flex"},ts=["textContent"],es=["textContent"],ss={class:"justify-start gap-10 flex items-center"},ns={class:"flex gap-1 text-sm mx-2 font-normal relative items-center"},os=["textContent"],ls=["textContent"],as=t("img",{src:"/src/front_assets/svg/views.svg",width:"40"},null,-1),is={class:"flex gap-1 text-sm mx-2 font-normal relative items-center"},cs=["textContent"],ds=["textContent"],rs=t("img",{src:"/src/front_assets/svg/comments.svg",width:"40"},null,-1),_s={class:"flex-column flex-lg-row-auto w-100 mw-lg-300px mw-xxl-350px"},ms={class:"card-rounded flex gap-10 mb-15 py-3 px-6"},us={class:"d-flex align-items-center mb-10 gap-2"},hs=["onClick"],xs=["textContent"];function fs(m,c,n,e,x,f){const _=k("item_details"),l=k("vue-feather");return a(),i("div",we,[e.showEditSide&&e.content?(a(),V(_,{key:0,item:e.activeItem,doctors:e.content.doctors,categories:e.content.categories,ref:"activeForumPost",onCallback:e.closeMessage},null,8,["item","doctors","categories","onCallback"])):r("",!0),e.showEditSide?r("",!0):(a(),i("div",ke,[t("div",Se,[t("div",je,[t("div",Ee,[t("div",Ne,[t("div",Te,[Ve,t("h1",{class:"text-gray-900 mb-10",textContent:s(e.content.title)},null,8,De),e.content.disable?(a(!0),i(u,{key:0},h(e.content.items,o=>(a(),i("div",Fe,[o.status==e.activeStatus?(a(),i("div",Ae,[p(l,{type:"bell",class:"mt-5"}),t("div",{class:"d-flex flex-column",onClick:b=>(e.activeItem=o,e.showEditSide=!0)},[t("div",Be,[t("a",{href:"javascript:;",class:"font-semibold text-gray-800 text-hover-primary fs-4 me-3",textContent:s(o.customer_name)},null,8,Ie),t("span",{class:"truncate max-w-sm badge badge-light my-1 bg-gray-100",textContent:s(o.subject)},null,8,Le),t("span",{class:S(["badge badge-light mx-2 my-1 text-white",{"bg-primary":o.status=="on","bg-danger":o.status=="0"}]),textContent:s(o.status)},null,10,Oe)]),t("span",{class:"truncate text-muted fw-semibold fs-6",textContent:s(o.content)},null,8,Pe)],8,Me)])):r("",!0)]))),256)):r("",!0),(a(!0),i(u,null,h(e.content.items,o=>(a(),i("div",Re,[o.status==e.activeStatus?(a(),i("div",{key:0,onClick:b=>(e.activeItem=o,e.showEditSide=!0),class:"w-full flex-col justify-start items-start gap-10 inline-flex bg-gray-100 p-4 rounded-lg shadow-md bg-white"},[t("div",qe,[t("div",Je,[t("div",ze,[t("div",{class:"font-normal text-sm leading-none",textContent:s(o.category_name)},null,8,Ge)])]),t("a",{href:"javascript:;",class:"pt-1 text-lg font-semibold leading-relaxed purple-color hover:text-gray-500",textContent:s(o.subject)},null,8,He)]),t("div",We,[o.doctor?(a(),i("div",Ke,[t("div",Qe,[t("img",{class:"w-10 h-10 relative rounded-full",src:o.doctor?o.doctor.picture:""},null,8,Xe)]),t("div",Ye,[t("div",Ze,[t("div",$e,[t("div",{class:"text-sm font-semibold text-gray-500",textContent:s(o.doctor.title)},null,8,ts)]),t("div",{class:"text-sm pt-1 font-normal leading-none text-gray-800",textContent:s(e.translate("Answered By"))},null,8,es)])])])):r("",!0),t("div",ss,[t("div",ns,[t("span",{class:"tooltiptext",textContent:s(e.translate("Views"))},null,8,os),t("span",{class:"pt-2",textContent:s(o.views_sum_times)},null,8,ls),as]),t("div",is,[t("span",{class:"tooltiptext",textContent:s(e.translate("Comments"))},null,8,cs),t("span",{class:"pt-2",textContent:s(o.comments.lenght)},null,8,ds),rs])])])],8,Ue)):r("",!0)]))),256))])]),t("div",_s,[t("div",ms,[(a(!0),i(u,null,h(e.statusList,o=>(a(),i("div",us,[p(l,{type:o.icon},null,8,["type"]),t("div",{class:"d-flex flex-column cursor-pointer",onClick:b=>e.switchStatus(o.status)},[t("h5",{class:S(["",o.status==e.activeStatus?"text-gray-800":"text-gray-500"]),textContent:s(o.text)},null,10,xs)],8,hs)]))),256))])])])])])]))])}const bs=j(ye,[["render",fs]]);export{bs as default};
