const __vite__fileDeps=["map-ZcxsnK9W.min.js","index.es-DlPsKZzO.min.js","index.min.js","index.min.css","trip_page-BZsbKph_.min.js","trip_map-DEDKTeKV.min.js","usertype_picker-DX0qbJCS.min.js","taxiTripWizard-DzlDs6Go.min.js","editable_map_location-h8TGFEYt.min.js","drivers_locations_map-DP7SB_i9.min.js","taxi_trip_map-DsT-77lW.min.js","taxiTripTrackWizard-BVPTT9fb.min.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as S,D as A,A as L,P as N,Q as P,$ as R,r as c,t as F,a as v,o as n,c as l,d as a,e as r,b as o,y as C,w as E,v as M,x as j,F as B,f as J,g as V,z as h,q as y,u as f,j as I,k as U,p as Y}from"./index.min.js";const q=y(()=>f(()=>import("./map-ZcxsnK9W.min.js"),__vite__mapDeps([0,1,2,3]))),G=y(()=>f(()=>import("./trip_page-BZsbKph_.min.js"),__vite__mapDeps([4,2,3,5,1]))),K=y(()=>f(()=>import("./usertype_picker-DX0qbJCS.min.js"),__vite__mapDeps([6,2,3]))),Q=y(()=>f(()=>import("./taxiTripWizard-DzlDs6Go.min.js"),__vite__mapDeps([7,2,3,8,1,9,10]))),H=y(()=>f(()=>import("./taxiTripTrackWizard-BVPTT9fb.min.js"),__vite__mapDeps([11,2,3,8,1,9,10]))),X={components:{datatabble:A,maps:q,delete_icon:L,car_icon:N,route_icon:P,trip_page:G,usertype_picker:K,taxi_trip_wizard:Q,VueTailwindDatepicker:R,taxi_trip_track_wizard:H},name:"Taxi trips",setup(x){const s=c({startDate:"",endDate:""}),i=c({date:"YYYY-MM-DD",month:"MMM"}),t=x.conf.url+x.path+"?load=json",b=c(null),D=c(null),_=c({}),d=c({}),m=c([]),T=c(!1),p=c(!1),w=c(!1),z=c(""),e=c("#");(()=>{I(t).then(u=>{d.value=JSON.parse(JSON.stringify(u)),e.value=d.value.columns[1].value})})();const W=(u,g)=>{switch(_.value=g,O(),u){case"view":break;case"edit":b.value=null,b.value="Confirm",p.value=!0;break;case"driver":b.value="Driver",p.value=!0;break;case"delete":U("trip_id",g,"TaxiTrip.delete");break}},O=()=>{_.value.usertype=="employee"&&(m.value=d.value.employees),_.value.usertype=="parents"&&(m.value=d.value.parents),_.value.usertype=="supervisor"&&(m.value=d.value.supervisors)};return{defaultTab:b,handleSelectedDate:u=>{I(x.conf.url+x.path+"?start_date="+u.startDate+"&end_date="+u.endDate+"&load=json").then(g=>{d.value=JSON.parse(JSON.stringify(g))})},usersList:m,showTrackWizard:D,showWizard:p,setType:u=>{_.value.usertype=u,w.value=!1,p.value=!0,O()},showOptions:w,showTrip:T,url:t,content:d,activeItem:_,searchValue:z,searchField:e,translate:F,handleAction:W,dateValue:s,formatter:i}},props:["path","lang","setting","system_setting","conf","auth","currency"]},Z={class:"w-full overflow-auto"},$={key:0,class:""},tt={class:"card"},et={class:"card-body"},at={class:"card-px text-center pt-15 pb-15"},nt=["textContent"],st=["textContent"],ot=["textContent"],lt=a("div",{class:"text-center pb-15 px-5"},[a("img",{src:"/uploads/img/start-wizard.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"})],-1),rt={key:4,class:"w-full relative"},it={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},ct=["textContent"],dt=["textContent"],_t={class:"w-full bg-white"},ut={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex"},ht={class:"card-title"},vt={class:"d-flex align-items-center position-relative my-1"},mt=Y('<div id="kt_ecommerce_report_views_export" class="d-none"><div class="dt-buttons btn-group flex-wrap"><button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Copy</span></button> <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Excel</span></button> <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>CSV</span></button> <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>PDF</span></button></div></div>',1),pt={class:"card-toolbar flex-row-fluid justify-content-end gap-5 w-200px"},xt={class:"w-150px"},bt=["textContent","value"],yt={class:"card-toolbar w-full flex-end"},ft={class:"w-full"},wt=["src"],kt=["onClick"],gt=["src"],Ct=["textContent"],Tt={class:"w-full relative flex gap-2"},zt=["src"],Vt=["textContent"],Dt=["textContent"],Ot=["textContent"],Et=["textContent"],It=["textContent"],Wt=["onClick","textContent"],St=["textContent"],At=["textContent"],Lt=["onClick"],Nt=["onClick"];function Pt(x,s,i,t,b,D){const _=v("taxi_trip_wizard"),d=v("taxi_trip_track_wizard"),m=v("usertype_picker"),T=v("vue-tailwind-datepicker"),p=v("vue-feather"),w=v("delete_icon"),z=v("datatabble");return n(),l("div",Z,[!t.showOptions&&!t.showWizard&&t.content.items&&!t.content.items.length?(n(),l("div",$,[a("div",tt,[a("div",et,[a("div",at,[a("h2",{class:"fs-2x fw-bold mb-0",textContent:r(t.content.title)},null,8,nt),a("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:r(t.translate("Empty data"))},null,8,st),a("a",{textContent:r(t.translate("add_new")),onClick:s[0]||(s[0]=e=>t.showOptions=!0),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,ot)]),lt])])])):o("",!0),t.showWizard&&t.activeItem.usertype?(n(),C(_,{onCallback:s[1]||(s[1]=e=>t.showWizard=!1),active_tab:t.defaultTab,conf:i.conf,currency:i.currency,usertype:t.activeItem.usertype,userslist:t.usersList,key:t.showWizard,vehicles:t.content.vehicles,drivers:t.content.drivers,system_setting:i.system_setting,item:t.activeItem,setting:i.setting},null,8,["active_tab","conf","currency","usertype","userslist","vehicles","drivers","system_setting","item","setting"])):o("",!0),t.showTrackWizard&&t.activeItem.usertype?(n(),C(d,{onCallback:s[2]||(s[2]=e=>t.showTrackWizard=!1),conf:i.conf,currency:i.currency,key:t.showTrackWizard,system_setting:i.system_setting,item:t.activeItem,setting:i.setting},null,8,["conf","currency","system_setting","item","setting"])):o("",!0),!t.showWizard&&t.showOptions?(n(),C(m,{alias:t.translate("Need taxi trip"),disable_supervisor:!0,disable_student:!0,key:t.showOptions,auth:i.auth,item:t.activeItem,onCallback:t.setType},null,8,["alias","auth","item","onCallback"])):o("",!0),!t.showWizard&&!t.showOptions&&!t.showTrackWizard&&t.content?(n(),l("div",rt,[t.content.items&&t.content.items.length?(n(),l("main",{key:t.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[a("div",it,[a("h1",{class:"font-bold text-lg w-full",textContent:r(t.content.title)},null,8,ct),a("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:s[3]||(s[3]=e=>t.showOptions=!0),textContent:r(t.translate("add_new"))},null,8,dt)]),a("div",_t,[a("div",ut,[a("div",ht,[a("div",vt,[E(a("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=e=>t.searchValue=e),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-125px",placeholder:"Search Report"},null,512),[[M,t.searchValue]])]),mt]),a("div",pt,[a("div",xt,[E(a("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>t.searchField=e),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(n(!0),l(B,null,J(t.content.columns,e=>(n(),l("option",{textContent:r(e.text),value:e.value},null,8,bt))),256))],512),[[j,t.searchField]])])]),a("div",yt,[a("div",ft,[V(T,{formatter:t.formatter,"onUpdate:modelValue":[s[6]||(s[6]=e=>t.handleSelectedDate(e)),s[7]||(s[7]=e=>t.dateValue=e)],separator:" - "+t.translate("To")+" - ",modelValue:t.dateValue},null,8,["formatter","separator","modelValue"])])])]),t.content.columns?(n(),C(z,{key:0,"search-field":t.searchField,"search-value":t.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("is_rtl"),"fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":h(e=>[a("img",{src:e.picture,class:"w-8 h-8 rounded-full"},null,8,wt)]),"item-driver":h(e=>[a("div",{class:"w-full relative flex gap-2 cursor-pointer",onClick:k=>t.handleAction("driver",e)},[a("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.driver&&e.driver.picture?e.driver.picture:"/uploads/images/default_profile.png"},null,8,gt),e.driver?(n(),l("span",{key:0,class:"font-semibold p-1",textContent:r(e.driver.name)},null,8,Ct)):o("",!0)],8,kt)]),"item-model":h(e=>[a("div",Tt,[a("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.model&&e.model.picture?e.model.picture:"/uploads/images/default_profile.png"},null,8,zt),e.model?(n(),l("span",{key:0,class:"p-1",textContent:r(e.model.name)},null,8,Vt)):o("",!0)])]),"item-total_cost":h(e=>[a("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,Dt)]),"item-subtotal":h(e=>[a("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,Ot)]),"item-status":h(e=>[e.status=="scheduled"?(n(),l("p",{key:0,class:"py-2",textContent:r(t.translate(e.status))},null,8,Et)):o("",!0),e.status=="started"?(n(),l("span",{key:1,class:"",textContent:r(t.translate(e.status))},null,8,It)):o("",!0),e.status=="started"?(n(),l("p",{key:2,class:"cursor-pointer fw-bold",onClick:k=>(t.showTrackWizard=!0,t.activeItem=e),textContent:r(t.translate("Live Track"))},null,8,Wt)):o("",!0),e.status=="completed"?(n(),l("p",{key:3,class:"py-2 text-green-600",textContent:r(t.translate(e.status))},null,8,St)):o("",!0),e.status=="cancelled"?(n(),l("p",{key:4,class:"py-2 text-red-600",textContent:r(t.translate(e.status))},null,8,At)):o("",!0)]),"item-details":h(e=>[e.not_editable?o("",!0):(n(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:k=>t.handleAction("edit",e)},[V(p,{class:"w-5",type:"edit"})],8,Lt))]),"item-delete":h(e=>[e.not_removeable?o("",!0):(n(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:k=>t.handleAction("delete",e)},[V(w,{class:"w-5"})],8,Nt))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):o("",!0)])])):o("",!0)])):o("",!0)])}const jt=S(X,[["render",Pt]]);export{jt as default};
