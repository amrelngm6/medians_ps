import{_ as P,D as V,G as j,e as W,y as E,z as L,f as b,t as N,r as v,o as a,c as r,i as t,a as q,F as R,k as U,x as M,j as o,H as m,I as h,h as d,l as p,d as g,b as y,n as J,J as B,K as F,g as A,A as T,m as G,p as K}from"./index.min.js";import{e as O}from"./editable_map_location-VfWgWkt8.min.js";import{r as Q}from"./route_map-80PBIM6d.min.js";import{e as Y}from"./routeLocationWizard-7uCJQlXs.min.js";import"./index.es-7nd_URRl.min.js";import"./tooltip-s9Xa9pgY.min.js";const H=g(()=>y(()=>import("./map-HlZZaoZ3.min.js"),__vite__mapDeps([0,1,2,3]))),X=g(()=>y(()=>import("./side-form-create-CKdgN5Kx.min.js"),__vite__mapDeps([4,2,3,5,6]))),Z=g(()=>y(()=>import("./side-form-update-sfvJGQqB.min.js"),__vite__mapDeps([7,2,3,5,6,8,9,1]))),$=g(()=>y(()=>import("./form_field-scTEvTH6.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),tt={components:{datatabble:V,SideFormCreate:X,SideFormUpdate:Z,maps:H,close_icon:j,delete_icon:W,car_icon:E,route_icon:L,form_field:$,editable_map_location:O,route_map:Q},name:"Packages",emits:["callback"],setup(c,{emit:s}){const i=b(!1),e=b({}),_=b("Info"),C=b({}),x=b(["Info","Double trips","Single trip","Confirm"]);return c.item&&(e.value=c.item),{progressWidth:()=>F(["name","description","single_cost_month","single_cost_querter","single_cost_year","double_cost_month","double_cost_quarter","double_cost_year","status"],e),showEditSide:i,content:C,fillable:x,activeItem:e,activeTab:_,translate:N,savePackage:()=>{var l=new URLSearchParams;let u=JSON.parse(JSON.stringify(e.value)),S=Object.keys(u),k,D;for(let I=0;I<S.length;I++)k=S[I],D=typeof u[k]=="object"?JSON.stringify(u[k]):u[k],l.append("params["+k+"]",D);let z=u.package_id>0?"update":"create";l.append("type","Package."+z),J(l,"/api/"+z).then(I=>{B(I)})},back:()=>{s("callback")}}},props:["conf","path","system_setting","business_setting","setting","item","drivers","vehicles"]},et={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},st={class:"card w-full py-10"},nt={class:"w-full stepper stepper-links"},lt={class:"stepper-nav justify-content-center py-2 mb-10"},at=["onClick"],rt=["textContent"],it={class:"w-full"},dt={class:"card-body pt-0"},ct={class:"settings-form"},_t={class:"max-w-xl mb-6 mx-auto row"},mt=t("input",{name:"params[package_id]",type:"hidden"},null,-1),ht=["for","textContent"],bt=["placeholder"],ft=t("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),ut=["for","textContent"],xt=["placeholder"],pt={class:"text-center mt-10"},vt=["textContent"],gt={class:"card-body pt-0"},yt={class:"settings-form"},Ct={class:"max-w-xl mb-6 mx-auto"},wt={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},kt={class:"d-flex flex-stack flex-grow-1"},It={class:"fw-semibold"},qt=["textContent"],Tt=["textContent"],St=t("hr",{class:"opacity-10 my-4"},null,-1),Dt={class:"w-full mb-6 mx-auto row"},zt=["textContent"],At=["placeholder"],Pt={class:"w-full mb-6 mx-auto row"},Vt=["textContent"],Wt=["placeholder"],Et={class:"w-full mb-6 mx-auto row"},Lt=["textContent"],Nt=["placeholder"],Ot={class:"text-center mt-10"},jt=["textContent"],Rt={class:"card-body pt-0"},Ut={class:"settings-form"},Mt={class:"max-w-xl mb-6 mx-auto"},Jt={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},Bt={class:"d-flex flex-stack flex-grow-1"},Ft={class:"fw-semibold"},Gt=["textContent"],Kt=["textContent"],Qt=t("hr",{class:"opacity-10 my-4"},null,-1),Yt={class:"w-full mb-6 mx-auto row"},Ht=["textContent"],Xt=["placeholder"],Zt={class:"w-full mb-6 mx-auto row"},$t=["textContent"],te=["placeholder"],ee={class:"w-full mb-6 mx-auto row"},oe=["textContent"],se=["placeholder"],ne={class:"text-center mt-10"},le=["textContent"],ae={class:"max-w-6xl mx-auto"},re={class:"card mb-6 mb-xl-9"},ie={class:"w-full flex"},de={class:"w-full"},ce={class:"card-header border-0"},_e={class:"card-title"},me=["textContent"],he={class:"card-body py-0"},be=["textContent"],fe={class:"flex-end pt-10"},ue={class:"flex gap-2 cursor-pointer"},xe={class:"pt-3"},pe=["textContent"],ve={class:"w-full lg:flex gap-10"},ge={class:"card mb-6 mb-xl-9 bg-inverse-success"},ye={class:"card-header border-0"},Ce={class:"card-title"},we=["textContent"],ke={class:"card-body py-0"},Ie=["textContent"],qe={class:"d-flex flex-wrap flex-stack mb-5"},Te={class:"d-flex"},Se={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},De={class:"fs-1 fw-bold text-gray-800 lh-1"},ze=["textContent"],Ae=["textContent"],Pe={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},Ve={class:"fs-1 fw-bold text-gray-800 lh-1"},We=["textContent"],Ee=["textContent"],Le={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},Ne={class:"fs-1 fw-bold text-gray-800 lh-1"},Oe=["textContent"],je=["textContent"],Re={class:"card mb-6 mb-xl-9 bg-inverse-warning"},Ue={class:"card-header border-0"},Me={class:"card-title"},Je=["textContent"],Be={class:"card-body py-0"},Fe=["textContent"],Ge={class:"d-flex flex-wrap flex-stack mb-5"},Ke={class:"d-flex"},Qe={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},Ye={class:"fs-1 fw-bold text-gray-800 lh-1"},He=["textContent"],Xe=["textContent"],Ze={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},$e={class:"fs-1 fw-bold text-gray-800 lh-1"},to=["textContent"],eo=["textContent"],oo={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},so={class:"fs-1 fw-bold text-gray-800 lh-1"},no=["textContent"],lo=["textContent"],ao={class:"text-center mt-10"},ro=["textContent"];function io(c,s,i,e,_,C){const x=v("close_icon"),w=v("form_field");return a(),r("div",et,[t("div",ot,[q(x,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:e.back},null,8,["onClick"]),t("div",st,[t("div",nt,[t("div",lt,[(a(!0),r(R,null,U(e.fillable,n=>(a(),r("div",{class:"stepper-item",onClick:f=>e.activeTab=n},[t("h3",{class:M([e.activeTab==n?"text-danger border-danger":"text-gray-400 border-transparent","cursor-pointer pb-3 px-2 stepper-title text-md border-b"]),textContent:o(n)},null,10,rt)],8,at))),256))]),t("div",it,[e.activeTab=="Info"?(a(),r("div",{class:"",key:e.activeTab},[t("div",dt,[t("div",ct,[t("div",_t,[mt,t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+c.i,textContent:o(e.translate("Package name"))},null,8,ht),m(t("input",{required:!0,autocomplete:"off",name:"params[name]",class:"form-control form-control-solid",placeholder:e.translate("Package name"),"onUpdate:modelValue":s[0]||(s[0]=n=>e.activeItem.name=n)},null,8,bt),[[h,e.activeItem.name]]),ft,t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+c.i,textContent:o(e.translate("Description"))},null,8,ut),m(t("textarea",{required:!0,autocomplete:"off",name:"params[description]",class:"form-control form-control-solid",placeholder:e.translate("Description"),"onUpdate:modelValue":s[1]||(s[1]=n=>e.activeItem.description=n)}," ",8,xt),[[h,e.activeItem.description]])])])]),t("p",pt,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[2]||(s[2]=n=>e.activeTab="Double trips"),textContent:o(e.translate("Next"))},null,8,vt)])])):d("",!0),e.activeTab=="Double trips"?(a(),r("div",{class:"",key:e.activeTab},[t("div",gt,[t("div",yt,[t("div",Ct,[t("div",wt,[t("div",kt,[t("div",It,[t("h4",{class:"text-gray-900 fw-bold",textContent:o(e.translate("Double daily trips cost"))},null,8,qt),t("div",{class:"fs-6 text-gray-700",textContent:o(e.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,Tt)])])]),St,t("div",Dt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per month"))},null,8,zt),m(t("input",{required:!0,autocomplete:"off",name:"params[double_cost_month]",class:"form-control form-control-solid",placeholder:e.translate("Double Trips cost per month"),type:"number","onUpdate:modelValue":s[3]||(s[3]=n=>e.activeItem.double_cost_month=n)},null,8,At),[[h,e.activeItem.double_cost_month]])]),t("div",Pt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per quarter"))},null,8,Vt),m(t("input",{required:!0,autocomplete:"off",name:"params[double_cost_quarter]",class:"form-control form-control-solid",placeholder:e.translate("Double Trips cost per quarter"),type:"number","onUpdate:modelValue":s[4]||(s[4]=n=>e.activeItem.double_cost_quarter=n)},null,8,Wt),[[h,e.activeItem.double_cost_quarter]])]),t("div",Et,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per year"))},null,8,Lt),m(t("input",{required:!0,autocomplete:"off",name:"params[double_cost_year]",class:"form-control form-control-solid",placeholder:e.translate("Double Trips cost per year"),type:"number","onUpdate:modelValue":s[5]||(s[5]=n=>e.activeItem.double_cost_year=n)},null,8,Nt),[[h,e.activeItem.double_cost_year]])])])])]),t("p",Ot,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[6]||(s[6]=n=>e.activeTab="Single trip"),textContent:o(e.translate("Next"))},null,8,jt)])])):d("",!0),e.activeTab=="Single trip"?(a(),r("div",{class:"",key:e.activeTab},[t("div",Rt,[t("div",Ut,[t("div",Mt,[t("div",Jt,[t("div",Bt,[t("div",Ft,[t("h4",{class:"text-gray-900 fw-bold",textContent:o(e.translate("Single daily trip cost"))},null,8,Gt),t("div",{class:"fs-6 text-gray-700",textContent:o(e.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Kt)])])]),Qt,t("div",Yt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per month"))},null,8,Ht),m(t("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:e.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":s[7]||(s[7]=n=>e.activeItem.single_cost_month=n)},null,8,Xt),[[h,e.activeItem.single_cost_month]])]),t("div",Zt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per quarter"))},null,8,$t),m(t("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:e.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":s[8]||(s[8]=n=>e.activeItem.single_cost_quarter=n)},null,8,te),[[h,e.activeItem.single_cost_quarter]])]),t("div",ee,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per year"))},null,8,oe),m(t("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:e.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":s[9]||(s[9]=n=>e.activeItem.single_cost_year=n)},null,8,se),[[h,e.activeItem.single_cost_year]])])])])]),t("p",ne,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[10]||(s[10]=n=>e.activeTab="Confirm"),textContent:o(e.translate("Next"))},null,8,le)])])):d("",!0),e.activeTab=="Confirm"?(a(),r("div",{class:"w-full mx-auto",key:e.activeTab},[t("div",ae,[t("div",re,[t("div",ie,[t("div",de,[t("div",ce,[t("div",_e,[t("h2",{textContent:o(e.activeItem.name)},null,8,me)])]),t("div",he,[t("div",{class:"fs-5 fw-semibold text-gray-500 mb-4",textContent:o(e.activeItem.description)},null,8,be)])]),t("div",fe,[t("label",ue,[q(w,{class:"flex-end",item:e.activeItem,column:{key:"status",title:e.translate("Status"),column_type:"checkbox",hide_text:!0}},null,8,["item","column"]),t("div",xe,[t("span",{class:"badge badge-light fw-bold me-auto px-4 py-3",textContent:o(e.activeItem.status?"Active":"Pending")},null,8,pe)])])])])]),t("div",ve,[t("div",ge,[t("div",ye,[t("div",Ce,[t("h2",{textContent:o(e.translate("Double trips cost"))},null,8,we)])]),t("div",ke,[t("div",{class:"fs-5 fw-semibold text-gray-500 mb-4",textContent:o(e.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,Ie),t("div",qe,[t("div",Te,[t("div",Se,[t("span",De,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.double_cost_month)},null,8,ze),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Month"))},null,8,Ae)])]),t("div",Pe,[t("span",Ve,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.double_cost_quarter)},null,8,We),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Quarter"))},null,8,Ee)])]),t("div",Le,[t("span",Ne,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.double_cost_year)},null,8,Oe),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Year"))},null,8,je)])])])])])]),t("div",Re,[t("div",Ue,[t("div",Me,[t("h2",{textContent:o(e.translate("Single trip cost"))},null,8,Je)])]),t("div",Be,[t("div",{class:"fs-5 fw-semibold text-gray-500 mb-4",textContent:o(e.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Fe),t("div",Ge,[t("div",Ke,[t("div",Qe,[t("span",Ye,[p(" $ "),t("span",{class:"counted",textContent:o(e.activeItem.single_cost_month)},null,8,He),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Month"))},null,8,Xe)])]),t("div",Ze,[t("span",$e,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.single_cost_quarter)},null,8,to),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Quarter"))},null,8,eo)])]),t("div",oo,[t("span",so,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.single_cost_year)},null,8,no),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Year"))},null,8,lo)])])])])])])])]),t("p",ao,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[11]||(s[11]=(...n)=>e.savePackage&&e.savePackage(...n)),textContent:o(e.translate("Submit"))},null,8,ro)])])):d("",!0)])])])])])}const co=P(tt,[["render",io]]),_o=g(()=>y(()=>import("./map-HlZZaoZ3.min.js"),__vite__mapDeps([0,1,2,3]))),mo=g(()=>y(()=>import("./form_field-scTEvTH6.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),ho={components:{datatabble:V,maps:_o,delete_icon:W,car_icon:E,route_icon:L,form_field:mo,editable_map_location:O,student_subscription_wizard:co,employee_location_wizard:Y},name:"Routes",setup(c){const s=c.conf.url+c.path+"?load=json",i=b({}),e=b({}),_=b(!1),C=()=>{_.value=!1};return(()=>{G(s).then(f=>{e.value=JSON.parse(JSON.stringify(f))})})(),{url:s,content:e,activeItem:i,translate:N,showWizard:_,closeSide:C,addLocationWizard:()=>{i.value={},_.value=!0},handleAction:(f,l)=>{switch(f){case"view":break;case"edit":i.value=l,_.value=!0;break;case"delete":K("location_id",l,"RouteLocation.delete");break;case"close":showEditSide.value=!1,i.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},bo={class:"w-full flex overflow-auto"},fo={key:0,class:"w-full relative"},uo={key:1,class:""},xo={class:"card"},po={class:"card-body"},vo={class:"card-px text-center pt-15 pb-15"},go=["textContent"],yo=["textContent"],Co=["textContent"],wo={class:"text-center pb-15 px-5"},ko=["src"],Io={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},qo={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},To=["textContent"],So=["textContent"],Do=t("hr",{class:"mt-2"},null,-1),zo={class:"w-full bg-white"},Ao={key:0,class:"w-full flex gap-4"},Po=["src"],Vo=["textContent"],Wo=["onClick"],Eo=["onClick"];function Lo(c,s,i,e,_,C){const x=v("student_subscription_wizard"),w=v("vue-feather"),n=v("delete_icon"),f=v("datatabble");return a(),r("div",bo,[e.content&&i.auth?(a(),r("div",fo,[e.showWizard&&i.auth.business&&i.auth.business.type=="school"?(a(),A(x,{onCallback:s[0]||(s[0]=l=>e.showWizard=!1),allstudents:e.content.students,key:e.showWizard,system_setting:i.system_setting,item:e.activeItem,business_setting:i.business_setting},null,8,["allstudents","system_setting","item","business_setting"])):d("",!0),!e.showWizard&&e.content.items&&!e.content.items.length?(a(),r("div",uo,[t("div",xo,[t("div",po,[t("div",vo,[t("h2",{class:"fs-2x fw-bold mb-0",textContent:o(e.content.title)},null,8,go),t("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:o(e.translate("Add your first pickup using this below wizard"))},null,8,yo),t("a",{textContent:o(e.translate("add_new")),onClick:s[1]||(s[1]=(...l)=>e.addLocationWizard&&e.addLocationWizard(...l)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,Co)]),t("div",wo,[t("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,ko)])])])])):d("",!0),e.content.items&&e.content.items.length&&!e.showWizard?(a(),r("main",Io,[t("div",qo,[t("h1",{class:"font-bold text-lg w-full",textContent:o(e.content.title)},null,8,To),e.showWizard?d("",!0):(a(),r("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:s[2]||(s[2]=(...l)=>e.addLocationWizard&&e.addLocationWizard(...l)),textContent:o(e.translate("add_new"))},null,8,So))]),Do,t("div",zo,[e.content.columns?(a(),A(f,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":e.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:e.content.columns,items:e.content.items},{"item-name":T(l=>[l.model?(a(),r("div",Ao,[t("img",{src:l.model.picture,class:"w-8 h-8 rounded-full"},null,8,Po),t("span",{textContent:o(l.model.name)},null,8,Vo)])):d("",!0)]),"item-edit":T(l=>[l.not_editable?d("",!0):(a(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:u=>e.handleAction("edit",l)},[q(w,{class:"w-5",type:"edit"})],8,Wo))]),"item-delete":T(l=>[l.not_removeable?d("",!0):(a(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:u=>e.handleAction("delete",l)},[q(n,{class:"w-5"})],8,Eo))]),_:1},8,["body-text-direction","headers","items"])):d("",!0)])])):d("",!0)])):d("",!0)])}const Jo=P(ho,[["render",Lo]]);export{Jo as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-HlZZaoZ3.min.js","index.es-7nd_URRl.min.js","index.min.js","index.min.css","side-form-create-CKdgN5Kx.min.js","Field-JlRoC1sK.min.js","Field.min.css","side-form-update-sfvJGQqB.min.js","form_field-scTEvTH6.min.js","editable_map_location-VfWgWkt8.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
