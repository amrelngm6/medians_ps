import{_ as A,D as V,G as U,e as W,y as E,z as O,f as m,t as j,r as b,o as a,c as i,i as e,a as g,F as R,k as L,x as z,j as s,H as f,I as h,h as c,B,d as w,b as y,n as J,J as F,K as M,g as D,A as q,m as G,p as K}from"./index.min.js";import{e as N}from"./editable_map_location-sN38-aBc.min.js";import{r as H}from"./route_map-Re9VZOXs.min.js";import{t as Q}from"./tooltip-s9Xa9pgY.min.js";import"./index.es-6MjjNoyG.min.js";const X=w(()=>y(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),Y=w(()=>y(()=>import("./side-form-create-Hnkm4KDO.min.js"),__vite__mapDeps([4,2,3,5,6]))),Z=w(()=>y(()=>import("./side-form-update-_QNnsS5h.min.js"),__vite__mapDeps([7,2,3,5,6,8,9,1]))),$=w(()=>y(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),tt={components:{datatabble:V,SideFormCreate:Y,SideFormUpdate:Z,maps:X,close_icon:U,delete_icon:W,car_icon:E,route_icon:O,form_field:$,editable_map_location:N,route_map:H},name:"Packages",emits:["callback"],setup(r,{emit:o}){const d=m(!1),t=m({}),p=m("Info"),u=m({}),v=m(["Info","Double trips","Single trip","Confirm"]);return r.item&&(t.value=r.item),{progressWidth:()=>M(["name","description","single_cost_month","single_cost_querter","single_cost_year","double_cost_month","double_cost_quarter","double_cost_year","status"],t),showEditSide:d,content:u,fillable:v,activeItem:t,activeTab:p,translate:j,savePackage:()=>{var l=new URLSearchParams;let _=JSON.parse(JSON.stringify(t.value)),T=Object.keys(_),k,P;for(let I=0;I<T.length;I++)k=T[I],P=typeof _[k]=="object"?JSON.stringify(_[k]):_[k],l.append("params["+k+"]",P);let S=_.route_id>0?"update":"create";l.append("type","Package."+S),J(l,"/api/"+S).then(I=>{F(I)})},back:()=>{o("callback")}}},props:["conf","path","system_setting","business_setting","setting","item","drivers","vehicles"]},et={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},st={class:"card w-full py-10"},nt={class:"w-full stepper stepper-links"},lt={class:"stepper-nav justify-content-center py-2 mb-10"},at=["onClick"],it=["textContent"],ct={class:"w-full"},rt={class:"card-body pt-0"},dt={class:"settings-form"},_t={class:"max-w-xl mb-6 mx-auto row"},mt=e("input",{name:"params[route_id]",type:"hidden"},null,-1),ft=["for","textContent"],ht=["placeholder"],ut=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),vt=["for","textContent"],bt=["placeholder"],pt={class:"text-center mt-10"},xt=["textContent"],gt={class:"card-body pt-0"},wt={class:"settings-form"},yt={class:"max-w-xl mb-6 mx-auto"},Ct={class:"w-full mb-6 mx-auto row"},kt=["textContent"],It=e("hr",{class:"block mt-4 mb-4 opacity-10"},null,-1),qt=["textContent"],Tt={class:"w-full mb-6 mx-auto row"},Pt=["textContent"],St=["placeholder"],zt={class:"w-full mb-6 mx-auto row"},Dt=["textContent"],At=["placeholder"],Vt={class:"w-full mb-6 mx-auto row"},Wt=["textContent"],Et=["placeholder"],Ot={class:"text-center mt-10"},jt=["textContent"],Nt={class:"card-body pt-0"},Ut={class:"settings-form"},Rt={class:"max-w-xl mb-6 mx-auto"},Lt={class:"w-full mb-6 mx-auto row"},Bt=["textContent"],Jt=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),Ft=["textContent"],Mt={class:"w-full mb-6 mx-auto row"},Gt=["textContent"],Kt=["placeholder"],Ht={class:"w-full mb-6 mx-auto row"},Qt=["textContent"],Xt=["placeholder"],Yt={class:"w-full mb-6 mx-auto row"},Zt=["textContent"],$t=["placeholder"],te={class:"text-center mt-10"},ee=["textContent"],oe={class:"w-full flex gap-10"},se={class:"w-full"},ne=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),le={class:"bg-gray-200 shadow-md mb-10 rounded-xl"},ae={class:"card-header border-0 pt-9"},ie={key:0,class:"card-title m-0 flex gap-4"},ce={class:"symbol symbol-50px w-50px bg-light"},re=["src"],de=["textContent"],_e={class:"flex gap-2 cursor-pointer"},me={class:"pt-3"},fe=["textContent"],he={key:0,class:"card-body p-9"},ue=["textContent"],ve=["textContent"],be={class:"timeline timeline-border-dashed"},pe={class:"timeline-item"},xe=e("div",{class:"timeline-line"},null,-1),ge={class:"timeline-icon me-4"},we={class:"timeline-content mb-10 mt-n2"},ye={class:"overflow-auto pe-3"},Ce=["textContent"],ke={class:"d-flex align-items-center mt-1 fs-6"},Ie=["textContent"],qe={class:"timeline-item"},Te=e("div",{class:"timeline-line"},null,-1),Pe={class:"timeline-icon me-4"},Se={class:"timeline-content mb-10 mt-n2"},ze={class:"overflow-auto pe-3"},De=["textContent"],Ae={class:"d-flex align-items-center mt-1 fs-6"},Ve=["textContent"],We={class:"h-4px w-100 bg-light mb-5"},Ee={key:0,class:"w-full flex gap-4"},Oe={key:0,class:"w-full flex gap-4"},je=["src"],Ne={class:"w-full block gap-4"},Ue=["textContent"],Re=["textContent"],Le={key:1,class:"w-full block gap-4"},Be=["textContent"],Je=["textContent"],Fe={key:2,class:"w-full block gap-4"},Me={class:"w-full block gap-4"},Ge=["textContent"],Ke=["textContent"],He={class:"text-center mt-10"},Qe=["textContent"];function Xe(r,o,d,t,p,u){const v=b("close_icon"),C=b("form_field"),x=b("vue-feather");return a(),i("div",et,[e("div",ot,[g(v,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:t.back},null,8,["onClick"]),e("div",st,[e("div",nt,[e("div",lt,[(a(!0),i(R,null,L(t.fillable,n=>(a(),i("div",{class:"stepper-item",onClick:l=>t.activeTab=n},[e("h3",{class:z([t.activeTab==n?"text-danger border-danger":"text-gray-400 border-transparent","cursor-pointer pb-3 px-2 stepper-title text-md border-b"]),textContent:s(n)},null,10,it)],8,at))),256))]),e("div",ct,[t.activeTab=="Info"?(a(),i("div",{class:"",key:t.activeTab},[e("div",rt,[e("div",dt,[e("div",_t,[mt,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Package name"))},null,8,ft),f(e("input",{required:!0,autocomplete:"off",name:"params[name]",class:"form-control form-control-solid",placeholder:t.translate("Package name"),"onUpdate:modelValue":o[0]||(o[0]=n=>t.activeItem.route_name=n)},null,8,ht),[[h,t.activeItem.route_name]]),ut,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Description"))},null,8,vt),f(e("textarea",{required:!0,autocomplete:"off",name:"params[description]",class:"form-control form-control-solid",placeholder:t.translate("Description"),"onUpdate:modelValue":o[1]||(o[1]=n=>t.activeItem.description=n)}," ",8,bt),[[h,t.activeItem.description]])])])]),e("p",pt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[2]||(o[2]=n=>t.activeTab="Double trips"),textContent:s(t.translate("Next"))},null,8,xt)])])):c("",!0),t.activeTab=="Double trips"?(a(),i("div",{class:"",key:t.activeTab},[e("div",gt,[e("div",wt,[e("div",yt,[e("div",Ct,[e("label",{class:"required font-semibold text-xl",textContent:s(t.translate("Double daily trip cost"))},null,8,kt),It,e("p",{textContent:s(t.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,qt)]),e("div",Tt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,Pt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>t.activeItem.single_cost_month=n)},null,8,St),[[h,t.activeItem.single_cost_month]])]),e("div",zt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,Dt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>t.activeItem.single_cost_quarter=n)},null,8,At),[[h,t.activeItem.single_cost_quarter]])]),e("div",Vt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,Wt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>t.activeItem.single_cost_year=n)},null,8,Et),[[h,t.activeItem.single_cost_year]])])])])]),e("p",Ot,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[6]||(o[6]=n=>t.activeTab="Single trip"),textContent:s(t.translate("Next"))},null,8,jt)])])):c("",!0),t.activeTab=="Single trip"?(a(),i("div",{class:"",key:t.activeTab},[e("div",Nt,[e("div",Ut,[e("div",Rt,[e("div",Lt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold text-xl",textContent:s(t.translate("Single daily trip cost"))},null,8,Bt),Jt,e("p",{textContent:s(t.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Ft)]),e("div",Mt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,Gt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>t.activeItem.single_cost_month=n)},null,8,Kt),[[h,t.activeItem.single_cost_month]])]),e("div",Ht,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,Qt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>t.activeItem.single_cost_quarter=n)},null,8,Xt),[[h,t.activeItem.single_cost_quarter]])]),e("div",Yt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,Zt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":o[9]||(o[9]=n=>t.activeItem.single_cost_year=n)},null,8,$t),[[h,t.activeItem.single_cost_year]])])])])]),e("p",te,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[10]||(o[10]=n=>t.activeTab="Confirm"),textContent:s(t.translate("Next"))},null,8,ee)])])):c("",!0),t.activeTab=="Confirm"?(a(),i("div",{class:"w-full mx-auto",key:t.activeTab},[e("div",oe,[e("div",se,[ne,e("div",le,[e("div",ae,[t.activeItem.driver_id?(a(),i("div",ie,[e("div",ce,[e("img",{src:r.selectedObject(d.drivers,"driver_id").picture,alt:"image",class:"p-3"},null,8,re)]),e("span",{class:"",textContent:s(r.selectedObject(d.drivers,"driver_id").name)},null,8,de)])):c("",!0),e("label",_e,[g(C,{class:"flex-end",item:t.activeItem,column:{key:"status",title:t.translate("Status"),column_type:"checkbox",hide_text:!0}},null,8,["item","column"]),e("div",me,[e("span",{class:"badge badge-light fw-bold me-auto px-4 py-3",textContent:s(t.activeItem.status?"Active":"Pending")},null,8,fe)])])]),t.activeItem?(a(),i("div",he,[e("div",{class:"fs-3 fw-bold text-gray-900",textContent:s(t.activeItem.route_name)},null,8,ue),e("p",{class:"text-gray-500 fw-semibold fs-5 mt-1 mb-7",textContent:s(t.activeItem.description)},null,8,ve),e("div",be,[e("div",pe,[xe,e("div",ge,[g(x,{type:"circle",class:"fs-2 text-success"})]),e("div",we,[e("div",ye,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.start_address)},null,8,Ce)):c("",!0),e("div",ke,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Pickup"))},null,8,Ie)])])])]),e("div",qe,[Te,e("div",Pe,[g(x,{type:"map-pin",class:"fs-2 text-danger"})]),e("div",Se,[e("div",ze,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.end_address)},null,8,De)):c("",!0),e("div",Ae,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Destination"))},null,8,Ve)])])])])]),e("div",We,[e("div",{class:z(["rounded h-4px transition transition-all",t.progressWidth()<100?"bg-info":"bg-success"]),role:"progressbar",style:B({width:t.progressWidth()+"%"})},null,6)]),t.activeItem.vehicle_id?(a(),i("div",Ee,[t.activeItem.vehicle_id?(a(),i("div",Oe,[e("img",{src:"/uploads/images/car.svg",class:"w-10"},null,8,je),e("div",Ne,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Vehicle"))},null,8,Ue),e("span",{class:"w-full block",textContent:s(r.selectedObject(d.vehicles,"vehicle_id").plate_number)},null,8,Re)])])):c("",!0),t.activeItem.morning_trip_time?(a(),i("div",Le,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Morning trip"))},null,8,Be),e("span",{class:"w-full block",textContent:s(t.activeItem.morning_trip_time)},null,8,Je)])):c("",!0),t.activeItem.afternoon_trip_time?(a(),i("div",Fe,[e("div",Me,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Afternoon trip"))},null,8,Ge),e("span",{class:"w-full block",textContent:s(t.activeItem.afternoon_trip_time)},null,8,Ke)])])):c("",!0)])):c("",!0)])):c("",!0)])])]),e("p",He,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[11]||(o[11]=(...n)=>t.savePackage&&t.savePackage(...n)),textContent:s(t.translate("Submit"))},null,8,Qe)])])):c("",!0)])])])])])}const Ye=A(tt,[["render",Xe]]),Ze=w(()=>y(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),$e=w(()=>y(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),to={components:{datatabble:V,maps:Ze,delete_icon:W,car_icon:E,route_icon:O,form_field:$e,editable_map_location:N,package_wizard:Ye,tooltip:Q},name:"Packages",setup(r){const o=r.conf.url+r.path+"?load=json",d=m(!1),t=m({}),p=m({}),u=m(!1),v=()=>{d.value=!1};return(()=>{G(o).then(l=>{p.value=JSON.parse(JSON.stringify(l))})})(),{showEditSide:d,url:o,content:p,activeItem:t,showWizard:u,translate:j,closeSide:v,addPackageWizard:()=>{t.value={},u.value=!0},handleAction:(l,_)=>{switch(l){case"view":break;case"edit":t.value=_,u.value=!0;break;case"delete":K("package_id",_,"Package.delete");break;case"close":d.value=!1,t.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},eo={class:"w-full flex overflow-auto"},oo={key:0,class:"w-full relative"},so={key:1,class:""},no={class:"card"},lo={class:"card-body"},ao={class:"card-px text-center pt-15 pb-15"},io=["textContent"],co=["textContent"],ro=["textContent"],_o={class:"text-center pb-15 px-5"},mo=["src"],fo={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},ho={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},uo=["textContent"],vo=e("hr",{class:"mt-2"},null,-1),bo={class:"w-full"},po=["src"],xo=["onClick"],go=["onClick"];function wo(r,o,d,t,p,u){const v=b("package_wizard"),C=b("vue-feather"),x=b("delete_icon"),n=b("datatabble");return a(),i("div",eo,[t.content?(a(),i("div",oo,[t.showWizard?(a(),D(v,{onCallback:o[0]||(o[0]=l=>t.showWizard=!1),key:t.showWizard,item:t.activeItem,business_setting:d.business_setting,conf:d.conf},null,8,["item","business_setting","conf"])):c("",!0),!t.showWizard&&t.content.items&&!t.content.items.length?(a(),i("div",so,[e("div",no,[e("div",lo,[e("div",ao,[e("h2",{class:"fs-2x fw-bold mb-0",textContent:s(t.content.title)},null,8,io),e("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:s(t.translate("Add your first package using this below wizard"))},null,8,co),e("a",{textContent:s(t.translate("add_new")),onClick:o[1]||(o[1]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,ro)]),e("div",_o,[e("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,mo)])])])])):c("",!0),t.content.items&&!t.showWizard?(a(),i("main",fo,[e("div",ho,[e("h1",{class:"font-bold text-lg w-full",textContent:s(t.content.title)},null,8,uo),t.showWizard?c("",!0):(a(),i("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:o[2]||(o[2]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l))},s(t.translate("add_new")),1))]),vo,e("div",bo,[t.content.columns?(a(),D(n,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":q(l=>[e("img",{src:l.picture,class:"w-8 h-8 rounded-full"},null,8,po)]),"item-single_trip":q(l=>[]),"item-double_trip":q(l=>[]),"item-edit":q(l=>[l.not_editable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:_=>t.handleAction("edit",l)},[g(C,{class:"w-5",type:"edit"})],8,xo))]),"item-delete":q(l=>[l.not_removeable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:_=>t.handleAction("delete",l)},[g(x,{class:"w-5"})],8,go))]),_:1},8,["body-text-direction","headers","items"])):c("",!0)])])):c("",!0)])):c("",!0)])}const To=A(to,[["render",wo]]);export{To as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-B-UdJfwR.min.js","index.es-6MjjNoyG.min.js","index.min.js","index.min.css","side-form-create-Hnkm4KDO.min.js","Field-D7aHrL1B.min.js","Field.min.css","side-form-update-_QNnsS5h.min.js","form_field-JC_s-tjI.min.js","editable_map_location-sN38-aBc.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
