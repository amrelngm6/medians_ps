const __vite__fileDeps=["map-B_qpUccu.min.js","index.es-BqyRJkQ3.min.js","index.min.js","index.min.css","trip_page-_c8fm2Wl.min.js","usertype_picker-C1B4fPvb.min.js","taxiTripWizard-DNG7u1ys.min.js","editable_map_location-C3m7cXEh.min.js","drivers_locations_map-DiTe87JV.min.js","tooltip-B6mCVe86.min.js","trip_map-CgMcL7Bn.min.js","taxiTripTrackWizard-D2VP2y80.min.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as W,D as S,x as A,G as L,H as N,Q as R,r as c,t as F,a as h,o as n,c as l,d as s,e as r,b as o,y as C,w as O,v as M,N as P,F as j,f as B,g as z,O as u,q as y,u as f,j as E,k as J,p as U}from"./index.min.js";const Y=y(()=>f(()=>import("./map-B_qpUccu.min.js"),__vite__mapDeps([0,1,2,3]))),q=y(()=>f(()=>import("./trip_page-_c8fm2Wl.min.js"),__vite__mapDeps([4,2,3,1]))),G=y(()=>f(()=>import("./usertype_picker-C1B4fPvb.min.js"),__vite__mapDeps([5,2,3]))),H=y(()=>f(()=>import("./taxiTripWizard-DNG7u1ys.min.js"),__vite__mapDeps([6,2,3,7,1,8,9,10]))),K=y(()=>f(()=>import("./taxiTripTrackWizard-D2VP2y80.min.js"),__vite__mapDeps([11,2,3,7,1,8,9,10]))),Q={components:{datatabble:S,maps:Y,delete_icon:A,car_icon:L,route_icon:N,trip_page:q,usertype_picker:G,taxi_trip_wizard:H,VueTailwindDatepicker:R,taxi_trip_track_wizard:K},name:"Taxi trips",setup(v){const a=c({startDate:"",endDate:""}),i=c({date:"YYYY-MM-DD",month:"MMM"}),t=v.conf.url+v.path+"?load=json",D=c(null),m=c({}),d=c({}),x=c([]),T=c(!1),b=c(!1),w=c(!1),V=c(""),k=c("#");(()=>{E(t).then(_=>{d.value=JSON.parse(JSON.stringify(_)),k.value=d.value.columns[1].value})})();const p=(_,g)=>{switch(_){case"view":break;case"edit":m.value=g,b.value=!0;break;case"delete":J("trip_id",g,"TaxiTrip.delete");break}},I=()=>{m.value.usertype=="employee"&&(x.value=d.value.employees),m.value.usertype=="supervisor"&&(x.value=d.value.supervisors)};return{handleSelectedDate:_=>{E(v.conf.url+v.path+"?start_date="+_.startDate+"&end_date="+_.endDate+"&load=json").then(g=>{d.value=JSON.parse(JSON.stringify(g))})},usersList:x,showTrackWizard:D,showWizard:b,setType:_=>{m.value.usertype=_,w.value=!1,b.value=!0,I()},showOptions:w,showTrip:T,url:t,content:d,activeItem:m,searchValue:V,searchField:k,translate:F,handleAction:p,dateValue:a,formatter:i}},props:["path","lang","business_setting","system_setting","conf","auth","currency"]},X={class:"w-full overflow-auto"},Z={key:0,class:""},$={class:"card"},tt={class:"card-body"},et={class:"card-px text-center pt-15 pb-15"},st=["textContent"],nt=["textContent"],at=["textContent"],ot=s("div",{class:"text-center pb-15 px-5"},[s("img",{src:"/uploads/img/start-wizard.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"})],-1),lt={key:4,class:"w-full relative"},rt={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},it=["textContent"],ct=["textContent"],dt={class:"w-full bg-white"},_t={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex"},ut={class:"card-title"},ht={class:"d-flex align-items-center position-relative my-1"},mt=U('<div id="kt_ecommerce_report_views_export" class="d-none"><div class="dt-buttons btn-group flex-wrap"><button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Copy</span></button> <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Excel</span></button> <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>CSV</span></button> <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>PDF</span></button></div></div>',1),vt={class:"card-toolbar flex-row-fluid justify-content-end gap-5 w-200px"},xt={class:"w-150px"},bt=["textContent","value"],pt={class:"card-toolbar w-full flex-end"},yt={class:"w-full"},ft=["src"],wt=["onClick"],kt=["src"],gt=["textContent"],Ct={class:"w-full relative flex gap-2"},Tt=["src"],Vt=["textContent"],zt=["textContent"],Dt=["textContent"],Ot=["textContent"],Et=["textContent"],It=["onClick","textContent"],Wt=["textContent"],St=["textContent"],At=["onClick"],Lt=["onClick"];function Nt(v,a,i,t,D,m){const d=h("taxi_trip_wizard"),x=h("taxi_trip_track_wizard"),T=h("usertype_picker"),b=h("vue-tailwind-datepicker"),w=h("vue-feather"),V=h("delete_icon"),k=h("datatabble");return n(),l("div",X,[!t.showOptions&&!t.showWizard&&t.content.items&&!t.content.items.length?(n(),l("div",Z,[s("div",$,[s("div",tt,[s("div",et,[s("h2",{class:"fs-2x fw-bold mb-0",textContent:r(t.content.title)},null,8,st),s("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:r(t.translate("Empty data"))},null,8,nt),s("a",{textContent:r(t.translate("add_new")),onClick:a[0]||(a[0]=e=>t.showOptions=!0),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,at)]),ot])])])):o("",!0),t.showWizard&&t.activeItem.usertype?(n(),C(d,{onCallback:a[1]||(a[1]=e=>t.showWizard=!1),conf:i.conf,currency:i.currency,usertype:t.activeItem.usertype,userslist:t.usersList,key:t.showWizard,vehicles:t.content.vehicles,drivers:t.content.drivers,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["conf","currency","usertype","userslist","vehicles","drivers","system_setting","item","business_setting"])):o("",!0),t.showTrackWizard&&t.activeItem.usertype?(n(),C(x,{onCallback:a[2]||(a[2]=e=>t.showTrackWizard=!1),conf:i.conf,currency:i.currency,key:t.showTrackWizard,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["conf","currency","system_setting","item","business_setting"])):o("",!0),!t.showWizard&&t.showOptions?(n(),C(T,{alias:t.translate("Need taxi trip"),disable_students:!0,key:t.showOptions,auth:i.auth,item:t.activeItem,onCallback:t.setType},null,8,["alias","auth","item","onCallback"])):o("",!0),!t.showWizard&&!t.showOptions&&!t.showTrackWizard&&t.content?(n(),l("div",lt,[t.content.items&&t.content.items.length?(n(),l("main",{key:t.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[s("div",rt,[s("h1",{class:"font-bold text-lg w-full",textContent:r(t.content.title)},null,8,it),s("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:a[3]||(a[3]=e=>t.showOptions=!0),textContent:r(t.translate("add_new"))},null,8,ct)]),s("div",dt,[s("div",_t,[s("div",ut,[s("div",ht,[O(s("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>t.searchValue=e),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-125px",placeholder:"Search Report"},null,512),[[M,t.searchValue]])]),mt]),s("div",vt,[s("div",xt,[O(s("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>t.searchField=e),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(n(!0),l(j,null,B(t.content.columns,e=>(n(),l("option",{textContent:r(e.text),value:e.value},null,8,bt))),256))],512),[[P,t.searchField]])])]),s("div",pt,[s("div",yt,[z(b,{formatter:t.formatter,"onUpdate:modelValue":[a[6]||(a[6]=e=>t.handleSelectedDate(e)),a[7]||(a[7]=e=>t.dateValue=e)],separator:" - "+t.translate("To")+" - ",modelValue:t.dateValue},null,8,["formatter","separator","modelValue"])])])]),t.content.columns?(n(),C(k,{key:0,"search-field":t.searchField,"search-value":t.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("is_rtl"),"fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":u(e=>[s("img",{src:e.picture,class:"w-8 h-8 rounded-full"},null,8,ft)]),"item-driver":u(e=>[s("div",{class:"w-full relative flex gap-2 cursor-pointer",onClick:p=>t.handleAction("driver",e)},[s("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.driver&&e.driver.picture?e.driver.picture:"https://via.placeholder.com/37x37"},null,8,kt),e.driver?(n(),l("span",{key:0,class:"font-semibold p-1",textContent:r(e.driver.name)},null,8,gt)):o("",!0)],8,wt)]),"item-model":u(e=>[s("div",Ct,[s("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.model&&e.model.picture?e.model.picture:"https://via.placeholder.com/37x37"},null,8,Tt),e.model?(n(),l("span",{key:0,class:"p-1",textContent:r(e.model.name)},null,8,Vt)):o("",!0)])]),"item-total_cost":u(e=>[s("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,zt)]),"item-subtotal":u(e=>[s("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,Dt)]),"item-status":u(e=>[e.status=="scheduled"?(n(),l("p",{key:0,class:"py-2",textContent:r(t.translate(e.status))},null,8,Ot)):o("",!0),e.status=="started"?(n(),l("span",{key:1,class:"",textContent:r(t.translate(e.status))},null,8,Et)):o("",!0),e.status=="started"?(n(),l("p",{key:2,class:"cursor-pointer fw-bold",onClick:p=>(t.showTrackWizard=!0,t.activeItem=e),textContent:r(t.translate("Live Track"))},null,8,It)):o("",!0),e.status=="completed"?(n(),l("p",{key:3,class:"py-2 text-green-600",textContent:r(t.translate(e.status))},null,8,Wt)):o("",!0),e.status=="cancelled"?(n(),l("p",{key:4,class:"py-2 text-red-600",textContent:r(t.translate(e.status))},null,8,St)):o("",!0)]),"item-details":u(e=>[e.not_editable?o("",!0):(n(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:p=>t.handleAction("edit",e)},[z(w,{class:"w-5",type:"edit"})],8,At))]),"item-delete":u(e=>[e.not_removeable?o("",!0):(n(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:p=>t.handleAction("delete",e)},[z(V,{class:"w-5"})],8,Lt))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):o("",!0)])])):o("",!0)])):o("",!0)])}const Pt=W(Q,[["render",Nt]]);export{Pt as default};
