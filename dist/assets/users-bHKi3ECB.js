import{_ as S,k as _,l as A,r as p,o,c as s,a as t,t as l,F as f,i as h,d,j as w,p as b,q as E,s as I,u as R,x as U,n as N,y as O,z as C}from"./index-7jcKUayi.js";const P=b(()=>C(()=>import("./side-form-create-XA_nxzcs.js"),__vite__mapDeps([0,1,2,3,4,5]))),V=b(()=>C(()=>import("./side-form-update-qqJ1th_m.js"),__vite__mapDeps([6,1,2,3,4,5]))),z={components:{SideFormCreate:P,SideFormUpdate:V},name:"Users",setup(m){const c=m.conf.url+m.path+"?load=json",i=_(!1),e=_(!1),v=_({}),u=_({});return(()=>{E(c).then(n=>{u.value=JSON.parse(JSON.stringify(n))})})(),{url:c,showAddSide:i,showEditSide:e,content:u,activeItem:v,setActiveStatus:n=>{n.active=!n.active;var a=new URLSearchParams;a.append("type","User.updateStatus"),a.append("params",JSON.stringify(n)),I(a,"/api/update").then(k=>{R(k.result)})},closeSide:()=>{i.value=!1,e.value=!1},sameRole:(n,a)=>(console.log(n),console.log(a),n.role_id==a.role_id),translate:A}},props:["path","lang","setting","conf","auth"]},B={class:"w-full flex overflow-auto",style:{height:"85vh","z-index":"9999"}},F={class:"w-full"},L={key:0,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},T={class:"px-4 mb-6 py-4 rounded-lg shadow-lg bg-white dark:bg-gray-700 flex w-full"},j=["textContent"],q=t("hr",{class:"mt-2"},null,-1),D={class:"w-full flex gap gap-6"},J={class:"w-full pb-4"},G={class:"pb-b flex gap-4"},H=["textContent"],K=["textContent"],M=t("hr",null,null,-1),Q={class:"w-full grid lg:grid-cols-3 gap gap-6"},W={class:"mb-2 rounded-lg bg-white p-4"},X={class:"flex items-center space-x-4 gap gap-4"},Y={class:"flex-shrink-0"},Z={class:"relative"},$=t("div",{class:"absolute inset-0 rounded-full shadow-inner","aria-hidden":"true"},null,-1),ee=["src"],te={class:"flex-grow w-full"},ne={class:"text-lg font-medium text-gray-900"},oe=["textContent"],se=["textContent"],le={class:"text-center"},ae=["onClick"],ie=["textContent"],ce=["textContent","onClick"];function de(m,c,i,e,v,u){const x=p("side-form-create"),g=p("side-form-update");return o(),s("div",B,[t("div",F,[e.content?(o(),s("main",L,[t("div",T,[t("h1",{class:"font-bold text-lg w-full",textContent:l(e.content.title)},null,8,j),t("a",{href:"javascript:;",class:"menu-dark uppercase p-2 mx-2 text-center text-white w-32 rounded bg-gradient-purple hover:bg-red-800",onClick:c[0]||(c[0]=r=>{e.showAddSide=!0,e.activeItem={}})},l(e.translate("add_new")),1)]),q,t("div",D,[e.content&&e.content.users?(o(),s("div",{key:e.content.users,class:"w-full"},[(o(!0),s(f,null,h(e.content.roles,r=>(o(),s("div",J,[t("h3",G,[t("span",{textContent:l(r.name)},null,8,H),U(),t("span",{class:"pt-2 text-sm text-muted",textContent:l(r.id>1?e.translate("Theese users can manage your account only"):"")},null,8,K)]),M,t("div",Q,[(o(!0),s(f,null,h(e.content.users,y=>(o(),s("div",W,[(o(!0),s(f,null,h(e.content.users,n=>(o(),s("div",X,[t("div",Y,[t("div",Z,[$,t("img",{class:"relative w-12 h-12 rounded-full",src:n.photo,alt:"User avatar"},null,8,ee)])]),t("div",te,[t("div",ne,l(n.first_name)+" "+l(n.last_name),1),t("div",{class:"text-sm font-medium text-gray-500",textContent:l(n.phone)},null,8,oe),t("div",{class:"text-sm font-medium text-gray-500",textContent:l(n.email)},null,8,se)]),t("div",le,[t("div",{class:"flex gap gap-2 cursor-pointer",onClick:a=>e.setActiveStatus(n)},[t("span",{class:N([n.active?"":"bg-inverse-dark","mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[t("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:O({left:n.active?"16px":0})},null,4)],2),t("span",{textContent:l(n.active?e.translate("Active"):e.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,ie)],8,ae),n.id==i.auth.id||i.auth.role_id==1?(o(),s("span",{key:0,textContent:l(e.translate("edit")),class:"hover:bg-purple-800 hover:text-gray-100 my-2 inline-flex items-center px-6 py-1 rounded-full text-xs pb-2 font-medium bg-blue-100 text-blue-800 cursor-pointer",onClick:a=>{e.showEditSide=!0,e.showAddSide=!1,e.activeItem=n}},null,8,ce)):d("",!0)])]))),256))]))),256))])]))),256))])):d("",!0),e.showAddSide&&e.content&&e.content.fillable?(o(),w(x,{key:1,onCallback:e.closeSide,conf:i.conf,model:"User.create",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","columns"])):d("",!0),e.showEditSide&&!e.showAddSide?(o(),w(g,{key:2,onCallback:e.closeSide,conf:i.conf,model:"User.update",item:e.activeItem,model_id:e.activeItem.id,index:"id",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","item","model_id","columns"])):d("",!0)])])):d("",!0)])])}const _e=S(z,[["render",de]]);export{_e as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/side-form-create-XA_nxzcs.js","assets/index-7jcKUayi.js","assets/index-OY3wY1QZ.css","assets/Field-vb0votDN.js","assets/Manager-PZ-8_Lgg.js","assets/Manager-Cgf44v6b.css","assets/side-form-update-qqJ1th_m.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}