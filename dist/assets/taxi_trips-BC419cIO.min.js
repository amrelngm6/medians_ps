const __vite__fileDeps=["map-CtpUxMt_.min.js","index.es-CjY_suAG.min.js","index.min.js","index.min.css","trip_page-kf_-tVEY.min.js","trip_map-CXenG-bu.min.js","usertype_picker-D0Oq6uW-.min.js","taxiTripWizard-UV7Ff04f.min.js","editable_map_location-CcykQkjZ.min.js","drivers_locations_map-Dd5a3cIi.min.js","taxi_trip_map-PIyWPrI1.min.js","taxiTripTrackWizard-CvGW48KK.min.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as S,D as A,A as L,I as N,J as R,R as F,r as c,t as M,a as v,o as n,c as l,d as s,e as r,b as o,y as C,w as I,v as P,x as j,F as B,f as J,g as V,z as h,q as y,u as f,j as E,k as U,p as Y}from"./index.min.js";const q=y(()=>f(()=>import("./map-CtpUxMt_.min.js"),__vite__mapDeps([0,1,2,3]))),G=y(()=>f(()=>import("./trip_page-kf_-tVEY.min.js"),__vite__mapDeps([4,2,3,5,1]))),K=y(()=>f(()=>import("./usertype_picker-D0Oq6uW-.min.js"),__vite__mapDeps([6,2,3]))),H=y(()=>f(()=>import("./taxiTripWizard-UV7Ff04f.min.js"),__vite__mapDeps([7,2,3,8,1,9,10]))),Q=y(()=>f(()=>import("./taxiTripTrackWizard-CvGW48KK.min.js"),__vite__mapDeps([11,2,3,8,1,9,10]))),X={components:{datatabble:A,maps:q,delete_icon:L,car_icon:N,route_icon:R,trip_page:G,usertype_picker:K,taxi_trip_wizard:H,VueTailwindDatepicker:F,taxi_trip_track_wizard:Q},name:"Taxi trips",setup(p){const a=c({startDate:"",endDate:""}),i=c({date:"YYYY-MM-DD",month:"MMM"}),t=p.conf.url+p.path+"?load=json",x=c(null),D=c(null),_=c({}),d=c({}),m=c([]),T=c(!1),b=c(!1),w=c(!1),z=c(""),e=c("#");(()=>{E(t).then(u=>{d.value=JSON.parse(JSON.stringify(u)),e.value=d.value.columns[1].value})})();const W=(u,g)=>{switch(_.value=g,O(),u){case"view":break;case"edit":x.value=null,x.value="Confirm",b.value=!0;break;case"driver":x.value="Driver",b.value=!0;break;case"delete":U("trip_id",g,"TaxiTrip.delete");break}},O=()=>{_.value.usertype=="employee"&&(m.value=d.value.employees),_.value.usertype=="parents"&&(m.value=d.value.parents),_.value.usertype=="supervisor"&&(m.value=d.value.supervisors)};return{defaultTab:x,handleSelectedDate:u=>{E(p.conf.url+p.path+"?start_date="+u.startDate+"&end_date="+u.endDate+"&load=json").then(g=>{d.value=JSON.parse(JSON.stringify(g))})},usersList:m,showTrackWizard:D,showWizard:b,setType:u=>{_.value.usertype=u,w.value=!1,b.value=!0,O()},showOptions:w,showTrip:T,url:t,content:d,activeItem:_,searchValue:z,searchField:e,translate:M,handleAction:W,dateValue:a,formatter:i}},props:["path","lang","business_setting","system_setting","conf","auth","currency"]},Z={class:"w-full overflow-auto"},$={key:0,class:""},tt={class:"card"},et={class:"card-body"},st={class:"card-px text-center pt-15 pb-15"},nt=["textContent"],at=["textContent"],ot=["textContent"],lt=s("div",{class:"text-center pb-15 px-5"},[s("img",{src:"/uploads/img/start-wizard.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"})],-1),rt={key:4,class:"w-full relative"},it={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},ct=["textContent"],dt=["textContent"],_t={class:"w-full bg-white"},ut={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex"},ht={class:"card-title"},vt={class:"d-flex align-items-center position-relative my-1"},mt=Y('<div id="kt_ecommerce_report_views_export" class="d-none"><div class="dt-buttons btn-group flex-wrap"><button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Copy</span></button> <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Excel</span></button> <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>CSV</span></button> <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>PDF</span></button></div></div>',1),bt={class:"card-toolbar flex-row-fluid justify-content-end gap-5 w-200px"},pt={class:"w-150px"},xt=["textContent","value"],yt={class:"card-toolbar w-full flex-end"},ft={class:"w-full"},wt=["src"],kt=["onClick"],gt=["src"],Ct=["textContent"],Tt={class:"w-full relative flex gap-2"},zt=["src"],Vt=["textContent"],Dt=["textContent"],Ot=["textContent"],It=["textContent"],Et=["textContent"],Wt=["onClick","textContent"],St=["textContent"],At=["textContent"],Lt=["onClick"],Nt=["onClick"];function Rt(p,a,i,t,x,D){const _=v("taxi_trip_wizard"),d=v("taxi_trip_track_wizard"),m=v("usertype_picker"),T=v("vue-tailwind-datepicker"),b=v("vue-feather"),w=v("delete_icon"),z=v("datatabble");return n(),l("div",Z,[!t.showOptions&&!t.showWizard&&t.content.items&&!t.content.items.length?(n(),l("div",$,[s("div",tt,[s("div",et,[s("div",st,[s("h2",{class:"fs-2x fw-bold mb-0",textContent:r(t.content.title)},null,8,nt),s("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:r(t.translate("Empty data"))},null,8,at),s("a",{textContent:r(t.translate("add_new")),onClick:a[0]||(a[0]=e=>t.showOptions=!0),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,ot)]),lt])])])):o("",!0),t.showWizard&&t.activeItem.usertype?(n(),C(_,{onCallback:a[1]||(a[1]=e=>t.showWizard=!1),active_tab:t.defaultTab,conf:i.conf,currency:i.currency,usertype:t.activeItem.usertype,userslist:t.usersList,key:t.showWizard,vehicles:t.content.vehicles,drivers:t.content.drivers,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["active_tab","conf","currency","usertype","userslist","vehicles","drivers","system_setting","item","business_setting"])):o("",!0),t.showTrackWizard&&t.activeItem.usertype?(n(),C(d,{onCallback:a[2]||(a[2]=e=>t.showTrackWizard=!1),conf:i.conf,currency:i.currency,key:t.showTrackWizard,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["conf","currency","system_setting","item","business_setting"])):o("",!0),!t.showWizard&&t.showOptions?(n(),C(m,{alias:t.translate("Need taxi trip"),key:t.showOptions,auth:i.auth,item:t.activeItem,onCallback:t.setType},null,8,["alias","auth","item","onCallback"])):o("",!0),!t.showWizard&&!t.showOptions&&!t.showTrackWizard&&t.content?(n(),l("div",rt,[t.content.items&&t.content.items.length?(n(),l("main",{key:t.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[s("div",it,[s("h1",{class:"font-bold text-lg w-full",textContent:r(t.content.title)},null,8,ct),s("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:a[3]||(a[3]=e=>t.showOptions=!0),textContent:r(t.translate("add_new"))},null,8,dt)]),s("div",_t,[s("div",ut,[s("div",ht,[s("div",vt,[I(s("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>t.searchValue=e),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-125px",placeholder:"Search Report"},null,512),[[P,t.searchValue]])]),mt]),s("div",bt,[s("div",pt,[I(s("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>t.searchField=e),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(n(!0),l(B,null,J(t.content.columns,e=>(n(),l("option",{textContent:r(e.text),value:e.value},null,8,xt))),256))],512),[[j,t.searchField]])])]),s("div",yt,[s("div",ft,[V(T,{formatter:t.formatter,"onUpdate:modelValue":[a[6]||(a[6]=e=>t.handleSelectedDate(e)),a[7]||(a[7]=e=>t.dateValue=e)],separator:" - "+t.translate("To")+" - ",modelValue:t.dateValue},null,8,["formatter","separator","modelValue"])])])]),t.content.columns?(n(),C(z,{key:0,"search-field":t.searchField,"search-value":t.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("is_rtl"),"fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":h(e=>[s("img",{src:e.picture,class:"w-8 h-8 rounded-full"},null,8,wt)]),"item-driver":h(e=>[s("div",{class:"w-full relative flex gap-2 cursor-pointer",onClick:k=>t.handleAction("driver",e)},[s("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.driver&&e.driver.picture?e.driver.picture:"/uploads/images/default_profile.png"},null,8,gt),e.driver?(n(),l("span",{key:0,class:"font-semibold p-1",textContent:r(e.driver.name)},null,8,Ct)):o("",!0)],8,kt)]),"item-model":h(e=>[s("div",Tt,[s("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.model&&e.model.picture?e.model.picture:"/uploads/images/default_profile.png"},null,8,zt),e.model?(n(),l("span",{key:0,class:"p-1",textContent:r(e.model.name)},null,8,Vt)):o("",!0)])]),"item-total_cost":h(e=>[s("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,Dt)]),"item-subtotal":h(e=>[s("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,Ot)]),"item-status":h(e=>[e.status=="scheduled"?(n(),l("p",{key:0,class:"py-2",textContent:r(t.translate(e.status))},null,8,It)):o("",!0),e.status=="started"?(n(),l("span",{key:1,class:"",textContent:r(t.translate(e.status))},null,8,Et)):o("",!0),e.status=="started"?(n(),l("p",{key:2,class:"cursor-pointer fw-bold",onClick:k=>(t.showTrackWizard=!0,t.activeItem=e),textContent:r(t.translate("Live Track"))},null,8,Wt)):o("",!0),e.status=="completed"?(n(),l("p",{key:3,class:"py-2 text-green-600",textContent:r(t.translate(e.status))},null,8,St)):o("",!0),e.status=="cancelled"?(n(),l("p",{key:4,class:"py-2 text-red-600",textContent:r(t.translate(e.status))},null,8,At)):o("",!0)]),"item-details":h(e=>[e.not_editable?o("",!0):(n(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:k=>t.handleAction("edit",e)},[V(b,{class:"w-5",type:"edit"})],8,Lt))]),"item-delete":h(e=>[e.not_removeable?o("",!0):(n(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:k=>t.handleAction("delete",e)},[V(w,{class:"w-5"})],8,Nt))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):o("",!0)])])):o("",!0)])):o("",!0)])}const jt=S(X,[["render",Rt]]);export{jt as default};
