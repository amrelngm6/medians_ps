import{_ as k,ag as v,ai as f,ah as C,ae as w,af as x,j as l,r as g,c as _,o as c,x as h,z as u,f as y,F as M,e as z,b as m}from"./index.min.js";const B={components:{GoogleMap:x,Marker:w,Polyline:C,InfoWindow:f,CustomMarker:v},name:"Map",emits:["click-marker","update-marker"],emits:["setdriver"],setup(a,{emit:s}){const t=l(null),o=l(10),i=l({}),n=l([]);for(let e=0;e<a.drivers.length;e++){const r=a.drivers[e];n.value[e]={lat:Number(r.vehicle.latitude)??0,lng:Number(r.vehicle.longitude)??0}}return i.value=a.center??n.value[0],{handleZoom:()=>{const e=new window.google.maps.LatLngBounds;n.value.forEach(r=>{e.extend(r)}),i.value=e.getCenter(),t.value.fitBounds(e)},markerClicked:e=>{s("setdriver",e)},zoom:o,map:t,mapCenter:i,markers:n}},props:["path","lang","setting","conf","auth","center","item","drivers"]},b={class:"w-full overflow-auto"},L={style:{"text-align":"center"}},N=["src"];function G(a,s,t,o,i,n){const d=g("CustomMarker"),p=g("GoogleMap");return c(),_("div",b,[(c(),h(p,{"api-key":t.setting.google_map_api,ref:"map",center:o.mapCenter,key:o.mapCenter,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0},zoom:o.zoom,style:{width:"100%",height:"calc(100vh -  100px)"}},{default:u(()=>[(c(!0),_(M,null,z(o.markers,(e,r)=>(c(),h(d,{options:{position:e},onClick:V=>o.markerClicked(t.drivers[r])},{default:u(()=>[m("div",L,[m("img",{src:"/app/image.php?h=50&w=50&src="+t.drivers[r].picture,width:"40",class:"rounded-full bg-white",height:"40",style:{"margin-top":"8px"}},null,8,N)])]),_:2},1032,["options","onClick"]))),256)),y(d,{options:{position:{lat:t.item.pickup_latitude,lng:t.item.pickup_longitude}}},{default:u(()=>[...s[0]||(s[0]=[m("div",{style:{"text-align":"center"}},[m("img",{src:"/uploads/images/yellow_pin.gif",width:"30",class:"",height:"30",style:{"margin-top":"8px"}})],-1)])]),_:1},8,["options"])]),_:1},8,["api-key","center","zoom"]))])}const E=k(B,[["render",G]]);export{E as d};
