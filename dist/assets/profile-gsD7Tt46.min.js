import{_ as D,f as _,t as n,v as V,u as P,w as F,r as m,o,c,i as t,j as s,a as I,h as a,F as O,k as B,x as N,g as v,d as u,b as f,m as j}from"./index.min.js";const M=u(()=>f(()=>import("./form_field-XCDx76nk.min.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),z=u(()=>f(()=>import("./account-N8vIfDBJ.min.js"),__vite__mapDeps([7,1,2]))),U=u(()=>f(()=>import("./subscriptions-TDZvBqwe.min.js"),__vite__mapDeps([8,1,2]))),J=u(()=>f(()=>import("./invoices-7SSC8FCL.min.js"),__vite__mapDeps([9,1,2]))),W=u(()=>f(()=>import("./withdrawal-WGlAgxM3.min.js"),__vite__mapDeps([10,1,2]))),q=u(()=>f(()=>import("./setting-5A5E6PKs.min.js"),__vite__mapDeps([11,1,2]))),G=u(()=>f(()=>import("./info-TUR8Hwk2.min.js"),__vite__mapDeps([12,1,2]))),H={components:{account_tab:z,form_field:M,subscriptions_tab:U,invoices_tab:J,withdrawal_tab:W,setting_tab:q,info_tab:G},name:"Users",setup(w){const x=w.conf.url+w.path+"?load=json",i=_(!1),e=_(!1),E=_(!1),d=_({}),b=_({}),y=_("account"),g=_([{title:n("Account"),link:"account"},{title:n("Settings"),link:"settings"},{title:n("Business info"),link:"business_info"},{title:n("Subscriptions"),link:"subscriptions"},{title:n("Invoices"),link:"invoices"},{title:n("Withdrawal"),link:"withdrawal"}]),p=_({paypal:[{title:n("Fullname"),type:"",code:"fullname"},{title:n("Email"),type:"",code:"email"},{title:n("Mobile"),type:"",code:"mobile"}],paystack:[{title:n("Fullname"),type:"",code:"fullname"},{title:n("Email"),type:"",code:"email"},{title:n("Mobile"),type:"",code:"mobile"}],bank:[{title:n("Fullname"),type:"",code:"fullname"},{title:n("Email"),type:"",code:"email"},{title:n("Mobile"),type:"",code:"mobile"},{title:n("Bank name"),type:"",code:"bank_account_name"},{title:n("Account name"),type:"",code:"bank_name"},{title:n("Account IBAN"),type:"",code:"bank_iban"}],vodafone_cash:[{title:n("Fullname"),type:"",code:"fullname"},{title:n("Mobile"),type:"",code:"mobile"}]}),C=l=>{y.value=l};return(()=>{j(x).then(l=>{b.value=JSON.parse(JSON.stringify(l)),d.value=b.value.user})})(),{payment_fields:p,checkFeatureLimit:(l,r)=>{if(l)for(let k=0;k<l.length;k++){const L=l[k];if(L.code==r+".count")return L.access_value}return 0},cost:()=>d.value.business&&d.value.business.subscription&&d.value.business.subscription.plan?d.value.business.subscription.type=="monthly"?d.value.business.subscription.plan.monthly_cost:d.value.business.subscription.plan.yearly_cost:0,url:x,showAddSide:i,showEditSide:e,showWizard:E,content:b,setActiveTab:C,tabsList:g,activeTab:y,activeItem:d,checkRole:(l,r)=>!(l==1&&(r=="business_info"||r=="subscriptions"||r=="invoices"||r=="withdrawal")),closeSide:()=>{i.value=!1,e.value=!1},sameRole:(l,r)=>l.role_id==r.role_id,setActiveStatus:V,isInput:P,handleName:F,translate:n}},props:["path","lang","setting","system_setting","business_setting","conf","auth"]},K={class:"w-full mb-5 mb-xl-10"},Q={class:"card p-6"},X={class:"d-flex flex-wrap flex-sm-nowrap"},Y={class:"me-7 mb-4"},Z={class:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative"},$=["src"],tt=t("div",{class:"position-absolute translate-middle bottom-0 start-100 mb-6 bg-success rounded-circle border border-4 border-body h-20px w-20px"},null,-1),et={class:"flex-grow-1"},st={class:"d-flex justify-content-between align-items-start flex-wrap mb-2"},nt={class:"d-flex flex-column"},it={class:"d-flex align-items-center mb-2"},ot=["textContent"],at={class:"d-flex flex-wrap fw-semibold fs-6 mb-4 pe-2"},lt={href:"#",class:"d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"},ct=["textContent"],dt={href:"#",class:"d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"},rt=["textContent"],_t={href:"#",class:"d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"},mt=["textContent"],bt={class:"d-flex my-4"},vt=["textContent"],ut={class:"d-flex flex-wrap flex-stack"},ft={class:"d-flex flex-column flex-grow-1 pe-8"},ht={key:0,class:"d-flex flex-wrap"},xt={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},yt={class:"d-flex align-items-center"},wt=["textContent"],gt=["textContent"],pt={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},Ct={class:"d-flex align-items-center"},kt=["textContent"],It=t("div",{class:"fs-6 fw-bold px-1"},"/",-1),Et=["textContent"],Tt=["textContent"],St={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},At={class:"d-flex align-items-center"},Lt=["textContent"],Rt=t("div",{class:"fs-6 fw-bold px-1"},"/",-1),Dt=["textContent"],Vt=["textContent"],Pt={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},Ft={class:"d-flex align-items-center"},Ot=["textContent"],Bt=t("div",{class:"fs-6 fw-bold px-1"},"/ --",-1),Nt=["textContent"],jt={class:"nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bold"},Mt={class:"nav-item mt-2"},zt=["onClick","textContent"],Ut={class:"w-full pt-9 pb-0"},Jt={class:"d-flex flex-column flex-lg-row"},Wt={class:"flex-lg-row-fluid me-lg-15 order-2 order-lg-1 mb-10 mb-lg-0"},qt={key:0,class:"flex-column flex-lg-row-auto w-lg-250px w-xl-300px mb-10 order-1 order-lg-2"},Gt={class:"card card-flush mb-0","data-kt-sticky":"true","data-kt-sticky-name":"subscription-summary","data-kt-sticky-offset":"{default: false, lg: '200px'}","data-kt-sticky-width":"{lg: '250px', xl: '300px'}","data-kt-sticky-left":"auto","data-kt-sticky-top":"150px","data-kt-sticky-animation":"false","data-kt-sticky-zindex":"95"},Ht={class:"card-header"},Kt={class:"card-title"},Qt=["textContent"],Xt={class:"card-body pt-0 fs-6"},Yt={class:"mb-7"},Zt={class:"d-flex align-items-center"},$t={class:"symbol symbol-60px symbol-circle me-3"},te=["src"],ee={class:"d-flex flex-column"},se=["textContent"],ne=["textContent"],ie=t("div",{class:"separator separator-dashed mb-7"},null,-1),oe={key:0,class:"mb-7"},ae=["textContent"],le={class:"mb-0"},ce=["textContent"],de=["textContent"],re=t("div",{class:"separator separator-dashed mb-7"},null,-1),_e={key:1,class:"mb-7"},me=["textContent"],be=["textContent"],ve=t("div",{class:"separator separator-dashed mb-7"},null,-1),ue={key:2,class:"mb-10"},fe=["textContent"],he={class:"table fs-6 fw-semibold gs-0 gy-2 gx-2"},xe={class:""},ye=["textContent"],we=["textContent"],ge={class:""},pe=["textContent"],Ce=["textContent"],ke=t("div",{class:"mb-0"},[t("a",{href:"javascript:;",class:"btn btn-primary",id:"kt_subscriptions_create_button"}," Cancel Subscription ")],-1);function Ie(w,x,i,e,E,d){const b=m("vue-feather"),y=m("account_tab"),g=m("subscriptions_tab"),p=m("invoices_tab"),C=m("info_tab"),T=m("setting_tab"),S=m("withdrawal_tab"),A=m("side-form-update");return o(),c("div",K,[t("div",Q,[t("div",X,[t("div",Y,[t("div",Z,[t("img",{src:i.auth.photo,class:"w-20",alt:"image"},null,8,$),tt])]),t("div",et,[t("div",st,[t("div",nt,[t("div",it,[t("a",{href:"#",class:"text-gray-900 text-hover-primary fs-2 fw-bold me-1",textContent:s(i.auth.name)},null,8,ot)]),t("div",at,[t("a",lt,[I(b,{class:"w-5 mx-1",type:"eye"}),t("span",{textContent:s(i.auth.role.name)},null,8,ct)]),t("a",dt,[I(b,{class:"w-5 mx-1",type:"smartphone"}),t("span",{textContent:s(i.auth.phone)},null,8,rt)]),t("a",_t,[I(b,{class:"w-5 mx-1",type:"at-sign"}),t("span",{textContent:s(i.auth.email)},null,8,mt)])])]),t("div",bt,[t("a",{onClick:x[0]||(x[0]=h=>e.showEditSide=!0),href:"javascript:;",class:"text-white btn btn-sm btn-primary me-3",textContent:s(e.translate("Edit"))},null,8,vt)])]),t("div",ut,[t("div",ft,[e.activeItem.business&&e.content?(o(),c("div",ht,[t("div",xt,[t("div",yt,[t("div",{class:"fs-2 fw-bold",textContent:s(e.activeItem.business.subscription.plan_name)},null,8,wt)]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Plan"))},null,8,gt)]),t("div",pt,[t("div",null,[t("div",Ct,[t("div",{class:"fs-2 fw-bold",textContent:s(e.content.stats.drivers_count)},null,8,kt),It,e.activeItem.business.subscription?(o(),c("div",{key:0,class:"fs-6 fw-bold",textContent:s(e.checkFeatureLimit(e.activeItem.business.subscription.plan_features,"Driver"))},null,8,Et)):a("",!0)])]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Drivers"))},null,8,Tt)]),t("div",St,[t("div",null,[t("div",At,[t("div",{class:"fs-2 fw-bold",textContent:s(e.content.stats.vehicles_count)},null,8,Lt),Rt,e.activeItem.business.subscription?(o(),c("div",{key:0,class:"fs-6 fw-bold",textContent:s(e.checkFeatureLimit(e.activeItem.business.subscription.plan_features,"Vehicle"))},null,8,Dt)):a("",!0)])]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Vehicles"))},null,8,Vt)]),t("div",Pt,[t("div",null,[t("div",Ft,[t("div",{class:"fs-2 fw-bold",textContent:s(e.content.stats.trips_count)},null,8,Ot),Bt])]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Trips"))},null,8,Nt)])])):a("",!0)])])])])]),t("ul",jt,[(o(!0),c(O,null,B(e.tabsList,h=>(o(),c("li",Mt,[e.checkRole(e.activeItem.role_id,h.link)?(o(),c("a",{key:0,onClick:R=>e.setActiveTab(h.link),class:N([e.activeTab==h.link?"active":"","nav-link text-active-primary ms-0 me-10 py-5"]),href:"javascript:;",textContent:s(h.title)},null,10,zt)):a("",!0)]))),256))]),t("div",Ut,[t("div",Jt,[t("div",Wt,[e.activeTab=="account"?(o(),v(y,{key:0,overview:e.content.overview,item:e.activeItem},null,8,["overview","item"])):a("",!0),e.activeTab=="subscriptions"?(o(),v(g,{key:1,conf:i.conf,overview:e.content.overview,item:e.activeItem},null,8,["conf","overview","item"])):a("",!0),e.activeTab=="invoices"?(o(),v(p,{key:2,conf:i.conf,invoices:e.content.invoices,item:e.activeItem,system_setting:i.system_setting},null,8,["conf","invoices","item","system_setting"])):a("",!0),e.activeTab=="business_info"?(o(),v(C,{key:3,conf:i.conf,overview:e.content.overview,item:e.activeItem},null,8,["conf","overview","item"])):a("",!0),e.activeTab=="settings"?(o(),v(T,{key:4,conf:i.conf,fillable:e.content.fillable,item:e.activeItem,system_setting:i.system_setting},null,8,["conf","fillable","item","system_setting"])):a("",!0),e.activeTab=="withdrawal"?(o(),v(S,{key:5,conf:i.conf,auth:i.auth,business_withdrawals:e.content.business_withdrawals,wallet:e.content.wallet,system_setting:i.system_setting,item:e.activeItem},null,8,["conf","auth","business_withdrawals","wallet","system_setting","item"])):a("",!0)]),e.activeItem.business?(o(),c("div",qt,[t("div",Gt,[t("div",Ht,[t("div",Kt,[t("h2",{textContent:s(e.translate("Summary"))},null,8,Qt)])]),t("div",Xt,[t("div",Yt,[t("div",Zt,[t("div",$t,[t("img",{alt:"Pic",src:e.activeItem.picture??"/uploads/images/default_profile.png"},null,8,te)]),t("div",ee,[t("a",{href:"#",class:"fs-4 fw-bold text-gray-900 text-hover-primary me-2",textContent:s(e.activeItem.name)},null,8,se),t("a",{href:"#",class:"fw-semibold text-gray-600 text-hover-primary",textContent:s(e.activeItem.email)},null,8,ne)])])]),ie,e.activeItem.business&&e.activeItem.business.subscription?(o(),c("div",oe,[t("h5",{class:"mb-4",textContent:s(e.translate("Plan"))},null,8,ae),t("div",le,[t("span",{class:"text-lg me-2",textContent:s(e.activeItem.business.subscription.plan_name)},null,8,ce),t("span",{class:"fw-semibold text-gray-600",textContent:s(e.activeItem.business.subscription.plan?e.cost()+""+i.system_setting.currency+" /"+e.activeItem.business.subscription.type:"")},null,8,de)])])):a("",!0),re,e.activeItem.business?(o(),c("div",_e,[t("h5",{class:"mb-4",textContent:s(e.translate("Business"))},null,8,me),t("div",{class:"mb-4 fs-bold",textContent:s(e.activeItem.business.business_name)},null,8,be)])):a("",!0),ve,e.activeItem.business&&e.activeItem.business.subscription?(o(),c("div",ue,[t("h5",{class:"mb-4",textContent:s(e.translate("Subscription Details"))},null,8,fe),t("table",he,[t("tbody",null,[t("tr",xe,[t("td",{class:"text-gray-500",textContent:s(e.translate("Subscription ID"))},null,8,ye),t("td",{class:"text-gray-800",textContent:s(e.activeItem.business.subscription.subscription_id)},null,8,we)])]),t("tbody",null,[t("tr",ge,[t("td",{class:"text-gray-500",textContent:s(e.translate("Upcoming renewal"))},null,8,pe),t("td",{class:"text-gray-800",textContent:s(e.activeItem.business.subscription.end_date)},null,8,Ce)])])])])):a("",!0),ke])])])):a("",!0)])]),e.showEditSide?(o(),v(A,{key:0,onCallback:e.closeSide,conf:i.conf,model:"User.update",item:e.activeItem,model_id:e.activeItem.id,index:"id",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","item","model_id","columns"])):a("",!0)])}const Se=D(H,[["render",Ie]]);export{Se as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["form_field-XCDx76nk.min.js","index.min.js","index.min.css","Field-aCrt3g7G.min.js","Field.min.css","editable_map_location-2n5EeFE3.min.js","index.es-DAMB7NLm.min.js","account-N8vIfDBJ.min.js","subscriptions-TDZvBqwe.min.js","invoices-7SSC8FCL.min.js","withdrawal-WGlAgxM3.min.js","setting-5A5E6PKs.min.js","info-TUR8Hwk2.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
