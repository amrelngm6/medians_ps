import{_ as T,D as E,e as A,y as I,z as S,f as l,t as L,r as h,o,c as r,g as b,h as c,i as a,j as x,A as V,B as N,C as P,F as R,k as B,E as k,a as z,d as p,b as y,m as D,p as F}from"./index.min.js";const W=p(()=>y(()=>import("./map-3aWTi5ww.min.js"),__vite__mapDeps([0,1,2,3]))),j=p(()=>y(()=>import("./trip_page-24VlmbbO.min.js"),__vite__mapDeps([4,2,3,5,1]))),J=p(()=>y(()=>import("./usertype_picker--L6V32hh.min.js"),__vite__mapDeps([6,2,3]))),U=p(()=>y(()=>import("./privateTripWizard-3A22Mk0x.min.js"),__vite__mapDeps([7,2,3,8,1,9,10]))),M={components:{datatabble:E,maps:W,delete_icon:A,car_icon:I,route_icon:S,trip_page:j,usertype_picker:J,private_trip_wizard:U},name:"Private trips",setup(d){const s=d.conf.url+d.path+"?load=json";l(null);const n=l({}),e=l({}),u=l([]),C=l(!1),_=l(!1),v=l(!1),w=l(""),m=l("#");(()=>{D(s).then(i=>{e.value=JSON.parse(JSON.stringify(i)),m.value=e.value.columns[1].value})})();const t=(i,f)=>{switch(i){case"view":break;case"edit":n.value=f,_.value=!0;break;case"delete":F("trip_id",f,"PrivateTrip.delete");break}},g=()=>{n.value.usertype=="employee"&&(u.value=e.value.employees),n.value.usertype=="supervisor"&&(u.value=e.value.supervisors)};return{handleSelectedDate:i=>{D(d.conf.url+d.path+"?start_date="+i.startDate+"&end_date="+i.endDate+"&load=json").then(f=>{e.value=JSON.parse(JSON.stringify(f))})},usersList:u,showWizard:_,setType:i=>{n.value.usertype=i,v.value=!1,_.value=!0,g()},showOptions:v,showTrip:C,url:s,content:e,activeItem:n,searchValue:w,searchField:m,translate:L,handleAction:t}},props:["path","lang","business_setting","system_setting","conf","auth"]},q={class:"w-full overflow-auto"},G={key:2,class:"w-full relative"},K={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},H=["textContent"],Q={class:"w-full bg-white"},X={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex px-4"},Y={class:"card-title"},Z={class:"d-flex align-items-center position-relative my-1"},$={class:"card-toolbar flex-row-fluid justify-content-end gap-5"},ee={class:"w-150px"},te=["textContent","value"],ae=["textContent"],se=["src"],ne=["onClick"],oe=["onClick"];function le(d,s,n,e,u,C){const _=h("private_trip_wizard"),v=h("usertype_picker"),w=h("vue-feather"),m=h("delete_icon"),O=h("datatabble");return o(),r("div",q,[e.showWizard&&e.activeItem.usertype?(o(),b(_,{onCallback:s[0]||(s[0]=t=>e.showWizard=!1),conf:n.conf,usertype:e.activeItem.usertype,userslist:e.usersList,key:e.showWizard,vehicles:e.content.vehicles,drivers:e.content.drivers,system_setting:n.system_setting,item:e.activeItem,business_setting:n.business_setting},null,8,["conf","usertype","userslist","vehicles","drivers","system_setting","item","business_setting"])):c("",!0),!e.showWizard&&e.showOptions?(o(),b(v,{alias:e.translate("Need private trip"),disable_students:!0,key:e.showOptions,auth:n.auth,item:e.activeItem,onCallback:e.setType},null,8,["alias","auth","item","onCallback"])):c("",!0),!e.showWizard&&!e.showOptions&&e.content&&!e.showTrip?(o(),r("div",G,[e.content?(o(),r("main",{key:e.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[a("div",K,[a("h1",{class:"font-bold text-lg w-full",textContent:x(e.content.title)},null,8,H)]),a("div",Q,[a("div",X,[a("div",Y,[a("div",Z,[V(a("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>e.searchValue=t),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-250px ps-12",placeholder:"Search Report"},null,512),[[N,e.searchValue]])])]),a("div",$,[a("div",ee,[V(a("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>e.searchField=t),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(o(!0),r(R,null,B(e.content.columns,t=>(o(),r("option",{textContent:x(t.text),value:t.value},null,8,te))),256))],512),[[P,e.searchField]])])]),a("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:s[3]||(s[3]=t=>e.showOptions=!0),textContent:x(e.translate("add_new"))},null,8,ae)]),e.content.columns?(o(),b(O,{key:0,"search-field":e.searchField,"search-value":e.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":e.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:e.content.columns,items:e.content.items},{"item-picture":k(t=>[a("img",{src:t.picture,class:"w-8 h-8 rounded-full"},null,8,se)]),"item-details":k(t=>[t.not_editable?c("",!0):(o(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:g=>e.handleAction("edit",t)},[z(w,{class:"w-5",type:"edit"})],8,ne))]),"item-delete":k(t=>[t.not_removeable?c("",!0):(o(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:g=>e.handleAction("delete",t)},[z(m,{class:"w-5"})],8,oe))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):c("",!0)])])):c("",!0)])):c("",!0)])}const de=T(M,[["render",le]]);export{de as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-3aWTi5ww.min.js","index.es-rMZ4nck9.min.js","index.min.js","index.min.css","trip_page-24VlmbbO.min.js","help-QMf3rqBc.min.js","usertype_picker--L6V32hh.min.js","privateTripWizard-3A22Mk0x.min.js","editable_map_location-1zr81E_w.min.js","tooltip-s9Xa9pgY.min.js","trip_map-CMY2BqZW.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
