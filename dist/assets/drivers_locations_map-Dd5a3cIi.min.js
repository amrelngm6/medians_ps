import{O as k,x as v,L as f,$ as C,j as w}from"./index.es-CjY_suAG.min.js";import{_ as x,r as i,a as g,o as l,c as _,y as h,z as d,F as y,f as M,d as c,g as z}from"./index.min.js";const B={components:{GoogleMap:k,Marker:v,Polyline:f,InfoWindow:C,CustomMarker:w},name:"Map",emits:["click-marker","update-marker"],emits:["setdriver"],setup(a,{emit:u}){const t=i(null),o=i(10),s=i({}),n=i([]);for(let e=0;e<a.drivers.length;e++){const r=a.drivers[e];n.value[e]={lat:Number(r.vehicle.latitude)??0,lng:Number(r.vehicle.longitude)??0}}return s.value=a.center??n.value[0],{handleZoom:()=>{const e=new window.google.maps.LatLngBounds;n.value.forEach(r=>{e.extend(r)}),s.value=e.getCenter(),t.value.fitBounds(e)},markerClicked:e=>{u("setdriver",e)},zoom:o,map:t,mapCenter:s,markers:n}},props:["path","lang","setting","conf","auth","center","item","drivers"]},L={class:"w-full overflow-auto"},b={style:{"text-align":"center"}},N=["src"],G=c("div",{style:{"text-align":"center"}},[c("img",{src:"/uploads/images/yellow_pin.gif",width:"30",class:"",height:"30",style:{"margin-top":"8px"}})],-1);function V(a,u,t,o,s,n){const m=g("CustomMarker"),p=g("GoogleMap");return l(),_("div",L,[(l(),h(p,{"api-key":t.setting.google_map_api,ref:"map",center:o.mapCenter,key:o.mapCenter,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0},zoom:o.zoom,style:{width:"100%",height:"calc(100vh -  100px)"}},{default:d(()=>[(l(!0),_(y,null,M(o.markers,(e,r)=>(l(),h(m,{options:{position:e},onClick:j=>o.markerClicked(t.drivers[r])},{default:d(()=>[c("div",b,[c("img",{src:"/app/image.php?h=50&w=50&src="+t.drivers[r].picture,width:"40",class:"rounded-full bg-white",height:"40",style:{"margin-top":"8px"}},null,8,N)])]),_:2},1032,["options","onClick"]))),256)),z(m,{options:{position:{lat:t.item.pickup_latitude,lng:t.item.pickup_longitude}}},{default:d(()=>[G]),_:1},8,["options"])]),_:1},8,["api-key","center","zoom"]))])}const O=x(B,[["render",V]]);export{O as d};
