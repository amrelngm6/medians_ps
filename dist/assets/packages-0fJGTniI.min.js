import{_ as A,D as V,G as U,e as W,y as E,z as O,f as m,t as j,r as b,o as a,c as i,i as e,a as g,F as R,k as L,x as z,j as s,H as f,I as h,h as c,B,d as y,b as w,n as J,J as F,K as M,g as D,A as q,m as G,p as K}from"./index.min.js";import{e as N}from"./editable_map_location-sN38-aBc.min.js";import{r as H}from"./route_map-Re9VZOXs.min.js";import{t as Q}from"./tooltip-s9Xa9pgY.min.js";import"./index.es-6MjjNoyG.min.js";const X=y(()=>w(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),Y=y(()=>w(()=>import("./side-form-create-Hnkm4KDO.min.js"),__vite__mapDeps([4,2,3,5,6]))),Z=y(()=>w(()=>import("./side-form-update-_QNnsS5h.min.js"),__vite__mapDeps([7,2,3,5,6,8,9,1]))),$=y(()=>w(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),tt={components:{datatabble:V,SideFormCreate:Y,SideFormUpdate:Z,maps:X,close_icon:U,delete_icon:W,car_icon:E,route_icon:O,form_field:$,editable_map_location:N,route_map:H},name:"Packages",emits:["callback"],setup(r,{emit:o}){const d=m(!1),t=m({}),x=m("Info"),u=m({}),v=m(["Info","Double trips","Single trip","Confirm"]);return r.item&&(t.value=r.item),{progressWidth:()=>M(["name","description","single_cost_month","single_cost_querter","single_cost_year","double_cost_month","double_cost_quarter","double_cost_year","status"],t),showEditSide:d,content:u,fillable:v,activeItem:t,activeTab:x,translate:j,savePackage:()=>{var l=new URLSearchParams;let _=JSON.parse(JSON.stringify(t.value)),T=Object.keys(_),k,P;for(let I=0;I<T.length;I++)k=T[I],P=typeof _[k]=="object"?JSON.stringify(_[k]):_[k],l.append("params["+k+"]",P);let S=_.route_id>0?"update":"create";l.append("type","Package."+S),J(l,"/api/"+S).then(I=>{F(I)})},back:()=>{o("callback")}}},props:["conf","path","system_setting","business_setting","setting","item","drivers","vehicles"]},et={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},st={class:"card w-full py-10"},nt={class:"w-full stepper stepper-links"},lt={class:"stepper-nav justify-content-center py-2 mb-10"},at=["onClick"],it=["textContent"],ct={class:"w-full"},rt={class:"card-body pt-0"},dt={class:"settings-form"},_t={class:"max-w-xl mb-6 mx-auto row"},mt=e("input",{name:"params[route_id]",type:"hidden"},null,-1),ft=["for","textContent"],ht=["placeholder"],ut=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),vt=["for","textContent"],bt=["placeholder"],xt={class:"text-center mt-10"},pt=["textContent"],gt={class:"card-body pt-0"},yt={class:"settings-form"},wt={class:"max-w-xl mb-6 mx-auto"},Ct={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},kt={class:"d-flex flex-stack flex-grow-1"},It={class:"fw-semibold"},qt=["textContent"],Tt=["textContent"],Pt={class:"w-full mb-6 mx-auto row"},St=["textContent"],zt=["placeholder"],Dt={class:"w-full mb-6 mx-auto row"},At=["textContent"],Vt=["placeholder"],Wt={class:"w-full mb-6 mx-auto row"},Et=["textContent"],Ot=["placeholder"],jt={class:"text-center mt-10"},Nt=["textContent"],Ut={class:"card-body pt-0"},Rt={class:"settings-form"},Lt={class:"max-w-xl mb-6 mx-auto"},Bt={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},Jt={class:"d-flex flex-stack flex-grow-1"},Ft={class:"fw-semibold"},Mt=["textContent"],Gt=["textContent"],Kt={class:"w-full mb-6 mx-auto row"},Ht=["textContent"],Qt=["placeholder"],Xt={class:"w-full mb-6 mx-auto row"},Yt=["textContent"],Zt=["placeholder"],$t={class:"w-full mb-6 mx-auto row"},te=["textContent"],ee=["placeholder"],oe={class:"text-center mt-10"},se=["textContent"],ne={class:"w-full flex gap-10"},le={class:"w-full"},ae=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),ie={class:"bg-gray-200 shadow-md mb-10 rounded-xl"},ce={class:"card-header border-0 pt-9"},re={key:0,class:"card-title m-0 flex gap-4"},de={class:"symbol symbol-50px w-50px bg-light"},_e=["src"],me=["textContent"],fe={class:"flex gap-2 cursor-pointer"},he={class:"pt-3"},ue=["textContent"],ve={key:0,class:"card-body p-9"},be=["textContent"],xe=["textContent"],pe={class:"timeline timeline-border-dashed"},ge={class:"timeline-item"},ye=e("div",{class:"timeline-line"},null,-1),we={class:"timeline-icon me-4"},Ce={class:"timeline-content mb-10 mt-n2"},ke={class:"overflow-auto pe-3"},Ie=["textContent"],qe={class:"d-flex align-items-center mt-1 fs-6"},Te=["textContent"],Pe={class:"timeline-item"},Se=e("div",{class:"timeline-line"},null,-1),ze={class:"timeline-icon me-4"},De={class:"timeline-content mb-10 mt-n2"},Ae={class:"overflow-auto pe-3"},Ve=["textContent"],We={class:"d-flex align-items-center mt-1 fs-6"},Ee=["textContent"],Oe={class:"h-4px w-100 bg-light mb-5"},je={key:0,class:"w-full flex gap-4"},Ne={key:0,class:"w-full flex gap-4"},Ue=["src"],Re={class:"w-full block gap-4"},Le=["textContent"],Be=["textContent"],Je={key:1,class:"w-full block gap-4"},Fe=["textContent"],Me=["textContent"],Ge={key:2,class:"w-full block gap-4"},Ke={class:"w-full block gap-4"},He=["textContent"],Qe=["textContent"],Xe={class:"text-center mt-10"},Ye=["textContent"];function Ze(r,o,d,t,x,u){const v=b("close_icon"),C=b("form_field"),p=b("vue-feather");return a(),i("div",et,[e("div",ot,[g(v,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:t.back},null,8,["onClick"]),e("div",st,[e("div",nt,[e("div",lt,[(a(!0),i(R,null,L(t.fillable,n=>(a(),i("div",{class:"stepper-item",onClick:l=>t.activeTab=n},[e("h3",{class:z([t.activeTab==n?"text-danger border-danger":"text-gray-400 border-transparent","cursor-pointer pb-3 px-2 stepper-title text-md border-b"]),textContent:s(n)},null,10,it)],8,at))),256))]),e("div",ct,[t.activeTab=="Info"?(a(),i("div",{class:"",key:t.activeTab},[e("div",rt,[e("div",dt,[e("div",_t,[mt,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Package name"))},null,8,ft),f(e("input",{required:!0,autocomplete:"off",name:"params[name]",class:"form-control form-control-solid",placeholder:t.translate("Package name"),"onUpdate:modelValue":o[0]||(o[0]=n=>t.activeItem.route_name=n)},null,8,ht),[[h,t.activeItem.route_name]]),ut,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Description"))},null,8,vt),f(e("textarea",{required:!0,autocomplete:"off",name:"params[description]",class:"form-control form-control-solid",placeholder:t.translate("Description"),"onUpdate:modelValue":o[1]||(o[1]=n=>t.activeItem.description=n)}," ",8,bt),[[h,t.activeItem.description]])])])]),e("p",xt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[2]||(o[2]=n=>t.activeTab="Double trips"),textContent:s(t.translate("Next"))},null,8,pt)])])):c("",!0),t.activeTab=="Double trips"?(a(),i("div",{class:"",key:t.activeTab},[e("div",gt,[e("div",yt,[e("div",wt,[e("div",Ct,[e("div",kt,[e("div",It,[e("h4",{class:"text-gray-900 fw-bold",textContent:s(t.translate("Double daily trips cost"))},null,8,qt),e("div",{class:"fs-6 text-gray-700",textContent:s(t.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,Tt)])])]),e("div",Pt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,St),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>t.activeItem.single_cost_month=n)},null,8,zt),[[h,t.activeItem.single_cost_month]])]),e("div",Dt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,At),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>t.activeItem.single_cost_quarter=n)},null,8,Vt),[[h,t.activeItem.single_cost_quarter]])]),e("div",Wt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,Et),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>t.activeItem.single_cost_year=n)},null,8,Ot),[[h,t.activeItem.single_cost_year]])])])])]),e("p",jt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[6]||(o[6]=n=>t.activeTab="Single trip"),textContent:s(t.translate("Next"))},null,8,Nt)])])):c("",!0),t.activeTab=="Single trip"?(a(),i("div",{class:"",key:t.activeTab},[e("div",Ut,[e("div",Rt,[e("div",Lt,[e("div",Bt,[e("div",Jt,[e("div",Ft,[e("h4",{class:"text-gray-900 fw-bold",textContent:s(t.translate("Single daily trip cost"))},null,8,Mt),e("div",{class:"fs-6 text-gray-700",textContent:s(t.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Gt)])])]),e("div",Kt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,Ht),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>t.activeItem.single_cost_month=n)},null,8,Qt),[[h,t.activeItem.single_cost_month]])]),e("div",Xt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,Yt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>t.activeItem.single_cost_quarter=n)},null,8,Zt),[[h,t.activeItem.single_cost_quarter]])]),e("div",$t,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,te),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":o[9]||(o[9]=n=>t.activeItem.single_cost_year=n)},null,8,ee),[[h,t.activeItem.single_cost_year]])])])])]),e("p",oe,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[10]||(o[10]=n=>t.activeTab="Confirm"),textContent:s(t.translate("Next"))},null,8,se)])])):c("",!0),t.activeTab=="Confirm"?(a(),i("div",{class:"w-full mx-auto",key:t.activeTab},[e("div",ne,[e("div",le,[ae,e("div",ie,[e("div",ce,[t.activeItem.driver_id?(a(),i("div",re,[e("div",de,[e("img",{src:r.selectedObject(d.drivers,"driver_id").picture,alt:"image",class:"p-3"},null,8,_e)]),e("span",{class:"",textContent:s(r.selectedObject(d.drivers,"driver_id").name)},null,8,me)])):c("",!0),e("label",fe,[g(C,{class:"flex-end",item:t.activeItem,column:{key:"status",title:t.translate("Status"),column_type:"checkbox",hide_text:!0}},null,8,["item","column"]),e("div",he,[e("span",{class:"badge badge-light fw-bold me-auto px-4 py-3",textContent:s(t.activeItem.status?"Active":"Pending")},null,8,ue)])])]),t.activeItem?(a(),i("div",ve,[e("div",{class:"fs-3 fw-bold text-gray-900",textContent:s(t.activeItem.route_name)},null,8,be),e("p",{class:"text-gray-500 fw-semibold fs-5 mt-1 mb-7",textContent:s(t.activeItem.description)},null,8,xe),e("div",pe,[e("div",ge,[ye,e("div",we,[g(p,{type:"circle",class:"fs-2 text-success"})]),e("div",Ce,[e("div",ke,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.start_address)},null,8,Ie)):c("",!0),e("div",qe,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Pickup"))},null,8,Te)])])])]),e("div",Pe,[Se,e("div",ze,[g(p,{type:"map-pin",class:"fs-2 text-danger"})]),e("div",De,[e("div",Ae,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.end_address)},null,8,Ve)):c("",!0),e("div",We,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Destination"))},null,8,Ee)])])])])]),e("div",Oe,[e("div",{class:z(["rounded h-4px transition transition-all",t.progressWidth()<100?"bg-info":"bg-success"]),role:"progressbar",style:B({width:t.progressWidth()+"%"})},null,6)]),t.activeItem.vehicle_id?(a(),i("div",je,[t.activeItem.vehicle_id?(a(),i("div",Ne,[e("img",{src:"/uploads/images/car.svg",class:"w-10"},null,8,Ue),e("div",Re,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Vehicle"))},null,8,Le),e("span",{class:"w-full block",textContent:s(r.selectedObject(d.vehicles,"vehicle_id").plate_number)},null,8,Be)])])):c("",!0),t.activeItem.morning_trip_time?(a(),i("div",Je,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Morning trip"))},null,8,Fe),e("span",{class:"w-full block",textContent:s(t.activeItem.morning_trip_time)},null,8,Me)])):c("",!0),t.activeItem.afternoon_trip_time?(a(),i("div",Ge,[e("div",Ke,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Afternoon trip"))},null,8,He),e("span",{class:"w-full block",textContent:s(t.activeItem.afternoon_trip_time)},null,8,Qe)])])):c("",!0)])):c("",!0)])):c("",!0)])])]),e("p",Xe,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[11]||(o[11]=(...n)=>t.savePackage&&t.savePackage(...n)),textContent:s(t.translate("Submit"))},null,8,Ye)])])):c("",!0)])])])])])}const $e=A(tt,[["render",Ze]]),to=y(()=>w(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),eo=y(()=>w(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),oo={components:{datatabble:V,maps:to,delete_icon:W,car_icon:E,route_icon:O,form_field:eo,editable_map_location:N,package_wizard:$e,tooltip:Q},name:"Packages",setup(r){const o=r.conf.url+r.path+"?load=json",d=m(!1),t=m({}),x=m({}),u=m(!1),v=()=>{d.value=!1};return(()=>{G(o).then(l=>{x.value=JSON.parse(JSON.stringify(l))})})(),{showEditSide:d,url:o,content:x,activeItem:t,showWizard:u,translate:j,closeSide:v,addPackageWizard:()=>{t.value={},u.value=!0},handleAction:(l,_)=>{switch(l){case"view":break;case"edit":t.value=_,u.value=!0;break;case"delete":K("package_id",_,"Package.delete");break;case"close":d.value=!1,t.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},so={class:"w-full flex overflow-auto"},no={key:0,class:"w-full relative"},lo={key:1,class:""},ao={class:"card"},io={class:"card-body"},co={class:"card-px text-center pt-15 pb-15"},ro=["textContent"],_o=["textContent"],mo=["textContent"],fo={class:"text-center pb-15 px-5"},ho=["src"],uo={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},vo={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},bo=["textContent"],xo=e("hr",{class:"mt-2"},null,-1),po={class:"w-full"},go=["src"],yo=["onClick"],wo=["onClick"];function Co(r,o,d,t,x,u){const v=b("package_wizard"),C=b("vue-feather"),p=b("delete_icon"),n=b("datatabble");return a(),i("div",so,[t.content?(a(),i("div",no,[t.showWizard?(a(),D(v,{onCallback:o[0]||(o[0]=l=>t.showWizard=!1),key:t.showWizard,item:t.activeItem,business_setting:d.business_setting,conf:d.conf},null,8,["item","business_setting","conf"])):c("",!0),!t.showWizard&&t.content.items&&!t.content.items.length?(a(),i("div",lo,[e("div",ao,[e("div",io,[e("div",co,[e("h2",{class:"fs-2x fw-bold mb-0",textContent:s(t.content.title)},null,8,ro),e("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:s(t.translate("Add your first package using this below wizard"))},null,8,_o),e("a",{textContent:s(t.translate("add_new")),onClick:o[1]||(o[1]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,mo)]),e("div",fo,[e("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,ho)])])])])):c("",!0),t.content.items&&!t.showWizard?(a(),i("main",uo,[e("div",vo,[e("h1",{class:"font-bold text-lg w-full",textContent:s(t.content.title)},null,8,bo),t.showWizard?c("",!0):(a(),i("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:o[2]||(o[2]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l))},s(t.translate("add_new")),1))]),xo,e("div",po,[t.content.columns?(a(),D(n,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":q(l=>[e("img",{src:l.picture,class:"w-8 h-8 rounded-full"},null,8,go)]),"item-single_trip":q(l=>[]),"item-double_trip":q(l=>[]),"item-edit":q(l=>[l.not_editable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:_=>t.handleAction("edit",l)},[g(C,{class:"w-5",type:"edit"})],8,yo))]),"item-delete":q(l=>[l.not_removeable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:_=>t.handleAction("delete",l)},[g(p,{class:"w-5"})],8,wo))]),_:1},8,["body-text-direction","headers","items"])):c("",!0)])])):c("",!0)])):c("",!0)])}const So=A(oo,[["render",Co]]);export{So as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-B-UdJfwR.min.js","index.es-6MjjNoyG.min.js","index.min.js","index.min.css","side-form-create-Hnkm4KDO.min.js","Field-D7aHrL1B.min.js","Field.min.css","side-form-update-_QNnsS5h.min.js","form_field-JC_s-tjI.min.js","editable_map_location-sN38-aBc.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
