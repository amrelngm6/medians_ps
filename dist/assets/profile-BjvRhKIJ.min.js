const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["side-form-create-C6f5ujYW.min.js","index.min.js","index.min.css","Field-CyMB-F7q.min.js","Field.min.css","side-form-update-BQHOBCJV.min.js","form_field-BDBxQH1a.min.js","editable_map_location-BGNYxjH7.min.js","account-mFn2iUvs.min.js","subscriptions-DmSvrS6H.min.js","invoices-7c36AV8p.min.js","withdrawal-DCLQAm2d.min.js","setting-Cfq0XBvD.min.js","info-By6CBFFu.min.js"])))=>i.map(i=>d[i]);
import{_ as R,q as d,r as b,c,o,b as t,x as u,a,d as s,f as p,F as D,e as V,n as P,j as h,t as v,B as O,G as F,E as B,u as _,k as j}from"./index.min.js";const N=d(()=>_(()=>import("./side-form-create-C6f5ujYW.min.js"),__vite__mapDeps([0,1,2,3,4]))),U=d(()=>_(()=>import("./side-form-update-BQHOBCJV.min.js"),__vite__mapDeps([5,1,2,3,4,6,7]))),q=d(()=>_(()=>import("./form_field-BDBxQH1a.min.js"),__vite__mapDeps([6,1,2,3,4,7]))),z=d(()=>_(()=>import("./account-mFn2iUvs.min.js"),__vite__mapDeps([8,1,2]))),G=d(()=>_(()=>import("./subscriptions-DmSvrS6H.min.js"),__vite__mapDeps([9,1,2]))),J=d(()=>_(()=>import("./invoices-7c36AV8p.min.js"),__vite__mapDeps([10,1,2]))),W=d(()=>_(()=>import("./withdrawal-DCLQAm2d.min.js"),__vite__mapDeps([11,1,2]))),H=d(()=>_(()=>import("./setting-Cfq0XBvD.min.js"),__vite__mapDeps([12,1,2]))),K=d(()=>_(()=>import("./info-By6CBFFu.min.js"),__vite__mapDeps([13,1,2]))),M={components:{SideFormUpdate:U,SideFormCreate:N,account_tab:z,form_field:q,subscriptions_tab:G,invoices_tab:J,withdrawal_tab:W,setting_tab:H,info_tab:K},name:"Users",setup(w){const i=w.conf.url+w.path+"?load=json",n=h(!1),e=h(!1),r=h({}),y=h({}),f=h("account"),g=h([{title:v("Account"),link:"account"},{title:v("Settings"),link:"settings"},{title:v("Business info"),link:"business_info"},{title:v("Subscriptions"),link:"subscriptions"},{title:v("Invoices"),link:"invoices"},{title:v("Withdrawal"),link:"withdrawal"}]),C=l=>{f.value=l};return(()=>{j(i).then(l=>{y.value=JSON.parse(JSON.stringify(l)),r.value=y.value.user})})(),{checkFeatureLimit:(l,m)=>{if(l)for(let k=0;k<l.length;k++){const A=l[k];if(A.code==m+".count")return A.access_value}return 0},cost:()=>r.value.business&&r.value.business.subscription&&r.value.business.subscription.plan?r.value.business.subscription.type=="monthly"?r.value.business.subscription.plan.monthly_cost:r.value.business.subscription.plan.yearly_cost:0,url:i,showAddSide:n,showEditSide:e,content:y,setActiveTab:C,tabsList:g,activeTab:f,activeItem:r,checkRole:(l,m)=>!(l==1&&(m=="business_info"||m=="subscriptions"||m=="invoices"||m=="withdrawal")),closeSide:()=>{n.value=!1,e.value=!1},sameRole:(l,m)=>l.role_id==m.role_id,setActiveStatus:B,isInput:F,handleName:O,translate:v}},props:["path","lang","setting","system_setting","business_setting","conf","auth","currency"]},Q={class:"w-full mb-5 mb-xl-10"},X={class:"card p-6"},Y={class:"d-flex flex-wrap flex-sm-nowrap"},Z={class:"me-7 mb-4"},$={class:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative"},tt=["src"],et={class:"flex-grow-1"},st={class:"d-flex justify-content-between align-items-start flex-wrap mb-2"},nt={class:"d-flex flex-column"},it={class:"d-flex align-items-center mb-2"},ot=["textContent"],at={class:"d-flex flex-wrap fw-semibold fs-6 mb-4 pe-2"},lt={href:"#",class:"d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"},ct=["textContent"],rt={href:"#",class:"d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"},dt=["textContent"],_t={href:"#",class:"d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"},mt=["textContent"],bt={class:"d-flex my-4"},ut=["textContent"],vt={class:"d-flex flex-wrap flex-stack"},ft={class:"d-flex flex-column flex-grow-1 pe-8"},xt={key:0,class:"d-flex flex-wrap"},ht={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},yt={class:"d-flex align-items-center"},wt=["textContent"],gt=["textContent"],Ct={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},kt={class:"d-flex align-items-center"},pt=["textContent"],It=["textContent"],Et=["textContent"],Tt={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},St={class:"d-flex align-items-center"},Lt=["textContent"],At=["textContent"],Rt=["textContent"],Dt={class:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"},Vt={class:"d-flex align-items-center"},Pt=["textContent"],Ot=["textContent"],Ft={class:"nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bold"},Bt={class:"nav-item mt-2"},jt=["onClick","textContent"],Nt={class:"w-full pt-9 pb-0"},Ut={class:"d-flex flex-column flex-lg-row"},qt={class:"flex-lg-row-fluid me-lg-15 order-2 order-lg-1 mb-10 mb-lg-0"},zt={key:0,class:"flex-column flex-lg-row-auto w-lg-250px w-xl-300px mb-10 order-1 order-lg-2"},Gt={class:"card card-flush mb-0","data-kt-sticky":"true","data-kt-sticky-name":"subscription-summary","data-kt-sticky-offset":"{default: false, lg: '200px'}","data-kt-sticky-width":"{lg: '250px', xl: '300px'}","data-kt-sticky-left":"auto","data-kt-sticky-top":"150px","data-kt-sticky-animation":"false","data-kt-sticky-zindex":"95"},Jt={class:"card-header"},Wt={class:"card-title"},Ht=["textContent"],Kt={class:"card-body pt-0 fs-6"},Mt={class:"mb-7"},Qt={class:"d-flex align-items-center"},Xt={class:"symbol symbol-60px symbol-circle me-3"},Yt=["src"],Zt={class:"d-flex flex-column"},$t=["textContent"],te=["textContent"],ee={key:0,class:"mb-7"},se=["textContent"],ne={class:"mb-0"},ie=["textContent"],oe=["textContent"],ae={key:1,class:"mb-7"},le=["textContent"],ce=["textContent"],re={key:2,class:"mb-10"},de=["textContent"],_e={class:"table fs-6 fw-semibold gs-0 gy-2 gx-2"},me={class:""},be=["textContent"],ue=["textContent"],ve={class:""},fe=["textContent"],xe=["textContent"],he={class:"mb-0"},ye=["textContent"];function we(w,i,n,e,r,y){const f=b("vue-feather"),g=b("account_tab"),C=b("subscriptions_tab"),I=b("invoices_tab"),E=b("info_tab"),T=b("setting_tab"),S=b("withdrawal_tab"),L=b("side-form-update");return o(),c("div",Q,[t("div",X,[t("div",Y,[t("div",Z,[t("div",$,[t("img",{src:n.auth.photo,class:"w-20",alt:"image"},null,8,tt),i[1]||(i[1]=t("div",{class:"position-absolute translate-middle bottom-0 start-100 mb-6 bg-success rounded-circle border border-4 border-body h-20px w-20px"},null,-1))])]),t("div",et,[t("div",st,[t("div",nt,[t("div",it,[t("a",{href:"#",class:"text-gray-900 text-hover-primary fs-2 fw-bold me-1",textContent:s(n.auth.name)},null,8,ot)]),t("div",at,[t("a",lt,[p(f,{class:"w-5 mx-1",type:"eye"}),t("span",{textContent:s(n.auth.role.name)},null,8,ct)]),t("a",rt,[p(f,{class:"w-5 mx-1",type:"smartphone"}),t("span",{textContent:s(n.auth.phone)},null,8,dt)]),t("a",_t,[p(f,{class:"w-5 mx-1",type:"at-sign"}),t("span",{textContent:s(n.auth.email)},null,8,mt)])])]),t("div",bt,[t("a",{onClick:i[0]||(i[0]=x=>e.showEditSide=!0),href:"javascript:;",class:"text-white btn btn-sm btn-primary me-3",textContent:s(e.translate("Edit"))},null,8,ut)])]),t("div",vt,[t("div",ft,[e.activeItem.business&&e.content?(o(),c("div",xt,[t("div",ht,[t("div",yt,[t("div",{class:"fs-2 fw-bold",textContent:s(e.activeItem.business.subscription.plan_name)},null,8,wt)]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Plan"))},null,8,gt)]),t("div",Ct,[t("div",null,[t("div",kt,[t("div",{class:"fs-2 fw-bold",textContent:s(e.content.stats.drivers_count)},null,8,pt),i[2]||(i[2]=t("div",{class:"fs-6 fw-bold px-1"},"/",-1)),e.activeItem.business.subscription?(o(),c("div",{key:0,class:"fs-6 fw-bold",textContent:s(e.checkFeatureLimit(e.activeItem.business.subscription.plan_features,"Driver"))},null,8,It)):a("",!0)])]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Drivers"))},null,8,Et)]),t("div",Tt,[t("div",null,[t("div",St,[t("div",{class:"fs-2 fw-bold",textContent:s(e.content.stats.vehicles_count)},null,8,Lt),i[3]||(i[3]=t("div",{class:"fs-6 fw-bold px-1"},"/",-1)),e.activeItem.business.subscription?(o(),c("div",{key:0,class:"fs-6 fw-bold",textContent:s(e.checkFeatureLimit(e.activeItem.business.subscription.plan_features,"Vehicle"))},null,8,At)):a("",!0)])]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Vehicles"))},null,8,Rt)]),t("div",Dt,[t("div",null,[t("div",Vt,[t("div",{class:"fs-2 fw-bold",textContent:s(e.content.stats.trips_count)},null,8,Pt),i[4]||(i[4]=t("div",{class:"fs-6 fw-bold px-1"},"/ --",-1))])]),t("div",{class:"fw-semibold fs-6 text-gray-500",textContent:s(e.translate("Trips"))},null,8,Ot)])])):a("",!0)])])])])]),t("ul",Ft,[(o(!0),c(D,null,V(e.tabsList,x=>(o(),c("li",Bt,[e.checkRole(e.activeItem.role_id,x.link)?(o(),c("a",{key:0,onClick:l=>e.setActiveTab(x.link),class:P([e.activeTab==x.link?"active":"","nav-link text-active-primary ms-0 me-10 py-5"]),href:"javascript:;",textContent:s(x.title)},null,10,jt)):a("",!0)]))),256))]),t("div",Nt,[t("div",Ut,[t("div",qt,[e.activeTab=="account"?(o(),u(g,{key:0,currency:n.currency,overview:e.content.overview,item:e.activeItem},null,8,["currency","overview","item"])):a("",!0),e.activeTab=="subscriptions"?(o(),u(C,{key:1,currency:n.currency,conf:n.conf,subscriptions:e.content.subscriptions,item:e.activeItem},null,8,["currency","conf","subscriptions","item"])):a("",!0),e.activeTab=="invoices"?(o(),u(I,{key:2,currency:n.currency,conf:n.conf,invoices:e.content.invoices,item:e.activeItem,system_setting:n.system_setting},null,8,["currency","conf","invoices","item","system_setting"])):a("",!0),e.activeTab=="business_info"?(o(),u(E,{key:3,currency:n.currency,conf:n.conf,overview:e.content.overview,item:e.activeItem},null,8,["currency","conf","overview","item"])):a("",!0),e.activeTab=="settings"?(o(),u(T,{key:4,conf:n.conf,fillable:e.content.fillable,item:e.activeItem,system_setting:n.system_setting},null,8,["conf","fillable","item","system_setting"])):a("",!0),e.activeTab=="withdrawal"?(o(),u(S,{key:5,currency:n.currency,conf:n.conf,auth:n.auth,business_withdrawals:e.content.business_withdrawals,wallet:e.content.wallet,system_setting:n.system_setting,item:e.activeItem},null,8,["currency","conf","auth","business_withdrawals","wallet","system_setting","item"])):a("",!0)]),e.activeItem.business?(o(),c("div",zt,[t("div",Gt,[t("div",Jt,[t("div",Wt,[t("h2",{textContent:s(e.translate("Summary"))},null,8,Ht)])]),t("div",Kt,[t("div",Mt,[t("div",Qt,[t("div",Xt,[t("img",{alt:"Pic",src:e.activeItem.picture??"/uploads/images/default_profile.png"},null,8,Yt)]),t("div",Zt,[t("a",{href:"#",class:"fs-4 fw-bold text-gray-900 text-hover-primary me-2",textContent:s(e.activeItem.name)},null,8,$t),t("a",{href:"#",class:"fw-semibold text-gray-600 text-hover-primary",textContent:s(e.activeItem.email)},null,8,te)])])]),i[5]||(i[5]=t("div",{class:"separator separator-dashed mb-7"},null,-1)),e.activeItem.business&&e.activeItem.business.subscription?(o(),c("div",ee,[t("h5",{class:"mb-4",textContent:s(e.translate("Plan"))},null,8,se),t("div",ne,[t("span",{class:"text-lg me-2",textContent:s(e.activeItem.business.subscription.plan_name)},null,8,ie),t("span",{class:"fw-semibold text-gray-600",textContent:s(n.currency.symbol+(e.activeItem.business.subscription.plan?e.cost()+" /"+e.activeItem.business.subscription.type:""))},null,8,oe)])])):a("",!0),i[6]||(i[6]=t("div",{class:"separator separator-dashed mb-7"},null,-1)),e.activeItem.business?(o(),c("div",ae,[t("h5",{class:"mb-4",textContent:s(e.translate("Business"))},null,8,le),t("div",{class:"mb-4 fs-bold",textContent:s(e.activeItem.business.business_name)},null,8,ce)])):a("",!0),i[7]||(i[7]=t("div",{class:"separator separator-dashed mb-7"},null,-1)),e.activeItem.business&&e.activeItem.business.subscription?(o(),c("div",re,[t("h5",{class:"mb-4",textContent:s(e.translate("Subscription Details"))},null,8,de),t("table",_e,[t("tbody",null,[t("tr",me,[t("td",{class:"text-gray-500",textContent:s(e.translate("Subscription ID"))},null,8,be),t("td",{class:"text-gray-800",textContent:s(e.activeItem.business.subscription.subscription_id)},null,8,ue)])]),t("tbody",null,[t("tr",ve,[t("td",{class:"text-gray-500",textContent:s(e.translate("Upcoming renewal"))},null,8,fe),t("td",{class:"text-gray-800",textContent:s(e.activeItem.business.subscription.end_date)},null,8,xe)])])])])):a("",!0),t("div",he,[t("a",{href:"javascript:;",class:"btn btn-primary",id:"kt_subscriptions_create_button",textContent:s(e.translate("Cancel Subscription"))},null,8,ye)])])])])):a("",!0)])]),e.showEditSide?(o(),u(L,{key:0,onCallback:e.closeSide,conf:n.conf,model:"User.update",item:e.activeItem,model_id:e.activeItem.id,index:"id",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","item","model_id","columns"])):a("",!0)])}const Ce=R(M,[["render",we]]);export{Ce as default};
