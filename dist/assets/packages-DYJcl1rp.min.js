import{_ as A,D as V,G as U,e as W,y as E,z as O,f as _,t as j,r as h,o as l,c as a,i as e,a as x,F as R,k as L,x as z,j as n,H as m,I as f,h as i,B,d as y,b as C,n as J,J as M,K as F,g as D,A as q,m as G,p as K}from"./index.min.js";import{e as N}from"./editable_map_location-sN38-aBc.min.js";import{r as H}from"./route_map-Re9VZOXs.min.js";import{t as Q}from"./tooltip-s9Xa9pgY.min.js";import"./index.es-6MjjNoyG.min.js";const X=y(()=>C(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),Y=y(()=>C(()=>import("./side-form-create-Hnkm4KDO.min.js"),__vite__mapDeps([4,2,3,5,6]))),Z=y(()=>C(()=>import("./side-form-update-_QNnsS5h.min.js"),__vite__mapDeps([7,2,3,5,6,8,9,1]))),$=y(()=>C(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),tt={components:{datatabble:V,SideFormCreate:Y,SideFormUpdate:Z,maps:X,close_icon:U,delete_icon:W,car_icon:E,route_icon:O,form_field:$,editable_map_location:N,route_map:H},name:"Packages",emits:["callback"],setup(r,{emit:s}){const c=_(!1),t=_({}),p=_("Info"),u=_({}),v=_(["Info","Double trips","Single trip","Confirm"]);r.item&&(t.value=r.item);const g=()=>{var o=new URLSearchParams;let d=JSON.parse(JSON.stringify(t.value)),T=Object.keys(d),k,P;for(let I=0;I<T.length;I++)k=T[I],P=typeof d[k]=="object"?JSON.stringify(d[k]):d[k],o.append("params["+k+"]",P);let S=d.route_id>0?"update":"create";o.append("type","Package."+S),J(o,"/api/"+S).then(I=>{M(I)})},w=()=>{s("callback")},b=()=>F(["name","description","single_cost_month","single_cost_querter","single_cost_year","double_cost_month","double_cost_quarter","double_cost_year","status"],t);return{markerClicked,progressWidth:b,showEditSide:c,content:u,fillable:v,activeItem:t,activeTab:p,translate:j,savePackage:g,back:w}},props:["conf","path","system_setting","business_setting","setting","item","drivers","vehicles"]},et={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},st={class:"card w-full py-10"},nt={class:"w-full stepper stepper-links"},lt={class:"stepper-nav justify-content-center py-2 mb-10"},at=["onClick"],it=["textContent"],ct={class:"w-full"},rt={class:"card-body pt-0"},dt={class:"settings-form"},_t={class:"max-w-xl mb-6 mx-auto row"},mt=e("input",{name:"params[route_id]",type:"hidden"},null,-1),ft=["for","textContent"],ht=["placeholder"],ut=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),vt=["for","textContent"],bt=["placeholder"],xt={class:"text-center mt-10"},pt=["textContent"],gt={class:"card-body pt-0"},wt={class:"settings-form"},yt={class:"max-w-xl mb-6 mx-auto"},Ct={class:"w-full mb-6 mx-auto row"},kt=["textContent"],It=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),qt=["textContent"],Tt={class:"w-full mb-6 mx-auto row"},Pt=["textContent"],St=["placeholder"],zt={class:"w-full mb-6 mx-auto row"},Dt=["textContent"],At=["placeholder"],Vt={class:"w-full mb-6 mx-auto row"},Wt=["textContent"],Et=["placeholder"],Ot={class:"text-center mt-10"},jt=["textContent"],Nt={class:"card-body pt-0"},Ut={class:"settings-form"},Rt={class:"max-w-xl mb-6 mx-auto"},Lt={class:"w-full mb-6 mx-auto row"},Bt=["textContent"],Jt=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),Mt=["textContent"],Ft={class:"w-full mb-6 mx-auto row"},Gt=["textContent"],Kt=["placeholder"],Ht={class:"w-full mb-6 mx-auto row"},Qt=["textContent"],Xt=["placeholder"],Yt={class:"w-full mb-6 mx-auto row"},Zt=["textContent"],$t=["placeholder"],te={class:"text-center mt-10"},ee=["textContent"],oe={class:"w-full flex gap-10"},se={class:"w-full"},ne={class:"w-full"},le=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),ae={class:"bg-gray-200 shadow-md mb-10 rounded-xl"},ie={class:"card-header border-0 pt-9"},ce={key:0,class:"card-title m-0 flex gap-4"},re={class:"symbol symbol-50px w-50px bg-light"},de=["src"],_e=["textContent"],me={class:"flex gap-2 cursor-pointer"},fe={class:"pt-3"},he=["textContent"],ue={key:0,class:"card-body p-9"},ve=["textContent"],be=["textContent"],xe={class:"timeline timeline-border-dashed"},pe={class:"timeline-item"},ge=e("div",{class:"timeline-line"},null,-1),we={class:"timeline-icon me-4"},ye={class:"timeline-content mb-10 mt-n2"},Ce={class:"overflow-auto pe-3"},ke=["textContent"],Ie={class:"d-flex align-items-center mt-1 fs-6"},qe=["textContent"],Te={class:"timeline-item"},Pe=e("div",{class:"timeline-line"},null,-1),Se={class:"timeline-icon me-4"},ze={class:"timeline-content mb-10 mt-n2"},De={class:"overflow-auto pe-3"},Ae=["textContent"],Ve={class:"d-flex align-items-center mt-1 fs-6"},We=["textContent"],Ee={class:"h-4px w-100 bg-light mb-5"},Oe={key:0,class:"w-full flex gap-4"},je={key:0,class:"w-full flex gap-4"},Ne=["src"],Ue={class:"w-full block gap-4"},Re=["textContent"],Le=["textContent"],Be={key:1,class:"w-full block gap-4"},Je=["textContent"],Me=["textContent"],Fe={key:2,class:"w-full block gap-4"},Ge={class:"w-full block gap-4"},Ke=["textContent"],He=["textContent"],Qe={class:"text-center mt-10"},Xe=["textContent"];function Ye(r,s,c,t,p,u){const v=h("close_icon"),g=h("route_map"),w=h("form_field"),b=h("vue-feather");return l(),a("div",et,[e("div",ot,[x(v,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:t.back},null,8,["onClick"]),e("div",st,[e("div",nt,[e("div",lt,[(l(!0),a(R,null,L(t.fillable,o=>(l(),a("div",{class:"stepper-item",onClick:d=>t.activeTab=o},[e("h3",{class:z([t.activeTab==o?"text-danger border-danger":"text-gray-400 border-transparent","cursor-pointer pb-3 px-2 stepper-title text-md border-b"]),textContent:n(o)},null,10,it)],8,at))),256))]),e("div",ct,[t.activeTab=="Info"?(l(),a("div",{class:"",key:t.activeTab},[e("div",rt,[e("div",dt,[e("div",_t,[mt,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:n(t.translate("Package name"))},null,8,ft),m(e("input",{required:!0,autocomplete:"off",name:"params[name]",class:"form-control form-control-solid",placeholder:t.translate("Package name"),"onUpdate:modelValue":s[0]||(s[0]=o=>t.activeItem.route_name=o)},null,8,ht),[[f,t.activeItem.route_name]]),ut,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:n(t.translate("Description"))},null,8,vt),m(e("textarea",{required:!0,autocomplete:"off",name:"params[description]",class:"form-control form-control-solid",placeholder:t.translate("Description"),"onUpdate:modelValue":s[1]||(s[1]=o=>t.activeItem.description=o)}," ",8,bt),[[f,t.activeItem.description]])])])]),e("p",xt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[2]||(s[2]=o=>t.activeTab="Double trips"),textContent:n(t.translate("Next"))},null,8,pt)])])):i("",!0),t.activeTab=="Double trips"?(l(),a("div",{class:"",key:t.activeTab},[e("div",gt,[e("div",wt,[e("div",yt,[e("div",Ct,[e("label",{class:"col-lg-4 col-form-label required fw-semibold text-xl",textContent:n(t.translate("Double daily trip cost"))},null,8,kt),It,e("p",{textContent:n(t.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,qt)]),e("div",Tt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:n(t.translate("Cost per month"))},null,8,Pt),m(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":s[3]||(s[3]=o=>t.activeItem.single_cost_month=o)},null,8,St),[[f,t.activeItem.single_cost_month]])]),e("div",zt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:n(t.translate("Cost per quarter"))},null,8,Dt),m(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":s[4]||(s[4]=o=>t.activeItem.single_cost_quarter=o)},null,8,At),[[f,t.activeItem.single_cost_quarter]])]),e("div",Vt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:n(t.translate("Cost per year"))},null,8,Wt),m(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":s[5]||(s[5]=o=>t.activeItem.single_cost_year=o)},null,8,Et),[[f,t.activeItem.single_cost_year]])])])])]),e("p",Ot,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[6]||(s[6]=o=>t.activeTab="Single trip"),textContent:n(t.translate("Next"))},null,8,jt)])])):i("",!0),t.activeTab=="Single trip"?(l(),a("div",{class:"",key:t.activeTab},[e("div",Nt,[e("div",Ut,[e("div",Rt,[e("div",Lt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold text-xl",textContent:n(t.translate("Single daily trip cost"))},null,8,Bt),Jt,e("p",{textContent:n(t.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Mt)]),e("div",Ft,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:n(t.translate("Cost per month"))},null,8,Gt),m(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":s[7]||(s[7]=o=>t.activeItem.single_cost_month=o)},null,8,Kt),[[f,t.activeItem.single_cost_month]])]),e("div",Ht,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:n(t.translate("Cost per quarter"))},null,8,Qt),m(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":s[8]||(s[8]=o=>t.activeItem.single_cost_quarter=o)},null,8,Xt),[[f,t.activeItem.single_cost_quarter]])]),e("div",Yt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:n(t.translate("Cost per year"))},null,8,Zt),m(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":s[9]||(s[9]=o=>t.activeItem.single_cost_year=o)},null,8,$t),[[f,t.activeItem.single_cost_year]])])])])]),e("p",te,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[10]||(s[10]=o=>t.activeTab="Confirm"),textContent:n(t.translate("Next"))},null,8,ee)])])):i("",!0),t.activeTab=="Confirm"?(l(),a("div",{class:"w-full mx-auto",key:t.activeTab},[e("div",oe,[e("div",se,[x(g,{onMarkerclicked:t.markerClicked,class:"rounded-xl shadow-md mx-4",system_setting:c.system_setting,conf:c.conf,route:t.activeItem},null,8,["onMarkerclicked","system_setting","conf","route"])]),e("div",ne,[le,e("div",ae,[e("div",ie,[t.activeItem.driver_id?(l(),a("div",ce,[e("div",re,[e("img",{src:r.selectedObject(c.drivers,"driver_id").picture,alt:"image",class:"p-3"},null,8,de)]),e("span",{class:"",textContent:n(r.selectedObject(c.drivers,"driver_id").name)},null,8,_e)])):i("",!0),e("label",me,[x(w,{class:"flex-end",item:t.activeItem,column:{key:"status",title:t.translate("Status"),column_type:"checkbox",hide_text:!0}},null,8,["item","column"]),e("div",fe,[e("span",{class:"badge badge-light fw-bold me-auto px-4 py-3",textContent:n(t.activeItem.status?"Active":"Pending")},null,8,he)])])]),t.activeItem?(l(),a("div",ue,[e("div",{class:"fs-3 fw-bold text-gray-900",textContent:n(t.activeItem.route_name)},null,8,ve),e("p",{class:"text-gray-500 fw-semibold fs-5 mt-1 mb-7",textContent:n(t.activeItem.description)},null,8,be),e("div",xe,[e("div",pe,[ge,e("div",we,[x(b,{type:"circle",class:"fs-2 text-success"})]),e("div",ye,[e("div",Ce,[t.activeItem.position?(l(),a("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:n(t.activeItem.position.start_address)},null,8,ke)):i("",!0),e("div",Ie,[e("div",{class:"text-muted me-2 fs-7",textContent:n(t.translate("Pickup"))},null,8,qe)])])])]),e("div",Te,[Pe,e("div",Se,[x(b,{type:"map-pin",class:"fs-2 text-danger"})]),e("div",ze,[e("div",De,[t.activeItem.position?(l(),a("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:n(t.activeItem.position.end_address)},null,8,Ae)):i("",!0),e("div",Ve,[e("div",{class:"text-muted me-2 fs-7",textContent:n(t.translate("Destination"))},null,8,We)])])])])]),e("div",Ee,[e("div",{class:z(["rounded h-4px transition transition-all",t.progressWidth()<100?"bg-info":"bg-success"]),role:"progressbar",style:B({width:t.progressWidth()+"%"})},null,6)]),t.activeItem.vehicle_id?(l(),a("div",Oe,[t.activeItem.vehicle_id?(l(),a("div",je,[e("img",{src:"/uploads/images/car.svg",class:"w-10"},null,8,Ne),e("div",Ue,[e("span",{class:"w-full block font-semibold",textContent:n(t.translate("Vehicle"))},null,8,Re),e("span",{class:"w-full block",textContent:n(r.selectedObject(c.vehicles,"vehicle_id").plate_number)},null,8,Le)])])):i("",!0),t.activeItem.morning_trip_time?(l(),a("div",Be,[e("span",{class:"w-full block font-semibold",textContent:n(t.translate("Morning trip"))},null,8,Je),e("span",{class:"w-full block",textContent:n(t.activeItem.morning_trip_time)},null,8,Me)])):i("",!0),t.activeItem.afternoon_trip_time?(l(),a("div",Fe,[e("div",Ge,[e("span",{class:"w-full block font-semibold",textContent:n(t.translate("Afternoon trip"))},null,8,Ke),e("span",{class:"w-full block",textContent:n(t.activeItem.afternoon_trip_time)},null,8,He)])])):i("",!0)])):i("",!0)])):i("",!0)])])]),e("p",Qe,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[11]||(s[11]=(...o)=>t.savePackage&&t.savePackage(...o)),textContent:n(t.translate("Submit"))},null,8,Xe)])])):i("",!0)])])])])])}const Ze=A(tt,[["render",Ye]]),$e=y(()=>C(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),to=y(()=>C(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),eo={components:{datatabble:V,maps:$e,delete_icon:W,car_icon:E,route_icon:O,form_field:to,editable_map_location:N,package_wizard:Ze,tooltip:Q},name:"Packages",setup(r){const s=r.conf.url+r.path+"?load=json",c=_(!1),t=_({}),p=_({}),u=_(!1),v=()=>{c.value=!1};return(()=>{G(s).then(o=>{p.value=JSON.parse(JSON.stringify(o))})})(),{showEditSide:c,url:s,content:p,activeItem:t,showWizard:u,translate:j,closeSide:v,addPackageWizard:()=>{t.value={},u.value=!0},handleAction:(o,d)=>{switch(o){case"view":break;case"edit":t.value=d,u.value=!0;break;case"delete":K("package_id",d,"Package.delete");break;case"close":c.value=!1,t.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},oo={class:"w-full flex overflow-auto"},so={key:0,class:"w-full relative"},no={key:1,class:""},lo={class:"card"},ao={class:"card-body"},io={class:"card-px text-center pt-15 pb-15"},co=["textContent"],ro=["textContent"],_o=["textContent"],mo={class:"text-center pb-15 px-5"},fo=["src"],ho={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},uo={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},vo=["textContent"],bo=e("hr",{class:"mt-2"},null,-1),xo={class:"w-full"},po=["src"],go=["onClick"],wo=["onClick"];function yo(r,s,c,t,p,u){const v=h("package_wizard"),g=h("vue-feather"),w=h("delete_icon"),b=h("datatabble");return l(),a("div",oo,[t.content?(l(),a("div",so,[t.showWizard?(l(),D(v,{onCallback:s[0]||(s[0]=o=>t.showWizard=!1),key:t.showWizard,item:t.activeItem,business_setting:c.business_setting,conf:c.conf},null,8,["item","business_setting","conf"])):i("",!0),!t.showWizard&&t.content.items&&!t.content.items.length?(l(),a("div",no,[e("div",lo,[e("div",ao,[e("div",io,[e("h2",{class:"fs-2x fw-bold mb-0",textContent:n(t.content.title)},null,8,co),e("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:n(t.translate("Add your first package using this below wizard"))},null,8,ro),e("a",{textContent:n(t.translate("add_new")),onClick:s[1]||(s[1]=(...o)=>t.addPackageWizard&&t.addPackageWizard(...o)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,_o)]),e("div",mo,[e("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,fo)])])])])):i("",!0),t.content.items&&!t.showWizard?(l(),a("main",ho,[e("div",uo,[e("h1",{class:"font-bold text-lg w-full",textContent:n(t.content.title)},null,8,vo),t.showWizard?i("",!0):(l(),a("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:s[2]||(s[2]=(...o)=>t.addPackageWizard&&t.addPackageWizard(...o))},n(t.translate("add_new")),1))]),bo,e("div",xo,[t.content.columns?(l(),D(b,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":q(o=>[e("img",{src:o.picture,class:"w-8 h-8 rounded-full"},null,8,po)]),"item-single_trip":q(o=>[]),"item-double_trip":q(o=>[]),"item-edit":q(o=>[o.not_editable?i("",!0):(l(),a("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:d=>t.handleAction("edit",o)},[x(g,{class:"w-5",type:"edit"})],8,go))]),"item-delete":q(o=>[o.not_removeable?i("",!0):(l(),a("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:d=>t.handleAction("delete",o)},[x(w,{class:"w-5"})],8,wo))]),_:1},8,["body-text-direction","headers","items"])):i("",!0)])])):i("",!0)])):i("",!0)])}const Po=A(eo,[["render",yo]]);export{Po as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-B-UdJfwR.min.js","index.es-6MjjNoyG.min.js","index.min.js","index.min.css","side-form-create-Hnkm4KDO.min.js","Field-D7aHrL1B.min.js","Field.min.css","side-form-update-_QNnsS5h.min.js","form_field-JC_s-tjI.min.js","editable_map_location-sN38-aBc.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
