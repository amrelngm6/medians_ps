import{_ as L,o as s,c as r,N as z,f as m,r as p,l as I,E as D,F as M,i as j,g as t,al as F,J as A,t as S,h as o,a as k,j as X,k as u,x,G as V}from"./index.min.js";import{O as B,x as N,L as P,$ as T,j as G}from"./index.es-1o16WfS3.min.js";const E={},q={width:"800px",height:"800px",viewBox:"0 0 32 32","enable-background":"new 0 0 32 32",id:"_x3C_Layer_x3E_",version:"1.1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},H=z('<g id="help_x2C__message_x2C__question_x2C__question_mark"><g id="XMLID_2695_"><g id="XMLID_2696_"><path d="     M21.5,18.5h-11c-1.66,0-3-1.34-3-3v-11c0-1.66,1.34-3,3-3h11c1.66,0,3,1.34,3,3v11C24.5,17.16,23.16,18.5,21.5,18.5z" fill="none" id="XMLID_2704_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path> <path d="     M26.5,5.521L26.5,5.521c1.657,0,3,1.343,3,3v15c0,1.657-1.343,3-3,3H23l-3.5,4v-4h-14c-1.657,0-3-1.343-3-3v-15     c0-1.657,1.343-3,3-3h0" fill="none" id="XMLID_2703_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path> <path d="     M16,13v-0.542c0-0.904,0.475-1.743,1.25-2.208l0,0c0.775-0.465,1.25-1.304,1.25-2.208V8c0-1.381-1.119-2.5-2.5-2.5l0,0     c-1.381,0-2.5,1.119-2.5,2.5l0,0" fill="none" id="XMLID_2702_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path> <line fill="#FFFFFF" id="XMLID_2700_" stroke="#455A64" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="16" x2="16" y1="15" y2="14.867"></line> <line fill="none" id="XMLID_2699_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="18.6" x2="18.5" y1="22.5" y2="22.5"></line> <line fill="none" id="XMLID_2698_" stroke="#455A64" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="16.1" x2="16" y1="22.5" y2="22.5"></line> <line fill="none" id="XMLID_2697_" stroke="#455A64" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="13.6" x2="13.5" y1="22.5" y2="22.5"></line></g></g> <g id="XMLID_1026_"><g id="XMLID_1052_"><path d="     M21.5,18.5h-11c-1.66,0-3-1.34-3-3v-11c0-1.66,1.34-3,3-3h11c1.66,0,3,1.34,3,3v11C24.5,17.16,23.16,18.5,21.5,18.5z" fill="none" id="XMLID_2694_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path> <path d="     M26.5,5.521L26.5,5.521c1.657,0,3,1.343,3,3v15c0,1.657-1.343,3-3,3H23l-3.5,4v-4h-14c-1.657,0-3-1.343-3-3v-15     c0-1.657,1.343-3,3-3h0" fill="none" id="XMLID_2621_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path> <path d="     M16,13v-0.542c0-0.904,0.475-1.743,1.25-2.208l0,0c0.775-0.465,1.25-1.304,1.25-2.208V8c0-1.381-1.119-2.5-2.5-2.5l0,0     c-1.381,0-2.5,1.119-2.5,2.5l0,0" fill="none" id="XMLID_2559_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path> <line fill="none" id="XMLID_2558_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="16" x2="16" y1="15" y2="14.867"></line> <line fill="none" id="XMLID_2557_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="18.6" x2="18.5" y1="22.5" y2="22.5"></line> <line fill="none" id="XMLID_2556_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="16.1" x2="16" y1="22.5" y2="22.5"></line> <line fill="none" id="XMLID_1073_" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="13.6" x2="13.5" y1="22.5" y2="22.5"></line></g></g></g>',1),O=[H];function R(n,c){return s(),r("svg",q,O)}const W=L(E,[["render",R]]),J={components:{GoogleMap:B,Marker:N,Polyline:P,InfoWindow:T,CustomMarker:G},name:"Map",emits:["click-marker","update-marker"],setup(n){const c=m(14),l=m({});return l.value={lat:n.center.destination.lat,lng:n.center.destination.lng},{zoom:c,newcenter:l,markers:n.waypoints}},props:["path","lang","setting","conf","auth","waypoints","center"]},K={class:"w-full overflow-auto"},Q={style:{"text-align":"center"}},U=["src"];function Y(n,c,l,e,f,y){const h=p("CustomMarker"),v=p("GoogleMap");return s(),r("div",K,[(s(),I(v,{"api-key":l.setting.google_map_api,ref:"trip_map",center:e.newcenter,key:e.newcenter,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0},zoom:e.zoom,style:{width:"100%",height:"calc(100vh -  100px)"}},{default:D(()=>[(s(!0),r(M,null,j(e.markers,(_,w)=>(s(),I(h,{options:{position:_.destination}},{default:D(()=>[t("div",Q,[t("img",{src:_.icon,width:"40",class:"rouned-full",height:"40",style:{"margin-top":"8px"}},null,8,U)])]),_:2},1032,["options"]))),256))]),_:1},8,["api-key","center","zoom"]))])}const Z=L(J,[["render",Y]]),$={components:{dashboard_card_white:F,help_icon:W,trip_map:Z,close_icon:A,translate:S},emits:["close"],setup(n,{emit:c}){const l=n.conf.url+n.path+"?load=json",e=m({}),f=m({}),y=m([]),h=m("info"),v=m(!0),_=()=>{e.value=n.trip;let d=[];d[0]=b(n.trip.vehicle,n.trip.route,"car.svg"),f.value=d[0];let g,C;if(n.trip.pickup_locations){for(let a=0;a<n.trip.pickup_locations.length;a++)g=n.trip.pickup_locations[a].status!="waiting"?"yellow_pin.gif":"blue_pin.gif",d.push(b(n.trip.pickup_locations[a],n.trip.destinations[a],g));for(let a=0;a<n.trip.destinations.length;a++)C=n.trip.destinations[a]&&n.trip.destinations[a].status!="waiting"?"yellow_pin.gif":"blue_pin.gif",n.trip.destinations[a]??d.push(b(n.trip.destinations[a],n.trip.destinations[a],C))}d.push(b(n.trip.route,n.trip.vehicle,"destination.svg")),y.value=d},w=()=>{limitCount.value+=5,limitCount.value>e.value.last_trips.length&&(v.value=!1)},i=d=>{h.value=d},b=(d,g,C)=>{let a={};return a.icon=n.conf.url+"uploads/images/"+C,a.origin={lat:parseFloat(d.latitude),lng:parseFloat(d.longitude)},a.destination=g?{lat:parseFloat(g.latitude),lng:parseFloat(g.longitude)}:a.origin,a.drag=!1,a};return _(),{url:l,locations:y,center:f,activeItem:e,activeStatus:h,close:()=>{c("close")},setActiveStatus:i,loadmore:w,handlePickup:b,setLocations:_,translate:S}},props:["path","lang","setting","conf","auth","trip"]},tt={class:"w-full"},et={key:0,class:"grid xl:grid-cols-12 lg:grid-cols-12 grid-cols-1 gap-6"},nt={class:"xl:col-span-3 lg:col-span-5"},ot={class:"card px-4 py-6 mb-6"},st={key:0,class:"text-center"},it=["textContent"],at=["textContent"],rt=t("hr",{class:"mt-5 dark:border-gray-600"},null,-1),lt={class:"text-start mt-6 text-sm"},ct={class:"space-y-7"},dt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},_t=["textContent"],ut=["textContent"],xt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},mt=["textContent"],ht=["textContent"],gt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},pt=["textContent"],vt=["textContent"],bt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},kt=["textContent"],ft=["textContent"],yt=t("hr",{class:"my-5 dark:border-gray-600"},null,-1),wt={class:"xl:col-span-9 lg:col-span-7"},Ct={class:"card"},It={class:"p-6"},Mt={class:"lg:flex items-center justify-around rounded-xl space-x-3 bg-gray-100 p-2 dark:bg-gray-900/30","aria-label":"Tabs",role:"tablist"},jt=["textContent"],Lt=["textContent"],Dt=["textContent"],St=["textContent"],Xt={class:"mt-3 overflow-hidden"},zt={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full border-b border-gray-100"},Ft={class:"w-full relative"},At={class:"dark:border-border-dark dark:border-dashed border border-border-light border-dashed p-4 flex flex-col gap-5"},Vt={class:"flex items-start justify-between"},Bt={class:"border border-1 grid p-3 rounded-full sm:p-2 place-content-center"},Nt=["textContent"],Pt={class:"flex flex-col gap-2"},Tt=["textContent"],Gt=["textContent"],Et=["textContent"],qt={class:"mt-6 w-full"},Ht={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6"},Ot={key:2,class:"w-full border-b border-gray-100"},Rt={class:"md:text-start lg:flex mb-5 mt-5"},Wt={class:"w-full"},Jt=["textContent"],Kt=["textContent"],Qt={class:"w-full"},Ut=["textContent"],Yt=["textContent"],Zt={class:"w-full"},$t=["textContent"],te=["textContent"],ee={class:"text-start"},ne={class:"absolute start-7 mt-6"},oe={class:"relative"},se={class:"w-9 h-9 flex justify-center items-center rounded-full bg-white text-info dark:bg-gray-800"},ie=["src"],ae=t("div",{class:"absolute top-4 -end-6 w-12 h-[2px] bg-gray-400 -z-10"},null,-1),re={class:"grid grid-cols-1"},le={class:"md:col-start-1 col-span-2"},ce={class:"flex md:flex-nowrap items-center gap-6 ms-10 md:mt-0 mt-5"},de={class:"ms-10"},_e=["textContent"],ue={class:"relative me-5 md:ps-0 ps-10 overflow-auto"},xe={class:"pt-3"},me=["textContent"],he=["textContent"],ge={key:0,class:"text-center"};function pe(n,c,l,e,f,y){const h=p("close_icon"),v=p("help_icon"),_=p("dashboard_card_white"),w=p("trip_map");return s(),r("div",tt,[l.trip?(s(),r("div",et,[t("div",nt,[t("div",ot,[e.activeItem&&e.activeItem.driver?(s(),r("div",st,[t("h4",{class:"mb-1 mt-3 text-lg dark:text-gray-300",textContent:o(e.translate("Trip")+e.translate(" #")+e.activeItem.trip_id)},null,8,it),t("button",{type:"button",onClick:c[0]||(c[0]=(...i)=>e.close&&e.close(...i)),class:"mx-auto text-center hover:bg-primary mb-3 px-6 py-2 flex text-danger gap gap-6"},[k(h,{class:"w-4"}),X(),t("span",{class:"text-base",textContent:o(e.translate("Back"))},null,8,at)])])):u("",!0),rt,t("div",lt,[t("div",ct,[t("p",dt,[t("strong",{textContent:o(e.translate("Duration"))},null,8,_t),t("span",{class:"ms-2",textContent:o(e.activeItem.duration)},null,8,ut)]),t("p",xt,[t("strong",{textContent:o(e.translate("Pickup locations"))},null,8,mt),X(),t("span",{class:"ms-2",textContent:o(e.activeItem.pickup_locations_count)},null,8,ht)]),t("p",gt,[t("strong",{textContent:o(e.translate("Route"))},null,8,pt),t("span",{class:"ms-2",textContent:o(e.activeItem.route?e.activeItem.route.route_name:"")},null,8,vt)]),t("p",bt,[t("strong",{textContent:o(e.translate("Driver"))},null,8,kt),t("span",{class:"ms-2",textContent:o(e.activeItem.driver_name)},null,8,ft)])])]),yt])]),t("div",wt,[t("div",Ct,[t("div",It,[(s(),r("div",{class:"w-full",key:e.activeStatus},[t("nav",Mt,[t("button",{onClick:c[1]||(c[1]=i=>e.setActiveStatus("info")),type:"button",textContent:o(e.translate("Info")),class:x([e.activeStatus=="info"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white active"])},null,10,jt),t("button",{onClick:c[2]||(c[2]=i=>e.setActiveStatus("pickup_locations")),type:"button",textContent:o(e.translate("Pickup locations")),class:x([e.activeStatus=="pickup_locations"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"])},null,10,Lt),t("button",{type:"button",onClick:c[3]||(c[3]=i=>e.setActiveStatus("map")),class:x([e.activeStatus=="map"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"]),textContent:o(e.translate("Map"))},null,10,Dt),t("button",{onClick:c[4]||(c[4]=i=>e.setActiveStatus("reviews")),type:"button",textContent:o(e.translate("Reviews")),class:x([e.activeStatus=="reviews"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"])},null,10,St)]),t("div",Xt,[(s(),r("div",{key:e.activeStatus,id:"basic-tabs-1",class:"transition-all duration-300 transform"},[e.activeStatus=="help_messages"?(s(),r("div",zt,[(s(!0),r(M,null,j(e.activeItem.help_messages,i=>(s(),r("div",Ft,[t("div",At,[t("div",Vt,[t("span",Bt,[k(v,{class:"text-primary w-10 h-10"})]),t("span",{class:"text-content3 text-2xs text-muted p-3",textContent:o(i.date)},null,8,Nt)]),t("div",Pt,[t("div",null,[t("p",{class:"text-title text-sm font-semibold mb-1 dark:text-white",textContent:o(i.subject)},null,8,Tt),t("p",{class:"text-content3 text-2xs truncate",textContent:o(i.message)},null,8,Gt)]),t("div",{class:x([e.translate("lang")=="ar"?"left-0":"right-0","absolute flex items-center justify-between gap-1"])},[t("span",{class:"bg-blue-50 px-4 py-1 text-secondary badge-sm rounded-5",textContent:o(i.status)},null,8,Et)],2)])])]))),256))])):u("",!0),e.activeStatus=="info"?(s(),r("div",{class:"w-full border-b border-gray-100",key:e.activeStatus},[t("div",qt,[t("div",Ht,[k(_,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-success",class:"border border-1",title:e.translate("Duration"),value:e.activeItem.duration?e.activeItem.duration:"0"},null,8,["title","value"]),k(_,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-info",class:"border border-1",title:e.translate("Pickup locations"),value:e.activeItem.pickup_locations_count},null,8,["title","value"]),k(_,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-danger",class:"border border-1",title:e.translate("Distance"),value:e.activeItem.distance},null,8,["title","value"])])])])):u("",!0),e.activeStatus=="pickup_locations"&&l.trip?(s(),r("div",Ot,[t("div",{class:x([e.translate("lang")=="ar"?"right-4":"left-4","absolute border-s-2 border border-gray-300 h-full top-20 start-10 -z-10 dark:border-white/10"])},null,2),t("div",Rt,[t("div",Wt,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:o(e.translate("Trip number")+" #"+l.trip.trip_id)},null,8,Jt),t("p",{class:"text-muted text-sm",textContent:o(l.trip.trip_date)},null,8,Kt)]),t("div",Qt,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:o(l.trip.duration)},null,8,Ut),t("p",{class:"text-muted text-sm",textContent:o(e.translate("Duration"))},null,8,Yt)]),t("div",Zt,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:o(l.trip.distance+" KM")},null,8,$t),t("p",{class:"text-muted text-sm",textContent:o(e.translate("Distance"))},null,8,te)])]),(s(!0),r(M,null,j(l.trip.pickup_locations,i=>(s(),r("div",{class:"space-y-4",key:l.trip},[t("div",ee,[t("div",ne,[t("div",oe,[t("div",se,[i.model?(s(),r("img",{key:0,src:"/app/image.php?w=100&h=100&src="+i.model.picture,class:"rounded-full",alt:""},null,8,ie)):u("",!0)]),ae])]),t("div",re,[t("div",le,[t("div",ce,[t("div",de,[t("h2",{class:x([e.translate("lang")=="ar"?"bg-gradient-to-l":"bg-gradient-to-r","font-semibold p-2 rounded text-primary flex items-center justify-center text-sm mx-16"]),textContent:o(i.boarding_time?i.time:e.translate("Waiting"))},null,10,_e)]),t("div",ue,[t("div",xe,[i.model?(s(),r("h4",{key:0,class:"mb-1.5 text-base dark:text-gray-300",textContent:o(i.model.name)},null,8,me)):u("",!0),i.location?(s(),r("p",{key:1,style:V([{"white-space":"nowrap"},{"white-space":"nowrap"}]),class:"mb-4 text-gray-500 dark:text-gray-400",textContent:o(i.location.address)},null,8,he)):u("",!0)])])])])])])]))),128))])):u("",!0)]))])]))])]),e.activeStatus=="map"?(s(),r("p",ge,[(s(),I(w,{conf:l.conf,setting:l.setting,trip:l.trip,center:e.center,key:e.locations,waypoints:e.locations,onIntervalCallback:n.callback},null,8,["conf","setting","trip","center","waypoints","onIntervalCallback"]))])):u("",!0)])])):u("",!0)])}const fe=L($,[["render",pe]]);export{fe as default};
