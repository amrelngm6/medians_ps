const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["map-CyzsXpWt.min.js","index.min.js","index.min.css","trip_page-XDWv4N0V.min.js","trip_map-CGrtUou7.min.js","usertype_picker-D2j0qfrd.min.js","taxiTripWizard-B_9M93vk.min.js","editable_map_location-BGNYxjH7.min.js","drivers_locations_map-B1qObfm1.min.js","taxi_trip_map-n-YLWn7u.min.js","taxiTripTrackWizard-Vk--LxDi.min.js"])))=>i.map(i=>d[i]);
import{_ as S,q as y,R as A,H as L,I as N,A as R,D as F,r as m,c as l,o as a,a as o,x as C,b as s,d as r,i as M,w as I,v as P,y as j,F as B,e as J,f as V,z as v,j as c,t as U,u as f,k as E,l as Y}from"./index.min.js";const q=y(()=>f(()=>import("./map-CyzsXpWt.min.js"),__vite__mapDeps([0,1,2]))),G=y(()=>f(()=>import("./trip_page-XDWv4N0V.min.js"),__vite__mapDeps([3,1,2,4]))),H=y(()=>f(()=>import("./usertype_picker-D2j0qfrd.min.js"),__vite__mapDeps([5,1,2]))),K=y(()=>f(()=>import("./taxiTripWizard-B_9M93vk.min.js"),__vite__mapDeps([6,1,2,7,8,9]))),Q=y(()=>f(()=>import("./taxiTripTrackWizard-Vk--LxDi.min.js"),__vite__mapDeps([10,1,2,7,8,9]))),X={components:{datatabble:F,maps:q,delete_icon:R,car_icon:N,route_icon:L,trip_page:G,usertype_picker:H,taxi_trip_wizard:K,VueTailwindDatepicker:A,taxi_trip_track_wizard:Q},name:"Taxi trips",setup(p){const n=c({startDate:"",endDate:""}),i=c({date:"YYYY-MM-DD",month:"MMM"}),t=p.conf.url+p.path+"?load=json",x=c(null),D=c(null),_=c({}),d=c({}),h=c([]),T=c(!1),b=c(!1),w=c(!1),z=c(""),e=c("#");(()=>{E(t).then(u=>{d.value=JSON.parse(JSON.stringify(u)),e.value=d.value.columns[1].value})})();const W=(u,g)=>{switch(_.value=g,O(),u){case"view":break;case"edit":x.value=null,x.value="Confirm",b.value=!0;break;case"driver":x.value="Driver",b.value=!0;break;case"delete":Y("trip_id",g,"TaxiTrip.delete");break}},O=()=>{_.value.usertype=="employee"&&(h.value=d.value.employees),_.value.usertype=="parents"&&(h.value=d.value.parents),_.value.usertype=="supervisor"&&(h.value=d.value.supervisors)};return{defaultTab:x,handleSelectedDate:u=>{E(p.conf.url+p.path+"?start_date="+u.startDate+"&end_date="+u.endDate+"&load=json").then(g=>{d.value=JSON.parse(JSON.stringify(g))})},usersList:h,showTrackWizard:D,showWizard:b,setType:u=>{_.value.usertype=u,w.value=!1,b.value=!0,O()},showOptions:w,showTrip:T,url:t,content:d,activeItem:_,searchValue:z,searchField:e,translate:U,handleAction:W,dateValue:n,formatter:i}},props:["path","lang","business_setting","system_setting","conf","auth","currency"]},Z={class:"w-full overflow-auto"},$={key:0,class:""},tt={class:"card"},et={class:"card-body"},st={class:"card-px text-center pt-15 pb-15"},nt=["textContent"],at=["textContent"],ot=["textContent"],lt={key:4,class:"w-full relative"},rt={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},it=["textContent"],ct=["textContent"],dt={class:"w-full bg-white"},_t={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex"},ut={class:"card-title"},vt={class:"d-flex align-items-center position-relative my-1"},mt={class:"card-toolbar flex-row-fluid justify-content-end gap-5 w-200px"},ht={class:"w-150px"},bt=["textContent","value"],pt={class:"card-toolbar w-full flex-end"},xt={class:"w-full"},yt=["src"],ft=["onClick"],wt=["src"],kt=["textContent"],gt={class:"w-full relative flex gap-2"},Ct=["src"],Tt=["textContent"],zt=["textContent"],Vt=["textContent"],Dt=["textContent"],Ot=["textContent"],It=["onClick","textContent"],Et=["textContent"],Wt=["textContent"],St=["onClick"],At=["onClick"];function Lt(p,n,i,t,x,D){const _=m("taxi_trip_wizard"),d=m("taxi_trip_track_wizard"),h=m("usertype_picker"),T=m("vue-tailwind-datepicker"),b=m("vue-feather"),w=m("delete_icon"),z=m("datatabble");return a(),l("div",Z,[!t.showOptions&&!t.showWizard&&t.content.items&&!t.content.items.length?(a(),l("div",$,[s("div",tt,[s("div",et,[s("div",st,[s("h2",{class:"fs-2x fw-bold mb-0",textContent:r(t.content.title)},null,8,nt),s("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:r(t.translate("Empty data"))},null,8,at),s("a",{textContent:r(t.translate("add_new")),onClick:n[0]||(n[0]=e=>t.showOptions=!0),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,ot)]),n[8]||(n[8]=s("div",{class:"text-center pb-15 px-5"},[s("img",{src:"/uploads/img/start-wizard.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"})],-1))])])])):o("",!0),t.showWizard&&t.activeItem.usertype?(a(),C(_,{onCallback:n[1]||(n[1]=e=>t.showWizard=!1),active_tab:t.defaultTab,conf:i.conf,currency:i.currency,usertype:t.activeItem.usertype,userslist:t.usersList,key:t.showWizard,vehicles:t.content.vehicles,drivers:t.content.drivers,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["active_tab","conf","currency","usertype","userslist","vehicles","drivers","system_setting","item","business_setting"])):o("",!0),t.showTrackWizard&&t.activeItem.usertype?(a(),C(d,{onCallback:n[2]||(n[2]=e=>t.showTrackWizard=!1),conf:i.conf,currency:i.currency,key:t.showTrackWizard,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["conf","currency","system_setting","item","business_setting"])):o("",!0),!t.showWizard&&t.showOptions?(a(),C(h,{alias:t.translate("Need taxi trip"),key:t.showOptions,auth:i.auth,item:t.activeItem,onCallback:t.setType},null,8,["alias","auth","item","onCallback"])):o("",!0),!t.showWizard&&!t.showOptions&&!t.showTrackWizard&&t.content?(a(),l("div",lt,[t.content.items&&t.content.items.length?(a(),l("main",{key:t.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[s("div",rt,[s("h1",{class:"font-bold text-lg w-full",textContent:r(t.content.title)},null,8,it),s("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:n[3]||(n[3]=e=>t.showOptions=!0),textContent:r(t.translate("add_new"))},null,8,ct)]),s("div",dt,[s("div",_t,[s("div",ut,[s("div",vt,[I(s("input",{type:"text","onUpdate:modelValue":n[4]||(n[4]=e=>t.searchValue=e),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-125px",placeholder:"Search Report"},null,512),[[P,t.searchValue]])]),n[9]||(n[9]=M('<div id="kt_ecommerce_report_views_export" class="d-none"><div class="dt-buttons btn-group flex-wrap"><button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Copy</span></button> <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Excel</span></button> <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>CSV</span></button> <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>PDF</span></button></div></div>',1))]),s("div",mt,[s("div",ht,[I(s("select",{"onUpdate:modelValue":n[5]||(n[5]=e=>t.searchField=e),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(a(!0),l(B,null,J(t.content.columns,e=>(a(),l("option",{textContent:r(e.text),value:e.value},null,8,bt))),256))],512),[[j,t.searchField]])])]),s("div",pt,[s("div",xt,[V(T,{formatter:t.formatter,"onUpdate:modelValue":[n[6]||(n[6]=e=>t.handleSelectedDate(e)),n[7]||(n[7]=e=>t.dateValue=e)],separator:" - "+t.translate("To")+" - ",modelValue:t.dateValue},null,8,["formatter","separator","modelValue"])])])]),t.content.columns?(a(),C(z,{key:0,"search-field":t.searchField,"search-value":t.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("is_rtl"),"fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":v(e=>[s("img",{src:e.picture,class:"w-8 h-8 rounded-full"},null,8,yt)]),"item-driver":v(e=>[s("div",{class:"w-full relative flex gap-2 cursor-pointer",onClick:k=>t.handleAction("driver",e)},[s("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.driver&&e.driver.picture?e.driver.picture:"/uploads/images/default_profile.png"},null,8,wt),e.driver?(a(),l("span",{key:0,class:"font-semibold p-1",textContent:r(e.driver.name)},null,8,kt)):o("",!0)],8,ft)]),"item-model":v(e=>[s("div",gt,[s("img",{class:"rounded-full w-8 h-8 rounded-[50px] border-2 border-purple-800",src:e.model&&e.model.picture?e.model.picture:"/uploads/images/default_profile.png"},null,8,Ct),e.model?(a(),l("span",{key:0,class:"p-1",textContent:r(e.model.name)},null,8,Tt)):o("",!0)])]),"item-total_cost":v(e=>[s("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,zt)]),"item-subtotal":v(e=>[s("span",{class:"py-2",textContent:r(i.currency.symbol+""+e.total_cost)},null,8,Vt)]),"item-status":v(e=>[e.status=="scheduled"?(a(),l("p",{key:0,class:"py-2",textContent:r(t.translate(e.status))},null,8,Dt)):o("",!0),e.status=="started"?(a(),l("span",{key:1,class:"",textContent:r(t.translate(e.status))},null,8,Ot)):o("",!0),e.status=="started"?(a(),l("p",{key:2,class:"cursor-pointer fw-bold",onClick:k=>(t.showTrackWizard=!0,t.activeItem=e),textContent:r(t.translate("Live Track"))},null,8,It)):o("",!0),e.status=="completed"?(a(),l("p",{key:3,class:"py-2 text-green-600",textContent:r(t.translate(e.status))},null,8,Et)):o("",!0),e.status=="cancelled"?(a(),l("p",{key:4,class:"py-2 text-red-600",textContent:r(t.translate(e.status))},null,8,Wt)):o("",!0)]),"item-details":v(e=>[e.not_editable?o("",!0):(a(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:k=>t.handleAction("edit",e)},[V(b,{class:"w-5",type:"edit"})],8,St))]),"item-delete":v(e=>[e.not_removeable?o("",!0):(a(),l("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:k=>t.handleAction("delete",e)},[V(w,{class:"w-5"})],8,At))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):o("",!0)])])):o("",!0)])):o("",!0)])}const Mt=S(X,[["render",Lt]]);export{Mt as default};
