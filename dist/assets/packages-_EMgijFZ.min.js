import{_ as A,D as V,G as U,e as W,y as E,z as O,f as m,t as j,r as b,o as a,c as i,i as e,a as g,F as R,k as L,x as z,j as s,H as f,I as h,h as c,B,d as w,b as y,n as J,J as F,K as M,g as D,A as q,m as G,p as K}from"./index.min.js";import{e as N}from"./editable_map_location-sN38-aBc.min.js";import{r as H}from"./route_map-Re9VZOXs.min.js";import{t as Q}from"./tooltip-s9Xa9pgY.min.js";import"./index.es-6MjjNoyG.min.js";const X=w(()=>y(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),Y=w(()=>y(()=>import("./side-form-create-Hnkm4KDO.min.js"),__vite__mapDeps([4,2,3,5,6]))),Z=w(()=>y(()=>import("./side-form-update-_QNnsS5h.min.js"),__vite__mapDeps([7,2,3,5,6,8,9,1]))),$=w(()=>y(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),tt={components:{datatabble:V,SideFormCreate:Y,SideFormUpdate:Z,maps:X,close_icon:U,delete_icon:W,car_icon:E,route_icon:O,form_field:$,editable_map_location:N,route_map:H},name:"Packages",emits:["callback"],setup(r,{emit:o}){const d=m(!1),t=m({}),p=m("Info"),u=m({}),v=m(["Info","Double trips","Single trip","Confirm"]);return r.item&&(t.value=r.item),{progressWidth:()=>M(["name","description","single_cost_month","single_cost_querter","single_cost_year","double_cost_month","double_cost_quarter","double_cost_year","status"],t),showEditSide:d,content:u,fillable:v,activeItem:t,activeTab:p,translate:j,savePackage:()=>{var l=new URLSearchParams;let _=JSON.parse(JSON.stringify(t.value)),T=Object.keys(_),k,P;for(let I=0;I<T.length;I++)k=T[I],P=typeof _[k]=="object"?JSON.stringify(_[k]):_[k],l.append("params["+k+"]",P);let S=_.route_id>0?"update":"create";l.append("type","Package."+S),J(l,"/api/"+S).then(I=>{F(I)})},back:()=>{o("callback")}}},props:["conf","path","system_setting","business_setting","setting","item","drivers","vehicles"]},et={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},st={class:"card w-full py-10"},nt={class:"w-full stepper stepper-links"},lt={class:"stepper-nav justify-content-center py-2 mb-10"},at=["onClick"],it=["textContent"],ct={class:"w-full"},rt={class:"card-body pt-0"},dt={class:"settings-form"},_t={class:"max-w-xl mb-6 mx-auto row"},mt=e("input",{name:"params[route_id]",type:"hidden"},null,-1),ft=["for","textContent"],ht=["placeholder"],ut=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),vt=["for","textContent"],bt=["placeholder"],pt={class:"text-center mt-10"},xt=["textContent"],gt={class:"card-body pt-0"},wt={class:"settings-form"},yt={class:"max-w-xl mb-6 mx-auto"},Ct={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},kt={class:"d-flex flex-stack flex-grow-1"},It={class:"fw-semibold"},qt=["textContent"],Tt=["textContent"],Pt={class:"w-full mb-6 mx-auto row"},St=["textContent"],zt=["placeholder"],Dt={class:"w-full mb-6 mx-auto row"},At=["textContent"],Vt=["placeholder"],Wt={class:"w-full mb-6 mx-auto row"},Et=["textContent"],Ot=["placeholder"],jt={class:"text-center mt-10"},Nt=["textContent"],Ut={class:"card-body pt-0"},Rt={class:"settings-form"},Lt={class:"max-w-xl mb-6 mx-auto"},Bt={class:"w-full mb-6 mx-auto row"},Jt=["textContent"],Ft=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),Mt=["textContent"],Gt={class:"w-full mb-6 mx-auto row"},Kt=["textContent"],Ht=["placeholder"],Qt={class:"w-full mb-6 mx-auto row"},Xt=["textContent"],Yt=["placeholder"],Zt={class:"w-full mb-6 mx-auto row"},$t=["textContent"],te=["placeholder"],ee={class:"text-center mt-10"},oe=["textContent"],se={class:"w-full flex gap-10"},ne={class:"w-full"},le=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),ae={class:"bg-gray-200 shadow-md mb-10 rounded-xl"},ie={class:"card-header border-0 pt-9"},ce={key:0,class:"card-title m-0 flex gap-4"},re={class:"symbol symbol-50px w-50px bg-light"},de=["src"],_e=["textContent"],me={class:"flex gap-2 cursor-pointer"},fe={class:"pt-3"},he=["textContent"],ue={key:0,class:"card-body p-9"},ve=["textContent"],be=["textContent"],pe={class:"timeline timeline-border-dashed"},xe={class:"timeline-item"},ge=e("div",{class:"timeline-line"},null,-1),we={class:"timeline-icon me-4"},ye={class:"timeline-content mb-10 mt-n2"},Ce={class:"overflow-auto pe-3"},ke=["textContent"],Ie={class:"d-flex align-items-center mt-1 fs-6"},qe=["textContent"],Te={class:"timeline-item"},Pe=e("div",{class:"timeline-line"},null,-1),Se={class:"timeline-icon me-4"},ze={class:"timeline-content mb-10 mt-n2"},De={class:"overflow-auto pe-3"},Ae=["textContent"],Ve={class:"d-flex align-items-center mt-1 fs-6"},We=["textContent"],Ee={class:"h-4px w-100 bg-light mb-5"},Oe={key:0,class:"w-full flex gap-4"},je={key:0,class:"w-full flex gap-4"},Ne=["src"],Ue={class:"w-full block gap-4"},Re=["textContent"],Le=["textContent"],Be={key:1,class:"w-full block gap-4"},Je=["textContent"],Fe=["textContent"],Me={key:2,class:"w-full block gap-4"},Ge={class:"w-full block gap-4"},Ke=["textContent"],He=["textContent"],Qe={class:"text-center mt-10"},Xe=["textContent"];function Ye(r,o,d,t,p,u){const v=b("close_icon"),C=b("form_field"),x=b("vue-feather");return a(),i("div",et,[e("div",ot,[g(v,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:t.back},null,8,["onClick"]),e("div",st,[e("div",nt,[e("div",lt,[(a(!0),i(R,null,L(t.fillable,n=>(a(),i("div",{class:"stepper-item",onClick:l=>t.activeTab=n},[e("h3",{class:z([t.activeTab==n?"text-danger border-danger":"text-gray-400 border-transparent","cursor-pointer pb-3 px-2 stepper-title text-md border-b"]),textContent:s(n)},null,10,it)],8,at))),256))]),e("div",ct,[t.activeTab=="Info"?(a(),i("div",{class:"",key:t.activeTab},[e("div",rt,[e("div",dt,[e("div",_t,[mt,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Package name"))},null,8,ft),f(e("input",{required:!0,autocomplete:"off",name:"params[name]",class:"form-control form-control-solid",placeholder:t.translate("Package name"),"onUpdate:modelValue":o[0]||(o[0]=n=>t.activeItem.route_name=n)},null,8,ht),[[h,t.activeItem.route_name]]),ut,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Description"))},null,8,vt),f(e("textarea",{required:!0,autocomplete:"off",name:"params[description]",class:"form-control form-control-solid",placeholder:t.translate("Description"),"onUpdate:modelValue":o[1]||(o[1]=n=>t.activeItem.description=n)}," ",8,bt),[[h,t.activeItem.description]])])])]),e("p",pt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[2]||(o[2]=n=>t.activeTab="Double trips"),textContent:s(t.translate("Next"))},null,8,xt)])])):c("",!0),t.activeTab=="Double trips"?(a(),i("div",{class:"",key:t.activeTab},[e("div",gt,[e("div",wt,[e("div",yt,[e("div",Ct,[e("div",kt,[e("div",It,[e("h4",{class:"text-gray-900 fw-bold",textContent:s(t.translate("Double daily trip cost"))},null,8,qt),e("div",{class:"fs-6 text-gray-700",textContent:s(t.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,Tt)])])]),e("div",Pt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,St),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>t.activeItem.single_cost_month=n)},null,8,zt),[[h,t.activeItem.single_cost_month]])]),e("div",Dt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,At),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>t.activeItem.single_cost_quarter=n)},null,8,Vt),[[h,t.activeItem.single_cost_quarter]])]),e("div",Wt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,Et),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>t.activeItem.single_cost_year=n)},null,8,Ot),[[h,t.activeItem.single_cost_year]])])])])]),e("p",jt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[6]||(o[6]=n=>t.activeTab="Single trip"),textContent:s(t.translate("Next"))},null,8,Nt)])])):c("",!0),t.activeTab=="Single trip"?(a(),i("div",{class:"",key:t.activeTab},[e("div",Ut,[e("div",Rt,[e("div",Lt,[e("div",Bt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold text-xl",textContent:s(t.translate("Single daily trip cost"))},null,8,Jt),Ft,e("p",{textContent:s(t.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Mt)]),e("div",Gt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,Kt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>t.activeItem.single_cost_month=n)},null,8,Ht),[[h,t.activeItem.single_cost_month]])]),e("div",Qt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,Xt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>t.activeItem.single_cost_quarter=n)},null,8,Yt),[[h,t.activeItem.single_cost_quarter]])]),e("div",Zt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,$t),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":o[9]||(o[9]=n=>t.activeItem.single_cost_year=n)},null,8,te),[[h,t.activeItem.single_cost_year]])])])])]),e("p",ee,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[10]||(o[10]=n=>t.activeTab="Confirm"),textContent:s(t.translate("Next"))},null,8,oe)])])):c("",!0),t.activeTab=="Confirm"?(a(),i("div",{class:"w-full mx-auto",key:t.activeTab},[e("div",se,[e("div",ne,[le,e("div",ae,[e("div",ie,[t.activeItem.driver_id?(a(),i("div",ce,[e("div",re,[e("img",{src:r.selectedObject(d.drivers,"driver_id").picture,alt:"image",class:"p-3"},null,8,de)]),e("span",{class:"",textContent:s(r.selectedObject(d.drivers,"driver_id").name)},null,8,_e)])):c("",!0),e("label",me,[g(C,{class:"flex-end",item:t.activeItem,column:{key:"status",title:t.translate("Status"),column_type:"checkbox",hide_text:!0}},null,8,["item","column"]),e("div",fe,[e("span",{class:"badge badge-light fw-bold me-auto px-4 py-3",textContent:s(t.activeItem.status?"Active":"Pending")},null,8,he)])])]),t.activeItem?(a(),i("div",ue,[e("div",{class:"fs-3 fw-bold text-gray-900",textContent:s(t.activeItem.route_name)},null,8,ve),e("p",{class:"text-gray-500 fw-semibold fs-5 mt-1 mb-7",textContent:s(t.activeItem.description)},null,8,be),e("div",pe,[e("div",xe,[ge,e("div",we,[g(x,{type:"circle",class:"fs-2 text-success"})]),e("div",ye,[e("div",Ce,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.start_address)},null,8,ke)):c("",!0),e("div",Ie,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Pickup"))},null,8,qe)])])])]),e("div",Te,[Pe,e("div",Se,[g(x,{type:"map-pin",class:"fs-2 text-danger"})]),e("div",ze,[e("div",De,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.end_address)},null,8,Ae)):c("",!0),e("div",Ve,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Destination"))},null,8,We)])])])])]),e("div",Ee,[e("div",{class:z(["rounded h-4px transition transition-all",t.progressWidth()<100?"bg-info":"bg-success"]),role:"progressbar",style:B({width:t.progressWidth()+"%"})},null,6)]),t.activeItem.vehicle_id?(a(),i("div",Oe,[t.activeItem.vehicle_id?(a(),i("div",je,[e("img",{src:"/uploads/images/car.svg",class:"w-10"},null,8,Ne),e("div",Ue,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Vehicle"))},null,8,Re),e("span",{class:"w-full block",textContent:s(r.selectedObject(d.vehicles,"vehicle_id").plate_number)},null,8,Le)])])):c("",!0),t.activeItem.morning_trip_time?(a(),i("div",Be,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Morning trip"))},null,8,Je),e("span",{class:"w-full block",textContent:s(t.activeItem.morning_trip_time)},null,8,Fe)])):c("",!0),t.activeItem.afternoon_trip_time?(a(),i("div",Me,[e("div",Ge,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Afternoon trip"))},null,8,Ke),e("span",{class:"w-full block",textContent:s(t.activeItem.afternoon_trip_time)},null,8,He)])])):c("",!0)])):c("",!0)])):c("",!0)])])]),e("p",Qe,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[11]||(o[11]=(...n)=>t.savePackage&&t.savePackage(...n)),textContent:s(t.translate("Submit"))},null,8,Xe)])])):c("",!0)])])])])])}const Ze=A(tt,[["render",Ye]]),$e=w(()=>y(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),to=w(()=>y(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),eo={components:{datatabble:V,maps:$e,delete_icon:W,car_icon:E,route_icon:O,form_field:to,editable_map_location:N,package_wizard:Ze,tooltip:Q},name:"Packages",setup(r){const o=r.conf.url+r.path+"?load=json",d=m(!1),t=m({}),p=m({}),u=m(!1),v=()=>{d.value=!1};return(()=>{G(o).then(l=>{p.value=JSON.parse(JSON.stringify(l))})})(),{showEditSide:d,url:o,content:p,activeItem:t,showWizard:u,translate:j,closeSide:v,addPackageWizard:()=>{t.value={},u.value=!0},handleAction:(l,_)=>{switch(l){case"view":break;case"edit":t.value=_,u.value=!0;break;case"delete":K("package_id",_,"Package.delete");break;case"close":d.value=!1,t.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},oo={class:"w-full flex overflow-auto"},so={key:0,class:"w-full relative"},no={key:1,class:""},lo={class:"card"},ao={class:"card-body"},io={class:"card-px text-center pt-15 pb-15"},co=["textContent"],ro=["textContent"],_o=["textContent"],mo={class:"text-center pb-15 px-5"},fo=["src"],ho={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},uo={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},vo=["textContent"],bo=e("hr",{class:"mt-2"},null,-1),po={class:"w-full"},xo=["src"],go=["onClick"],wo=["onClick"];function yo(r,o,d,t,p,u){const v=b("package_wizard"),C=b("vue-feather"),x=b("delete_icon"),n=b("datatabble");return a(),i("div",oo,[t.content?(a(),i("div",so,[t.showWizard?(a(),D(v,{onCallback:o[0]||(o[0]=l=>t.showWizard=!1),key:t.showWizard,item:t.activeItem,business_setting:d.business_setting,conf:d.conf},null,8,["item","business_setting","conf"])):c("",!0),!t.showWizard&&t.content.items&&!t.content.items.length?(a(),i("div",no,[e("div",lo,[e("div",ao,[e("div",io,[e("h2",{class:"fs-2x fw-bold mb-0",textContent:s(t.content.title)},null,8,co),e("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:s(t.translate("Add your first package using this below wizard"))},null,8,ro),e("a",{textContent:s(t.translate("add_new")),onClick:o[1]||(o[1]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,_o)]),e("div",mo,[e("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,fo)])])])])):c("",!0),t.content.items&&!t.showWizard?(a(),i("main",ho,[e("div",uo,[e("h1",{class:"font-bold text-lg w-full",textContent:s(t.content.title)},null,8,vo),t.showWizard?c("",!0):(a(),i("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:o[2]||(o[2]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l))},s(t.translate("add_new")),1))]),bo,e("div",po,[t.content.columns?(a(),D(n,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":q(l=>[e("img",{src:l.picture,class:"w-8 h-8 rounded-full"},null,8,xo)]),"item-single_trip":q(l=>[]),"item-double_trip":q(l=>[]),"item-edit":q(l=>[l.not_editable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:_=>t.handleAction("edit",l)},[g(C,{class:"w-5",type:"edit"})],8,go))]),"item-delete":q(l=>[l.not_removeable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:_=>t.handleAction("delete",l)},[g(x,{class:"w-5"})],8,wo))]),_:1},8,["body-text-direction","headers","items"])):c("",!0)])])):c("",!0)])):c("",!0)])}const Po=A(eo,[["render",yo]]);export{Po as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-B-UdJfwR.min.js","index.es-6MjjNoyG.min.js","index.min.js","index.min.css","side-form-create-Hnkm4KDO.min.js","Field-D7aHrL1B.min.js","Field.min.css","side-form-update-_QNnsS5h.min.js","form_field-JC_s-tjI.min.js","editable_map_location-sN38-aBc.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
