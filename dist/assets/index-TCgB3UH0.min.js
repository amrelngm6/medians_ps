import{_ as N,t as m,a as y,o as a,c as i,d as t,g as w,e as s,i as g,n as k,b as u,F as f,f as p,y as F,w as b,q as C,l as j,s as E,r as x,u as V,j as A,p as D}from"./index.min.js";const L={components:{translate:m},emits:["callback"],setup(h,{emit:c}){return{setCommentStatus:d=>{var r=new URLSearchParams;r.append("type","ForumComment.update"),r.append("params[id]",d.id),r.append("params[status]",d.status??0),j(r,"/api/update").then(_=>{E(_.result)})},translate:m,emit:c,close:()=>{if(!window.confirm(m("confirm_close_ticket")))return null;var d=new URLSearchParams;d.append("type","HelpMessage.close"),d.append("params[message_id]",h.item.message_id),d.append("params[status]","completed"),j(d,"/api/update").then(r=>{E(r.result)})}}},props:["path","langs","setting","conf","auth","doctors","categories","item"]},M={class:"w-full"},P={class:"container-fluid"},R={class:"row"},U={class:"col-lg-12"},B={class:"card mt-n4 mx-n4 card-border-effect-none mb-n5 border-bottom-0 border-start-0 rounded-0"},O={class:"card-body pb-4 mb-0"},q={class:"row"},I={class:"col-md"},z={class:"flex align-items-center"},J={class:"px-1 pt-1"},G={class:"col-md"},H=["textContent"],W={class:"hstack gap-3 flex h-8"},K=t("div",{class:"vr"},null,-1),Q={class:"text-muted"},X=["textContent"],Y=["textContent"],Z=t("div",{class:"vr"},null,-1),$={class:"text-muted"},tt=["textContent"],et=["textContent"],st=t("div",{class:"vr"},null,-1),nt=["textContent"],ot={class:"lg:flex gap-6 mt-4"},lt={class:"col-xxl-9 col-lg-8 w-full"},at={class:"card"},it={class:"card-body p-4"},ct=["textContent"],dt=["textContent"],rt=["textContent"],_t={class:"card-body p-4"},mt=["textContent"],ut={"data-simplebar":"init",style:{"max-height":"300px"},class:"overflow-y-auto"},ht={class:"simplebar-wrapper"},xt=t("div",{class:"simplebar-height-auto-observer-wrapper"},[t("div",{class:"simplebar-height-auto-observer"})],-1),ft={class:"simplebar-mask"},pt={class:"simplebar-offset"},vt={class:"simplebar-content-wrapper",tabindex:"0",role:"region","aria-label":"scrollable content"},gt={class:"simplebar-content"},bt={class:"flex gap-2 mb-4"},Ct={key:0,class:"flex-grow-1 ms-3"},yt={class:"fs-13 flex gap-2"},wt=["textContent"],kt=["textContent"],St={class:"py-4 flex gap gap-2 cursor-pointer"},jt=["checked","onChange"],Et=["textContent"],Nt={action:"/api/create",method:"POST","data-refresh":"1",id:"add-comment-form",class:"action my-2 rounded-lg pb-2"},Tt=t("input",{name:"type",type:"hidden",value:"ForumComment.create"},null,-1),Ft=["value"],Vt={class:"lg:px-0 gap-6 sm:flex sm:items-center sm:justify-between sm:py-4 sm:px-6"},At={class:"w-full mt-1 text-gray-900 sm:mt-0"},Dt=["textContent"],Lt=["placeholder"],Mt={class:"w-full mt-1 text-gray-900 sm:mt-0"},Pt=["textContent"],Rt=["placeholder"],Ut={class:"row g-3"},Bt={class:"col-lg-12"},Ot=["textContent"],qt=t("textarea",{name:"params[content]",class:"form-control bg-light border-light",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Enter comments"},null,-1),It={class:"col-lg-12 text-end mt-4"},zt=["textContent"],Jt={class:"col-xxl-3 col-lg-4"},Gt={class:"card"},Ht={class:"card-header"},Wt=["textContent"],Kt={class:"card-body"},Qt={action:"/api/update",method:"POST",id:"edit-item-form",class:"action my-2 rounded-lg pb-2"},Xt=t("input",{name:"type",type:"hidden",value:"Forum.update"},null,-1),Yt=["value"],Zt={class:"table-responsive table-card"},$t={class:"table table-borderless align-middle mb-0 w-full"},te=["textContent"],ee={class:"py-2"},se=["href","textContent"],ne=["textContent"],oe={id:"t-client",class:"py-2"},le=["textContent","value"],ae=["textContent"],ie={id:"t-client",class:"py-2"},ce=["textContent","value"],de=["textContent"],re={id:"t-client",class:"py-2"},_e=["textContent"],me=["textContent"],ue=["textContent"],he=["textContent"],xe=["textContent"],fe=["textContent"],pe=["textContent"],ve=["textContent"],ge=t("td",{class:"fw-medium py-2"},null,-1),be={id:"d-date",class:"py-2 flex"},Ce=["textContent"];function ye(h,c,n,e,d,r){const _=y("vue-feather");return a(),i("div",M,[t("div",P,[t("div",R,[t("div",U,[t("div",B,[t("div",O,[t("div",q,[t("div",I,[t("div",z,[t("div",J,[w(_,{type:"clipboard"})]),t("div",G,[t("h4",{class:"fw-semibold px-1",id:"ticket-title",textContent:s(n.item.customer_name)},null,8,H),t("div",W,[K,t("div",Q,[t("span",{textContent:s(e.translate("Created at"))},null,8,X),g(" : "),t("span",{class:"fw-medium",id:"create-date",textContent:s(n.item.date)},null,8,Y)]),Z,t("div",$,[t("span",{textContent:s(e.translate("Last update"))},null,8,tt),g(" : "),t("span",{class:"fw-medium",id:"update-date",textContent:s(n.item.update_date)},null,8,et)]),st,n.item.status?(a(),i("div",{key:0,class:k(["badge rounded-pill fs-12 text-white",n.item.status=="0"?"bg-info":"bg-success"]),id:"ticket-status",textContent:s(n.item.status=="0"?"disabled":"active")},null,10,nt)):u("",!0)])]),t("span",{class:"w-auto py-2 px-4 cursor-pointer text-lg",onClick:c[0]||(c[0]=o=>e.emit("callback"))},[w(_,{class:"w-5",type:"x-circle"})])])])])])])])]),t("div",ot,[t("div",lt,[t("div",at,[t("div",it,[t("h6",{class:"fw-semibold text-uppercase mb-3",textContent:s(e.translate("Ticket Discripation"))},null,8,ct),t("h3",{class:"fw-semibold text-uppercase mb-3",textContent:s(n.item.subject)},null,8,dt),t("p",{class:"text-muted font-bold pt-10",textContent:s(n.item.content)},null,8,rt)]),t("div",_t,[t("h5",{class:"card-title text-sm font-semibold mb-4",textContent:s(e.translate("Comments"))},null,8,mt),t("div",ut,[t("div",ht,[xt,t("div",ft,[t("div",pt,[t("div",vt,[t("div",gt,[(a(!0),i(f,null,p(n.item.comments,o=>(a(),i("div",bt,[o.user_name?(a(),i("div",Ct,[t("h5",yt,[t("span",{textContent:s(o.user_name)},null,8,wt),t("small",{class:"text-muted",textContent:s(o.date)},null,8,kt),t("div",St,[t("span",{class:k([o.status=="on"?"bg-gray-200":"bg-red-400","mx-2 mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[t("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:F({left:o.status=="on"?"16px":0})},null,4)],2),t("input",{value:"",checked:o.status!="on",onChange:l=>e.setCommentStatus(o),type:"checkbox",class:"hidden"},null,40,jt)])]),t("p",{class:"text-muted",textContent:s(o.content)},null,8,Et)])):u("",!0)]))),256))])])])])])]),t("form",Nt,[Tt,t("input",{name:"params[item_id]",type:"hidden",value:n.item.id},null,8,Ft),t("div",Vt,[t("dd",At,[t("p",{textContent:s(e.translate("Name"))},null,8,Dt),t("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-first-name",type:"text",placeholder:e.translate("Name"),name:"params[user_name]"},null,8,Lt)]),t("dd",Mt,[t("p",{textContent:s(e.translate("Email"))},null,8,Pt),t("input",{type:"email",class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-email",placeholder:e.translate("ENTER Email"),name:"params[user_email]"},null,8,Rt)])]),t("div",Ut,[t("div",Bt,[t("label",{for:"exampleFormControlTextarea1",class:"form-label",textContent:s(e.translate("WRITE_COMMENT"))},null,8,Ot),qt]),t("div",It,[t("button",{type:"submit",class:"btn btn-primary",textContent:s(e.translate("Send"))},null,8,zt)])])])])])]),t("div",Jt,[t("div",Gt,[t("div",Ht,[t("h5",{class:"card-title mb-0",textContent:s(e.translate("Ticket Details"))},null,8,Wt)]),t("div",Kt,[t("form",Qt,[Xt,t("input",{name:"params[id]",type:"hidden",value:n.item.id},null,8,Yt),t("div",Zt,[t("table",$t,[t("tbody",null,[t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("ID"))},null,8,te),t("td",ee,[g("#"),t("a",{target:"_blank",href:"/forum-post/"+n.item.id,textContent:s(n.item.id)},null,8,se)])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Assigned Doctor"))},null,8,ne),t("td",oe,[b(t("select",{"onUpdate:modelValue":c[1]||(c[1]=o=>n.item.doctor_id=o),name:"params[doctor_id]",class:"form-control form-control-solid border border-gray-600"},[(a(!0),i(f,null,p(n.doctors,o=>(a(),i("option",{textContent:s(o.title),value:o.id},null,8,le))),256))],512),[[C,n.item.doctor_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Category"))},null,8,ae),t("td",ie,[b(t("select",{"onUpdate:modelValue":c[2]||(c[2]=o=>n.item.category_id=o),name:"params[category_id]",class:"form-control form-control-solid border border-gray-600"},[(a(!0),i(f,null,p(n.categories,o=>(a(),i("option",{textContent:s(o.title),value:o.id},null,8,ce))),256))],512),[[C,n.item.category_id]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Status"))},null,8,de),t("td",re,[b(t("select",{"onUpdate:modelValue":c[3]||(c[3]=o=>n.item.status=o),name:"params[status]",class:"form-control form-control-solid border border-gray-600"},[t("option",{textContent:s(e.translate("Active")),value:"on"},null,8,_e),t("option",{textContent:s(e.translate("Inactive")),value:"0"},null,8,me)],512),[[C,n.item.status]])])]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Name"))},null,8,ue),t("td",{class:"py-2",textContent:s(n.item.customer_name)},null,8,he)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Email"))},null,8,xe),t("td",{class:"py-2",textContent:s(n.item.customer_email)},null,8,fe)]),t("tr",null,[t("td",{class:"fw-medium py-2",textContent:s(e.translate("Phone"))},null,8,pe),t("td",{class:"py-2",textContent:s(n.item.customer_phone)},null,8,ve)]),t("tr",null,[ge,t("td",be,[t("button",{textContent:s(e.translate("Update")),type:"submit",class:"btn btn-danger block text-center"},null,8,Ce)])])])])])])])])])])])])}const we=N(L,[["render",ye]]),ke={components:{item_details:we,translate:m},setup(h){const c=h.conf.url+h.path+"?load=json",n=x({}),e=x({}),d=x(!1),r=x(!1),_=x("0"),o=()=>{r.value=!1,e.value=null},l=v=>{_.value=v};(()=>{A(c).then(v=>{n.value=JSON.parse(JSON.stringify(v))})})();let T=[{text:m("Inactive"),status:"0",icon:"delete",desc:m("New posts those not opened yet")},{text:m("Active"),status:"on",icon:"check-square",desc:m("posts needs customer reply")}];return{content:n,activeItem:e,closeMessage:o,switchStatus:l,showAddSide:d,showEditSide:r,activeStatus:_,statusList:T,translate:m}},props:["path","langs","setting","conf","auth"]},Se={class:"w-full"},je={key:1,class:"container-fluid"},Ee={class:"card"},Ne={class:"card-body"},Te={class:"d-flex flex-column flex-xl-row p-7"},Fe={class:"flex-lg-row-fluid me-xl-15 mb-20 mb-xl-0"},Ve={class:"mb-0"},Ae={key:0,method:"post",action:"#",class:"form mb-15"},De=D('<div class="position-relative"><i class="ki-duotone ki-magnifier fs-1 text-primary position-absolute top-50 translate-middle ms-9"><span class="path1"></span><span class="path2"></span></i><input type="text" class="form-control form-control-lg form-control-solid ps-14" name="search" value="" placeholder="Search"></div>',1),Le=[De],Me=["textContent"],Pe={class:"w-full"},Re=["onClick"],Ue={class:"flex-col justify-start items-start gap-2.5 flex"},Be={class:"mt-2 justify-start items-start gap-2.5 inline-flex"},Oe={class:"px-2.5 py-1 bg-blue-100 rounded-lg justify-center items-center gap-2.5 flex"},qe=["textContent"],Ie=["textContent"],ze={class:"flex w-full"},Je={key:0,class:"w-full justify-start items-center gap-2 inline-flex"},Ge={class:"relative flex"},He=["src"],We={class:"justify-between items-center flex"},Ke={class:"flex-col justify-start items-start inline-flex"},Qe={class:"justify-start items-center gap-1 inline-flex"},Xe=["textContent"],Ye=["textContent"],Ze={class:"justify-start gap-10 flex items-center"},$e={class:"flex gap-1 text-sm mx-2 font-normal relative items-center"},ts=["textContent"],es=["textContent"],ss=t("img",{src:"/src/front_assets/svg/views.svg",width:"40"},null,-1),ns={class:"flex gap-1 text-sm mx-2 font-normal relative items-center"},os=["textContent"],ls=["textContent"],as=t("img",{src:"/src/front_assets/svg/comments.svg",width:"40"},null,-1),is={class:"flex-column flex-lg-row-auto w-100 mw-lg-300px mw-xxl-350px"},cs={class:"card-rounded flex gap-10 mb-15 py-3 px-6"},ds={class:"d-flex align-items-center mb-10 gap-2"},rs=["onClick"],_s=["textContent"];function ms(h,c,n,e,d,r){const _=y("item_details"),o=y("vue-feather");return a(),i("div",Se,[e.showEditSide&&e.content?(a(),V(_,{key:0,item:e.activeItem,doctors:e.content.doctors,categories:e.content.categories,ref:"activeForumPost",onCallback:e.closeMessage},null,8,["item","doctors","categories","onCallback"])):u("",!0),e.showEditSide?u("",!0):(a(),i("div",je,[t("div",Ee,[t("div",Ne,[t("div",Te,[t("div",Fe,[t("div",Ve,[e.content.showSearchForm?(a(),i("form",Ae,Le)):u("",!0),t("h1",{class:"text-gray-900 mb-10",textContent:s(e.content.title)},null,8,Me),(a(!0),i(f,null,p(e.content.items,l=>(a(),i("div",Pe,[l.status==e.activeStatus?(a(),i("div",{key:0,onClick:S=>(e.activeItem=l,e.showEditSide=!0),class:"w-full flex-col justify-start items-start gap-10 inline-flex bg-gray-100 p-4 rounded-lg shadow-md bg-white"},[t("div",Ue,[t("div",Be,[t("div",Oe,[t("div",{class:"font-normal text-sm leading-none",textContent:s(l.category?l.category.title:"")},null,8,qe)])]),t("a",{href:"javascript:;",class:"pt-1 text-lg font-semibold leading-relaxed purple-color hover:text-gray-500",textContent:s(l.subject)},null,8,Ie)]),t("div",ze,[l.doctor?(a(),i("div",Je,[t("div",Ge,[t("img",{class:"w-10 h-10 relative rounded-full",src:l.doctor?l.doctor.picture:""},null,8,He)]),t("div",We,[t("div",Ke,[t("div",Qe,[t("div",{class:"text-sm font-semibold text-gray-500",textContent:s(l.doctor.title)},null,8,Xe)]),t("div",{class:"text-sm pt-1 font-normal leading-none text-gray-800",textContent:s(e.translate("Answered By"))},null,8,Ye)])])])):u("",!0),t("div",Ze,[t("div",$e,[t("span",{class:"tooltiptext",textContent:s(e.translate("Views"))},null,8,ts),t("span",{class:"pt-2",textContent:s(l.views_sum_times)},null,8,es),ss]),t("div",ns,[t("span",{class:"tooltiptext",textContent:s(e.translate("Comments"))},null,8,os),t("span",{class:"pt-2",textContent:s(l.comments.lenght)},null,8,ls),as])])])],8,Re)):u("",!0)]))),256))])]),t("div",is,[t("div",cs,[(a(!0),i(f,null,p(e.statusList,l=>(a(),i("div",ds,[w(o,{class:"w-6 pb-2",type:l.icon},null,8,["type"]),t("div",{class:"d-flex flex-column cursor-pointer",onClick:S=>e.switchStatus(l.status)},[t("h5",{class:k(["",l.status==e.activeStatus?"text-danger":"text-gray-500"]),textContent:s(l.text)},null,10,_s)],8,rs)]))),256))])])])])])]))])}const hs=N(ke,[["render",ms]]);export{hs as default};
