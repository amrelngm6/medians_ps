import{_ as P,D as V,G as j,e as W,y as E,z as L,f as _,t as N,r as v,o as a,c as i,i as t,a as T,F as R,k as U,x as M,j as o,h as c,H as x,I as f,l as p,d as g,b as y,n as J,J as B,K as F,g as A,A as q,m as G,p as K}from"./index.min.js";import{e as O}from"./editable_map_location-VfWgWkt8.min.js";import{r as Q}from"./route_map-80PBIM6d.min.js";import{e as Y}from"./routeLocationWizard-7uCJQlXs.min.js";import"./index.es-7nd_URRl.min.js";import"./tooltip-s9Xa9pgY.min.js";const H=g(()=>y(()=>import("./map-HlZZaoZ3.min.js"),__vite__mapDeps([0,1,2,3]))),X=g(()=>y(()=>import("./side-form-create-CKdgN5Kx.min.js"),__vite__mapDeps([4,2,3,5,6]))),Z=g(()=>y(()=>import("./side-form-update-sfvJGQqB.min.js"),__vite__mapDeps([7,2,3,5,6,8,9,1]))),$=g(()=>y(()=>import("./form_field-scTEvTH6.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),tt={components:{datatabble:V,SideFormCreate:X,SideFormUpdate:Z,maps:H,close_icon:j,delete_icon:W,car_icon:E,route_icon:L,form_field:$,editable_map_location:O,route_map:Q},name:"PackageSubscriptions",emits:["callback"],setup(m,{emit:s}){const r=_(!1),e=_({}),d=_("Info"),C=_({}),u=_(["Info","Double trips","Single trip","Confirm"]);return m.item&&(e.value=m.item),{progressWidth:()=>F(["name","description","single_cost_month","single_cost_querter","single_cost_year","double_cost_month","double_cost_quarter","double_cost_year","status"],e),showEditSide:r,content:C,fillable:u,activeItem:e,activeTab:d,translate:N,savePackageSubscription:()=>{var l=new URLSearchParams;let b=JSON.parse(JSON.stringify(e.value)),S=Object.keys(b),k,z;for(let I=0;I<S.length;I++)k=S[I],z=typeof b[k]=="object"?JSON.stringify(b[k]):b[k],l.append("params["+k+"]",z);let D=b.subscription_id>0?"update":"create";l.append("type","PackageSubscription."+D),J(l,"/api/"+D).then(I=>{B(I)})},back:()=>{s("callback")}}},props:["conf","path","system_setting","business_setting","setting","item","drivers","vehicles"]},et={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},st={class:"card w-full py-10"},nt={class:"w-full stepper stepper-links"},lt={class:"stepper-nav justify-content-center py-2 mb-10"},at=["onClick"],it=["textContent"],rt={class:"w-full"},ct=t("div",{class:"card-body pt-0"},[t("div",{class:"settings-form"},[t("div",{class:"max-w-xl mb-6 mx-auto row"})])],-1),dt={class:"text-center mt-10"},_t=["textContent"],mt={class:"card-body pt-0"},ht={class:"settings-form"},bt={class:"max-w-xl mb-6 mx-auto"},ut={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},xt={class:"d-flex flex-stack flex-grow-1"},ft={class:"fw-semibold"},pt=["textContent"],vt=["textContent"],gt=t("hr",{class:"opacity-10 my-4"},null,-1),yt={class:"w-full mb-6 mx-auto row"},Ct=["textContent"],wt=["placeholder"],kt={class:"w-full mb-6 mx-auto row"},It=["textContent"],Tt=["placeholder"],qt={class:"w-full mb-6 mx-auto row"},St=["textContent"],zt=["placeholder"],Dt={class:"text-center mt-10"},At=["textContent"],Pt={class:"card-body pt-0"},Vt={class:"settings-form"},Wt={class:"max-w-xl mb-6 mx-auto"},Et={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},Lt={class:"d-flex flex-stack flex-grow-1"},Nt={class:"fw-semibold"},Ot=["textContent"],jt=["textContent"],Rt=t("hr",{class:"opacity-10 my-4"},null,-1),Ut={class:"w-full mb-6 mx-auto row"},Mt=["textContent"],Jt=["placeholder"],Bt={class:"w-full mb-6 mx-auto row"},Ft=["textContent"],Gt=["placeholder"],Kt={class:"w-full mb-6 mx-auto row"},Qt=["textContent"],Yt=["placeholder"],Ht={class:"text-center mt-10"},Xt=["textContent"],Zt={class:"max-w-6xl mx-auto"},$t={class:"card mb-6 mb-xl-9"},te={class:"w-full flex"},ee={class:"w-full"},oe={class:"card-header border-0"},se={class:"card-title"},ne=["textContent"],le={class:"card-body py-0"},ae=["textContent"],ie={class:"flex-end pt-10"},re={class:"flex gap-2 cursor-pointer"},ce={class:"pt-3"},de=["textContent"],_e={class:"w-full lg:flex gap-10"},me={class:"card mb-6 mb-xl-9 bg-inverse-success"},he={class:"card-header border-0"},be={class:"card-title"},ue=["textContent"],xe={class:"card-body py-0"},fe=["textContent"],pe={class:"d-flex flex-wrap flex-stack mb-5"},ve={class:"d-flex"},ge={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},ye={class:"fs-1 fw-bold text-gray-800 lh-1"},Ce=["textContent"],we=["textContent"],ke={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},Ie={class:"fs-1 fw-bold text-gray-800 lh-1"},Te=["textContent"],qe=["textContent"],Se={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},ze={class:"fs-1 fw-bold text-gray-800 lh-1"},De=["textContent"],Ae=["textContent"],Pe={class:"card mb-6 mb-xl-9 bg-inverse-warning"},Ve={class:"card-header border-0"},We={class:"card-title"},Ee=["textContent"],Le={class:"card-body py-0"},Ne=["textContent"],Oe={class:"d-flex flex-wrap flex-stack mb-5"},je={class:"d-flex"},Re={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},Ue={class:"fs-1 fw-bold text-gray-800 lh-1"},Me=["textContent"],Je=["textContent"],Be={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},Fe={class:"fs-1 fw-bold text-gray-800 lh-1"},Ge=["textContent"],Ke=["textContent"],Qe={class:"border border-dashed border-gray-300 w-150px rounded my-3 p-4 me-6"},Ye={class:"fs-1 fw-bold text-gray-800 lh-1"},He=["textContent"],Xe=["textContent"],Ze={class:"text-center mt-10"},$e=["textContent"];function to(m,s,r,e,d,C){const u=v("close_icon"),w=v("form_field");return a(),i("div",et,[t("div",ot,[T(u,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:e.back},null,8,["onClick"]),t("div",st,[t("div",nt,[t("div",lt,[(a(!0),i(R,null,U(e.fillable,n=>(a(),i("div",{class:"stepper-item",onClick:h=>e.activeTab=n},[t("h3",{class:M([e.activeTab==n?"text-danger border-danger":"text-gray-400 border-transparent","cursor-pointer pb-3 px-2 stepper-title text-md border-b"]),textContent:o(n)},null,10,it)],8,at))),256))]),t("div",rt,[e.activeTab=="Info"?(a(),i("div",{class:"",key:e.activeTab},[ct,t("p",dt,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[0]||(s[0]=n=>e.activeTab="Double trips"),textContent:o(e.translate("Next"))},null,8,_t)])])):c("",!0),e.activeTab=="Double trips"?(a(),i("div",{class:"",key:e.activeTab},[t("div",mt,[t("div",ht,[t("div",bt,[t("div",ut,[t("div",xt,[t("div",ft,[t("h4",{class:"text-gray-900 fw-bold",textContent:o(e.translate("Double daily trips cost"))},null,8,pt),t("div",{class:"fs-6 text-gray-700",textContent:o(e.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,vt)])])]),gt,t("div",yt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per month"))},null,8,Ct),x(t("input",{required:!0,autocomplete:"off",name:"params[double_cost_month]",class:"form-control form-control-solid",placeholder:e.translate("Double Trips cost per month"),type:"number","onUpdate:modelValue":s[1]||(s[1]=n=>e.activeItem.double_cost_month=n)},null,8,wt),[[f,e.activeItem.double_cost_month]])]),t("div",kt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per quarter"))},null,8,It),x(t("input",{required:!0,autocomplete:"off",name:"params[double_cost_quarter]",class:"form-control form-control-solid",placeholder:e.translate("Double Trips cost per quarter"),type:"number","onUpdate:modelValue":s[2]||(s[2]=n=>e.activeItem.double_cost_quarter=n)},null,8,Tt),[[f,e.activeItem.double_cost_quarter]])]),t("div",qt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per year"))},null,8,St),x(t("input",{required:!0,autocomplete:"off",name:"params[double_cost_year]",class:"form-control form-control-solid",placeholder:e.translate("Double Trips cost per year"),type:"number","onUpdate:modelValue":s[3]||(s[3]=n=>e.activeItem.double_cost_year=n)},null,8,zt),[[f,e.activeItem.double_cost_year]])])])])]),t("p",Dt,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[4]||(s[4]=n=>e.activeTab="Single trip"),textContent:o(e.translate("Next"))},null,8,At)])])):c("",!0),e.activeTab=="Single trip"?(a(),i("div",{class:"",key:e.activeTab},[t("div",Pt,[t("div",Vt,[t("div",Wt,[t("div",Et,[t("div",Lt,[t("div",Nt,[t("h4",{class:"text-gray-900 fw-bold",textContent:o(e.translate("Single daily trip cost"))},null,8,Ot),t("div",{class:"fs-6 text-gray-700",textContent:o(e.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,jt)])])]),Rt,t("div",Ut,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per month"))},null,8,Mt),x(t("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:e.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":s[5]||(s[5]=n=>e.activeItem.single_cost_month=n)},null,8,Jt),[[f,e.activeItem.single_cost_month]])]),t("div",Bt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per quarter"))},null,8,Ft),x(t("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:e.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":s[6]||(s[6]=n=>e.activeItem.single_cost_quarter=n)},null,8,Gt),[[f,e.activeItem.single_cost_quarter]])]),t("div",Kt,[t("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:o(e.translate("Cost per year"))},null,8,Qt),x(t("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:e.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":s[7]||(s[7]=n=>e.activeItem.single_cost_year=n)},null,8,Yt),[[f,e.activeItem.single_cost_year]])])])])]),t("p",Ht,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[8]||(s[8]=n=>e.activeTab="Confirm"),textContent:o(e.translate("Next"))},null,8,Xt)])])):c("",!0),e.activeTab=="Confirm"?(a(),i("div",{class:"w-full mx-auto",key:e.activeTab},[t("div",Zt,[t("div",$t,[t("div",te,[t("div",ee,[t("div",oe,[t("div",se,[t("h2",{textContent:o(e.activeItem.name)},null,8,ne)])]),t("div",le,[t("div",{class:"fs-5 fw-semibold text-gray-500 mb-4",textContent:o(e.activeItem.description)},null,8,ae)])]),t("div",ie,[t("label",re,[T(w,{class:"flex-end",item:e.activeItem,column:{key:"status",title:e.translate("Status"),column_type:"checkbox",hide_text:!0}},null,8,["item","column"]),t("div",ce,[t("span",{class:"badge badge-light fw-bold me-auto px-4 py-3",textContent:o(e.activeItem.status?"Active":"Pending")},null,8,de)])])])])]),t("div",_e,[t("div",me,[t("div",he,[t("div",be,[t("h2",{textContent:o(e.translate("Double trips cost"))},null,8,ue)])]),t("div",xe,[t("div",{class:"fs-5 fw-semibold text-gray-500 mb-4",textContent:o(e.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,fe),t("div",pe,[t("div",ve,[t("div",ge,[t("span",ye,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.double_cost_month)},null,8,Ce),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Month"))},null,8,we)])]),t("div",ke,[t("span",Ie,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.double_cost_quarter)},null,8,Te),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Quarter"))},null,8,qe)])]),t("div",Se,[t("span",ze,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.double_cost_year)},null,8,De),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Year"))},null,8,Ae)])])])])])]),t("div",Pe,[t("div",Ve,[t("div",We,[t("h2",{textContent:o(e.translate("Single trip cost"))},null,8,Ee)])]),t("div",Le,[t("div",{class:"fs-5 fw-semibold text-gray-500 mb-4",textContent:o(e.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Ne),t("div",Oe,[t("div",je,[t("div",Re,[t("span",Ue,[p(" $ "),t("span",{class:"counted",textContent:o(e.activeItem.single_cost_month)},null,8,Me),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Month"))},null,8,Je)])]),t("div",Be,[t("span",Fe,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.single_cost_quarter)},null,8,Ge),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Quarter"))},null,8,Ke)])]),t("div",Qe,[t("span",Ye,[p(" $"),t("span",{class:"counted",textContent:o(e.activeItem.single_cost_year)},null,8,He),t("span",{class:"fs-6 fw-semibold text-muted d-block lh-1 pt-2",textContent:o(e.translate("/Year"))},null,8,Xe)])])])])])])])]),t("p",Ze,[t("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:s[9]||(s[9]=(...n)=>e.savePackageSubscription&&e.savePackageSubscription(...n)),textContent:o(e.translate("Submit"))},null,8,$e)])])):c("",!0)])])])])])}const eo=P(tt,[["render",to]]),oo=g(()=>y(()=>import("./map-HlZZaoZ3.min.js"),__vite__mapDeps([0,1,2,3]))),so=g(()=>y(()=>import("./form_field-scTEvTH6.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),no={components:{datatabble:V,maps:oo,delete_icon:W,car_icon:E,route_icon:L,form_field:so,editable_map_location:O,student_subscription_wizard:eo,employee_location_wizard:Y},name:"Routes",setup(m){const s=m.conf.url+m.path+"?load=json",r=_({}),e=_({}),d=_(!1),C=()=>{d.value=!1};return(()=>{G(s).then(h=>{e.value=JSON.parse(JSON.stringify(h))})})(),{url:s,content:e,activeItem:r,translate:N,showWizard:d,closeSide:C,addLocationWizard:()=>{r.value={},d.value=!0},handleAction:(h,l)=>{switch(h){case"view":break;case"edit":r.value=l,d.value=!0;break;case"delete":K("location_id",l,"RouteLocation.delete");break;case"close":showEditSide.value=!1,r.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},lo={class:"w-full flex overflow-auto"},ao={key:0,class:"w-full relative"},io={key:1,class:""},ro={class:"card"},co={class:"card-body"},_o={class:"card-px text-center pt-15 pb-15"},mo=["textContent"],ho=["textContent"],bo=["textContent"],uo={class:"text-center pb-15 px-5"},xo=["src"],fo={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},po={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},vo=["textContent"],go=["textContent"],yo=t("hr",{class:"mt-2"},null,-1),Co={class:"w-full bg-white"},wo={key:0,class:"w-full flex gap-4"},ko=["src"],Io=["textContent"],To=["onClick"],qo=["onClick"];function So(m,s,r,e,d,C){const u=v("student_subscription_wizard"),w=v("vue-feather"),n=v("delete_icon"),h=v("datatabble");return a(),i("div",lo,[e.content&&r.auth?(a(),i("div",ao,[e.showWizard&&r.auth.business&&r.auth.business.type=="school"?(a(),A(u,{onCallback:s[0]||(s[0]=l=>e.showWizard=!1),allstudents:e.content.students,key:e.showWizard,system_setting:r.system_setting,item:e.activeItem,business_setting:r.business_setting},null,8,["allstudents","system_setting","item","business_setting"])):c("",!0),!e.showWizard&&e.content.items&&!e.content.items.length?(a(),i("div",io,[t("div",ro,[t("div",co,[t("div",_o,[t("h2",{class:"fs-2x fw-bold mb-0",textContent:o(e.content.title)},null,8,mo),t("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:o(e.translate("Add your first pickup using this below wizard"))},null,8,ho),t("a",{textContent:o(e.translate("add_new")),onClick:s[1]||(s[1]=(...l)=>e.addLocationWizard&&e.addLocationWizard(...l)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,bo)]),t("div",uo,[t("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,xo)])])])])):c("",!0),e.content.items&&e.content.items.length&&!e.showWizard?(a(),i("main",fo,[t("div",po,[t("h1",{class:"font-bold text-lg w-full",textContent:o(e.content.title)},null,8,vo),e.showWizard?c("",!0):(a(),i("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:s[2]||(s[2]=(...l)=>e.addLocationWizard&&e.addLocationWizard(...l)),textContent:o(e.translate("add_new"))},null,8,go))]),yo,t("div",Co,[e.content.columns?(a(),A(h,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":e.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:e.content.columns,items:e.content.items},{"item-name":q(l=>[l.model?(a(),i("div",wo,[t("img",{src:l.model.picture,class:"w-8 h-8 rounded-full"},null,8,ko),t("span",{textContent:o(l.model.name)},null,8,Io)])):c("",!0)]),"item-edit":q(l=>[l.not_editable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:b=>e.handleAction("edit",l)},[T(w,{class:"w-5",type:"edit"})],8,To))]),"item-delete":q(l=>[l.not_removeable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:b=>e.handleAction("delete",l)},[T(n,{class:"w-5"})],8,qo))]),_:1},8,["body-text-direction","headers","items"])):c("",!0)])])):c("",!0)])):c("",!0)])}const Eo=P(no,[["render",So]]);export{Eo as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-HlZZaoZ3.min.js","index.es-7nd_URRl.min.js","index.min.js","index.min.css","side-form-create-CKdgN5Kx.min.js","Field-JlRoC1sK.min.js","Field.min.css","side-form-update-sfvJGQqB.min.js","form_field-scTEvTH6.min.js","editable_map_location-VfWgWkt8.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
