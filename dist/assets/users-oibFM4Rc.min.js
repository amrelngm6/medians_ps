import{_ as A,f as _,t as E,r as f,o as s,c as i,g as v,h as c,i as t,j as a,F as y,k,l as I,x as U,E as R,a as N,d as x,b as g,m as V,n as O,s as P}from"./index.min.js";const L=x(()=>g(()=>import("./side-form-create-MPXd-KCT.min.js"),__vite__mapDeps([0,1,2,3,4]))),T=x(()=>g(()=>import("./side-form-update-wcn9bkPD.min.js"),__vite__mapDeps([5,1,2,3,4,6,7,8]))),B=x(()=>g(()=>import("./user-hyJG77D3.min.js"),__vite__mapDeps([9,1,2]))),D={components:{SideFormCreate:L,SideFormUpdate:T,user:B},name:"Users",setup(h){const d=h.conf.url+h.path+"?load=json",o=_(!1),e=_(!1),u=_(!1),w=_({}),m=_({});return(()=>{V(d).then(n=>{m.value=JSON.parse(JSON.stringify(n))})})(),{url:d,showUser:o,showAddSide:e,showEditSide:u,content:m,activeItem:w,setActiveStatus:n=>{n.active=!n.active;var l=new URLSearchParams;l.append("type","User.updateStatus"),l.append("params",JSON.stringify(n)),O(l,"/api/update").then(S=>{P(S.result)})},closeSide:()=>{e.value=!1,u.value=!1,o.value=!1},sameRole:(n,l)=>n.role_id==l.role_id,translate:E}},props:["path","lang","setting","conf","auth"]},F={key:0,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},j={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},J=["textContent"],q={class:"w-full flex gap gap-6"},z={class:"w-full pb-4"},G={class:"pb-b flex gap-4"},H=["textContent"],K=["textContent"],M={class:"w-full grid lg:grid-cols-3 gap gap-6"},Q={class:"mb-2 rounded-lg bg-white p-4"},W={class:"flex items-center space-x-4 gap gap-4"},X={class:"flex-shrink-0"},Y={class:"relative"},Z=t("div",{class:"absolute inset-0 rounded-full shadow-inner","aria-hidden":"true"},null,-1),$=["src"],ee={class:"flex-grow w-full"},te={class:"text-lg font-medium text-gray-900"},ne=["textContent"],oe=["textContent"],se={class:"text-center"},ae=["onClick"],le=["textContent"],ie={class:"flex gap-1 mt-2"},ce=["onClick"],de=["textContent","onClick"];function re(h,d,o,e,u,w){const m=f("user"),b=f("vue-feather"),p=f("side-form-create"),C=f("side-form-update");return e.content?(s(),i("main",F,[e.showUser?(s(),v(m,{key:e.activeItem,onCallback:e.closeSide,fields:e.content.overview,item:e.activeItem,path:o.path,conf:o.conf,auth:o.auth,setting:o.setting},null,8,["onCallback","fields","item","path","conf","auth","setting"])):c("",!0),t("div",j,[t("h1",{class:"font-bold text-lg w-full",textContent:a(e.content.title)},null,8,J),t("a",{href:"javascript:;",class:"menu-dark uppercase p-2 mx-2 text-center text-white w-32 rounded bg-danger",onClick:d[0]||(d[0]=r=>{e.showAddSide=!0,e.activeItem={}})},a(e.translate("add_new")),1)]),t("div",q,[e.content&&e.content.users?(s(),i("div",{key:e.content.users,class:"w-full"},[(s(!0),i(y,null,k(e.content.roles,r=>(s(),i("div",z,[t("h3",G,[t("span",{textContent:a(r.name)},null,8,H),I(),t("span",{class:"pt-2 text-sm text-muted",textContent:a(r.id>1?e.translate("Theese users can manage your account only"):"")},null,8,K)]),t("div",M,[(s(!0),i(y,null,k(r.users,n=>(s(),i("div",Q,[t("div",W,[t("div",X,[t("div",Y,[Z,t("img",{class:"relative w-12 h-12 rounded-full",src:n.photo,alt:"User avatar"},null,8,$)])]),t("div",ee,[t("div",te,a(n.first_name)+" "+a(n.last_name),1),t("div",{class:"text-sm font-medium text-gray-500",textContent:a(n.phone)},null,8,ne),t("div",{class:"text-sm font-medium text-gray-500",textContent:a(n.email)},null,8,oe)]),t("div",se,[t("div",{class:"flex gap gap-2 cursor-pointer flex-end",onClick:l=>e.setActiveStatus(n)},[t("span",{class:U([n.active?"":"bg-inverse-dark","mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[t("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:R({left:n.active?"16px":0})},null,4)],2),t("span",{textContent:a(n.active?e.translate("Active"):e.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,le)],8,ae),t("div",ie,[t("span",{onClick:l=>(e.activeItem=n,e.showUser=!0),class:"hover:bg-purple-800 hover:text-gray-100 my-2 inline-flex items-center px-2 py-1 rounded-full text-xs pb-2 font-medium cursor-pointer"},[N(b,{class:"w-5",type:"eye"})],8,ce),n.id==o.auth.id||o.auth.role_id==1?(s(),i("span",{key:0,textContent:a(e.translate("edit")),class:"hover:bg-purple-800 hover:text-gray-100 my-2 inline-flex items-center px-6 py-1 rounded-full text-xs pb-2 font-medium bg-blue-100 text-blue-800 cursor-pointer",onClick:l=>{e.showEditSide=!0,e.showAddSide=!1,e.activeItem=n}},null,8,de)):c("",!0)])])])]))),256))])]))),256))])):c("",!0),e.showAddSide&&e.content&&e.content.fillable?(s(),v(p,{key:1,onCallback:e.closeSide,conf:o.conf,model:"User.create",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","columns"])):c("",!0),e.showEditSide&&!e.showAddSide?(s(),v(C,{key:2,onCallback:e.closeSide,conf:o.conf,model:"User.update",item:e.activeItem,model_id:e.activeItem.id,index:"id",columns:e.content.fillable,class:"col-md-3"},null,8,["onCallback","conf","item","model_id","columns"])):c("",!0)])])):c("",!0)}const me=A(D,[["render",re]]);export{me as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["side-form-create-MPXd-KCT.min.js","index.min.js","index.min.css","Field-UsT-Ejq3.min.js","Field.min.css","side-form-update-wcn9bkPD.min.js","form_field-yiaYUVmL.min.js","editable_map_location-Y28pioGz.min.js","index.es-nQRPgCGQ.min.js","user-hyJG77D3.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
