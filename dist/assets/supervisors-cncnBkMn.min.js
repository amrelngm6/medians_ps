import{_ as T,D as V,e as j,y as I,z as O,f as n,t as L,r as g,o as l,c as d,g as p,h as i,i as a,j as u,A as y,a as k,d as z,b as S,m as M,s as C,C as R,E as J,p as q}from"./index.min.js";import{e as G}from"./editable_map_location-jkqEoD2B.min.js";import{t as K}from"./tooltip-s9Xa9pgY.min.js";import"./index.es-4z_hVD90.min.js";const U=z(()=>S(()=>import("./map-OGlwx9xa.min.js"),__vite__mapDeps([0,1,2,3]))),F=z(()=>S(()=>import("./form_field-7zjdT8gu.min.js"),__vite__mapDeps([4,2,3,5,6,7,1]))),H={components:{datatabble:V,maps:U,delete_icon:j,car_icon:I,route_icon:O,form_field:F,editable_map_location:G,route_wizard,tooltip:K},name:"Supervisors",setup(c){const o=c.conf.url+c.path+"?load=json",r=n(!1),t=n({}),f=n({}),v=n(!1),h=n([]),w=n(!1),_=n(""),x=()=>{r.value=!1};(()=>{M(o).then(e=>{f.value=JSON.parse(JSON.stringify(e))})})();const m=async()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{t.value.start_latitude=e.coords.latitude,t.value.start_longitude=e.coords.longitude,t.value.end_latitude=e.coords.latitude,t.value.end_longitude=e.coords.longitude},e=>{t.value.start_latitude=30.06,t.value.start_longitude=31.21,t.value.end_latitude=30.06,t.value.end_longitude=31.21,C(e.message)}):C("location error")},W=()=>{t.value={},v.value=!0,m()},A=async()=>{let e=_.value.length>3?await R(c.system_setting.google_map_api,_.value,c.business_setting.country):"";h.value=e.predictions},E=async e=>{t.value.start_latitude=e.lat(),t.value.start_longitude=e.lng(),t.value.start_address=await J(e.lat(),e.lng())},P=e=>{t.value.end_latitude=e.lat(),t.value.end_longitude=e.lng()},B=(e,b,ft)=>{},D=(e,b)=>{switch(e){case"view":break;case"edit":t.value=b,v.value=!0;break;case"delete":q("route_id",b,"Supervisor.delete");break;case"close":r.value=!1,t.value={};break}},N=n([]);return{showTip:n({}),showPlaceSearch:w,startPlaceChanged:A,start_placeSearch:_,places:h,waypoints:N,showEditSide:r,url:o,content:f,activeItem:t,translate:L,clickMarker:B,updateStartMarker:E,updateEndMarker:P,getUserLocation:m,showWizard:v,closeSide:x,addSupervisorWizard:W,handleAction:D}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},Q={class:"w-full flex overflow-auto"},X={key:0,class:"w-full relative"},Y={key:1,class:""},Z={class:"card"},$={class:"card-body"},tt={class:"card-px text-center pt-15 pb-15"},et=["textContent"],st=["textContent"],at=["textContent"],ot={class:"text-center pb-15 px-5"},nt=["src"],lt={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},it={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},rt=["textContent"],dt=["textContent"],ct=a("hr",{class:"mt-2"},null,-1),_t={class:"w-full bg-white"},ut=["src"],vt=["onClick"],ht=["onClick"];function mt(c,o,r,t,f,v){const h=g("supervisor_wizard"),w=g("vue-feather"),_=g("delete_icon"),x=g("datatabble");return l(),d("div",Q,[t.content?(l(),d("div",X,[t.showWizard?(l(),p(h,{onCallback:o[0]||(o[0]=s=>t.showWizard=!1),key:t.showWizard,routes:t.content.routes,system_setting:r.system_setting,item:t.activeItem,business_setting:r.business_setting,conf:r.conf},null,8,["routes","system_setting","item","business_setting","conf"])):i("",!0),!t.showWizard&&t.content.items&&!t.content.items.length?(l(),d("div",Y,[a("div",Z,[a("div",$,[a("div",tt,[a("h2",{class:"fs-2x fw-bold mb-0",textContent:u(t.content.title)},null,8,et),a("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:u(t.translate("Add your first Supervisor using this below wizard"))},null,8,st),a("a",{textContent:u(t.translate("add_new")),onClick:o[1]||(o[1]=(...s)=>t.addSupervisorWizard&&t.addSupervisorWizard(...s)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,at)]),a("div",ot,[a("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,nt)])])])])):i("",!0),t.content.items&&!t.showWizard?(l(),d("main",lt,[a("div",it,[a("h1",{class:"font-bold text-lg w-full",textContent:u(t.content.title)},null,8,rt),t.showWizard?i("",!0):(l(),d("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:o[2]||(o[2]=(...s)=>t.addSupervisorWizard&&t.addSupervisorWizard(...s)),textContent:u(t.translate("add_new"))},null,8,dt))]),ct,a("div",_t,[t.content.columns?(l(),p(x,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":y(s=>[a("img",{src:s.picture,class:"w-8 h-8 rounded-full"},null,8,ut)]),"item-edit":y(s=>[s.not_editable?i("",!0):(l(),d("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:m=>t.handleAction("edit",s)},[k(w,{class:"w-5",type:"edit"})],8,vt))]),"item-delete":y(s=>[s.not_removeable?i("",!0):(l(),d("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:m=>t.handleAction("delete",s)},[k(_,{class:"w-5"})],8,ht))]),_:1},8,["body-text-direction","headers","items"])):i("",!0)])])):i("",!0)])):i("",!0)])}const pt=T(H,[["render",mt]]);export{pt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-OGlwx9xa.min.js","index.es-4z_hVD90.min.js","index.min.js","index.min.css","form_field-7zjdT8gu.min.js","Field-3Iuak0fV.min.js","Field.min.css","editable_map_location-jkqEoD2B.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
