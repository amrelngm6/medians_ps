import{_ as A,D as S,e as E,y as O,z as P,f as d,t as T,r as y,o as a,c as r,g as b,h as c,i as e,j as l,a as v,A as p,d as I,b as W,m as D,s as z,C as L,E as M,p as B}from"./index.min.js";import{e as N}from"./editable_map_location-jkqEoD2B.min.js";import{e as R}from"./routeLocationWizard-rmqEShD6.min.js";import"./index.es-4z_hVD90.min.js";import"./tooltip-s9Xa9pgY.min.js";const V=I(()=>W(()=>import("./map-OGlwx9xa.min.js"),__vite__mapDeps([0,1,2,3]))),j=I(()=>W(()=>import("./form_field-7zjdT8gu.min.js"),__vite__mapDeps([4,2,3,5,6,7,1]))),q={components:{datatabble:S,maps:V,delete_icon:E,car_icon:O,route_icon:P,form_field:j,editable_map_location:N,location_wizard:R},name:"Routes",setup(m){const o=m.conf.url+m.path+"?load=json",i=d(!1),t=d({}),g=d({}),k=d({}),_=d(!1),u=d([]),f=d(!1),h=d(""),n=d(!1),x=()=>{i.value=!1};(()=>{D(o).then(s=>{g.value=JSON.parse(JSON.stringify(s))})})();const C=async()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s=>{t.value.start_latitude=s.coords.latitude,t.value.start_longitude=s.coords.longitude,t.value.end_latitude=s.coords.latitude,t.value.end_longitude=s.coords.longitude},s=>{t.value.start_latitude=30.06,t.value.start_longitude=31.21,t.value.end_latitude=30.06,t.value.end_longitude=31.21,z(s.message)}):z("location error")};return{setType:s=>{t.value.usertype=s,n.value=!1,_.value=!0},showOptions:n,showPlaceSearch:f,startPlaceChanged:async()=>{let s=h.value.length>3?await L(m.system_setting.google_map_api,h.value,m.business_setting.country):"";u.value=s.predictions},start_placeSearch:h,places:u,showEditSide:i,url:o,content:g,center:k,activeItem:t,translate:T,clickMarker:(s,w,Jt)=>{},updateStartMarker:async s=>{t.value.start_latitude=s.lat(),t.value.start_longitude=s.lng(),t.value.start_address=await M(s.lat(),s.lng())},updateEndMarker:s=>{t.value.end_latitude=s.lat(),t.value.end_longitude=s.lng()},getUserLocation:C,showWizard:_,closeSide:x,addLocationWizard:()=>{t.value={},_.value=!0,C()},handleAction:(s,w)=>{switch(s){case"view":break;case"edit":t.value=w,_.value=!0;break;case"delete":B("location_id",w,"RouteLocation.delete");break;case"close":i.value=!1,t.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},J={class:"w-full flex overflow-auto"},G={key:0,class:"w-full relative"},K={class:"card"},U={class:"card-body relative"},F={class:"card-px text-center pt-15 pb-15"},H=["textContent"],Q=["textContent"],X={class:"text-center pb-15 px-5"},Y={class:"relative mx-auto max-w-6xl py-4"},Z={class:"row"},$=["checked"],tt={class:"gap-6 btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center mb-10"},et={class:"d-block fw-semibold text-start"},st=["textContent"],nt=["textContent"],ot=["checked"],at={class:"gap-6 btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center mb-10"},lt={class:"d-block fw-semibold text-start"},it=["textContent"],ct=["textContent"],rt=["checked"],dt={class:"gap-6 btn btn-outline btn-outline-dashed btn-active-light-primary p-7 d-flex align-items-center mb-10"},_t={class:"d-block fw-semibold text-start"},ut=["textContent"],mt=["textContent"],ht={key:4,class:""},vt={class:"card"},yt={class:"card-body"},bt={class:"card-px text-center pt-15 pb-15"},gt=["textContent"],ft=["textContent"],xt=["textContent"],wt={class:"text-center pb-15 px-5"},pt=["src"],kt={key:5,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},Ct={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},zt=["textContent"],It=["textContent"],Wt=e("hr",{class:"mt-2"},null,-1),At={class:"w-full bg-white"},St={key:0,class:"w-full flex gap-4"},Et=["src"],Ot=["textContent"],Pt=["onClick"],Tt=["onClick"];function Dt(m,o,i,t,g,k){const _=y("location_wizard"),u=y("vue-feather"),f=y("delete_icon"),h=y("datatabble");return a(),r("div",J,[t.content&&i.auth?(a(),r("div",G,[t.showWizard&&t.activeItem.usertype=="employee"?(a(),b(_,{onCallback:o[0]||(o[0]=n=>t.showWizard=!1),usertype:t.activeItem.usertype,routes:t.content.routes,userslist:t.content.employees,key:t.showWizard,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["usertype","routes","userslist","system_setting","item","business_setting"])):c("",!0),t.showWizard&&t.activeItem.usertype=="supervisor"?(a(),b(_,{onCallback:o[1]||(o[1]=n=>t.showWizard=!1),usertype:t.activeItem.usertype,routes:t.content.routes,userslist:t.content.supervisors,key:t.showWizard,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["usertype","routes","userslist","system_setting","item","business_setting"])):c("",!0),t.showWizard&&t.activeItem.usertype=="student"?(a(),b(_,{onCallback:o[2]||(o[2]=n=>t.showWizard=!1),usertype:t.activeItem.usertype,routes:t.content.routes,userslist:t.content.students,key:t.showWizard,system_setting:i.system_setting,item:t.activeItem,business_setting:i.business_setting},null,8,["usertype","routes","userslist","system_setting","item","business_setting"])):c("",!0),!t.showWizard&&t.showOptions?(a(),r("div",{class:"",key:t.showOptions},[e("div",K,[e("div",U,[e("div",F,[e("h2",{class:"fs-2x fw-bold mb-0",textContent:l(t.translate("Choose user type"))},null,8,H),e("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:l(t.translate("Define the required user type to complete information"))},null,8,Q)]),e("div",X,[e("div",Y,[e("div",Z,[i.auth&&i.auth.business.type=="shcool"?(a(),r("div",{key:0,class:"col-lg-4",onClick:o[3]||(o[3]=n=>t.setType("student"))},[e("input",{type:"radio",class:"btn-check",value:"student",checked:t.activeItem.usertype=="student",name:"payment_type"},null,8,$),e("label",tt,[v(u,{type:"server"}),e("span",et,[e("span",{class:"text-gray-900 fw-bold d-block fs-4 mb-2",textContent:l(t.translate("Student"))},null,8,st),e("span",{class:"text-muted fw-semibold fs-6",textContent:l(t.translate("Subscribe for Student"))},null,8,nt)])])])):c("",!0),e("div",{class:"col-lg-4",onClick:o[4]||(o[4]=n=>t.setType("employee"))},[e("input",{type:"radio",class:"btn-check",value:"employee",checked:t.activeItem.usertype=="employee",name:"usertype"},null,8,ot),e("label",at,[v(u,{type:"server"}),e("span",lt,[e("span",{class:"text-gray-900 fw-bold d-block fs-4 mb-2",textContent:l(t.translate("Employee"))},null,8,it),e("span",{class:"text-muted fw-semibold fs-6",textContent:l(t.translate("Add Employee location"))},null,8,ct)])])]),e("div",{class:"col-lg-4",onClick:o[5]||(o[5]=n=>t.setType("supervisor"))},[e("input",{type:"radio",class:"btn-check",value:"supervisor",checked:t.activeItem.usertype=="supervisor",name:"usertype"},null,8,rt),e("label",dt,[v(u,{type:"server"}),e("span",_t,[e("span",{class:"text-gray-900 fw-bold d-block fs-4 mb-2",textContent:l(t.translate("Supervisor"))},null,8,ut),e("span",{class:"text-muted fw-semibold fs-6",textContent:l(t.translate("Add route supervisor"))},null,8,mt)])])])])])])])])])):c("",!0),!t.showWizard&&!t.showOptions&&t.content.items&&!t.content.items.length?(a(),r("div",ht,[e("div",vt,[e("div",yt,[e("div",bt,[e("h2",{class:"fs-2x fw-bold mb-0",textContent:l(t.content.title)},null,8,gt),e("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:l(t.translate("Add your first pickup using this below wizard"))},null,8,ft),e("a",{textContent:l(t.translate("add_new")),onClick:o[6]||(o[6]=n=>(t.showOptions=!0,t.activeItem={})),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,xt)]),e("div",wt,[e("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,pt)])])])])):c("",!0),t.content.items&&t.content.items.length&&!t.showWizard?(a(),r("main",kt,[e("div",Ct,[e("h1",{class:"font-bold text-lg w-full",textContent:l(t.content.title)},null,8,zt),t.showWizard?c("",!0):(a(),r("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:o[7]||(o[7]=n=>(t.showOptions=!0,t.activeItem={})),textContent:l(t.translate("add_new"))},null,8,It))]),Wt,e("div",At,[t.content.columns?(a(),b(h,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-name":p(n=>[n.model?(a(),r("div",St,[e("img",{src:n.model.picture,class:"w-8 h-8 rounded-full"},null,8,Et),e("span",{textContent:l(n.model.name)},null,8,Ot)])):c("",!0)]),"item-edit":p(n=>[n.not_editable?c("",!0):(a(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:x=>t.handleAction("edit",n)},[v(u,{class:"w-5",type:"edit"})],8,Pt))]),"item-delete":p(n=>[n.not_removeable?c("",!0):(a(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:x=>t.handleAction("delete",n)},[v(f,{class:"w-5"})],8,Tt))]),_:1},8,["body-text-direction","headers","items"])):c("",!0)])])):c("",!0)])):c("",!0)])}const Qt=A(q,[["render",Dt]]);export{Qt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-OGlwx9xa.min.js","index.es-4z_hVD90.min.js","index.min.js","index.min.css","form_field-7zjdT8gu.min.js","Field-3Iuak0fV.min.js","Field.min.css","editable_map_location-jkqEoD2B.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
