import{M as o,L as f}from"./Manager-4huRwnrK.js";import{_ as u,r as _,o as t,c as r,a as i,d as n,t as y,j as m}from"./index-DS6IfN08.js";const c={name:"vue-medialibrary-field",components:{"vue-medialibrary-manager":o,"app-medialibrary-loader":f},props:{name:{type:String,required:!1},api_url:{type:String,required:!1},value:{type:Object|String,required:!1,default:()=>({})},types:{type:Object,required:!1,default:()=>({images:!0,files:!0})},filetypes:{type:Array,required:!1,default:()=>[]},helper:{type:String,required:!1}},setup(e){ref(),ref(),ref()},watch:{value(){typeof this.file>"u"&&(this.loading=!0)},showManager(){console.log("changed")}}},p={class:"media-library-field"},b=["name","value"],g={key:1,class:"media-library-field__selector"},v={key:2,class:"media-library-field__selected"},h={class:"media-library-field__selected__inner"},w={class:"w-full"},k=["src"],S={class:"block w-full"},q={class:"w-full flex",style:{margin:"2rem -0.5rem 0 -0.5rem"}},C={style:{"flex-grow":"1",padding:"0 0.5rem"}},L={style:{"flex-grow":"1",padding:"0 0.5rem"}};function M(e,a,l,B,F,j){const d=_("vue-medialibrary-manager");return t(),r("div",null,[i("div",p,[e.file?(t(),r("input",{key:0,name:l.name,type:"hidden",value:e.file},null,8,b)):n("",!0),e.content==null?(t(),r("div",g,[i("span",{onClick:a[0]||(a[0]=(...s)=>e.showLibrary&&e.showLibrary(...s)),class:"media-library-field__selector__button"},"Attach "+y(l.types.images&&l.types.files?"file":l.types.images&&!l.types.files?"image":"file"),1)])):n("",!0),e.file&&e.content?(t(),r("div",v,[i("div",h,[i("div",w,[i("div",null,[i("img",{src:e.file,style:{width:"auto",height:"auto","max-width":"180px"}},null,8,k)]),i("div",S,[i("div",q,[i("div",C,[i("span",{class:"media-library-field__selected__inner__details__button font-semibold",onClick:a[1]||(a[1]=(...s)=>e.showLibrary&&e.showLibrary(...s))},"Edit")]),i("div",L,[i("button",{onClick:a[2]||(a[2]=(...s)=>e.clear&&e.clear(...s)),class:"media-library-field__selected__inner__details__button media-library-field__selected__inner__details__button--delete"},"Remove")])])])])])])):n("",!0)]),e.showManager?(t(),m(d,{key:e.showManager,api_url:l.api_url,filetypes:l.filetypes,types:l.types,selected:l.value,selectable:!0,onClose:a[3]||(a[3]=s=>(e.showManager=!1,e.file=e.content=l.value)),onSelect:e.insert,onFailToFind:e.clear},null,8,["api_url","filetypes","types","selected","onSelect","onFailToFind"])):n("",!0)])}const N=u(c,[["render",M]]);export{N as f};
