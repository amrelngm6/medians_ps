import{_ as A,E as L,f as P,k as u,l as E,r as C,o as a,c as l,a as t,t as s,b,x as m,n as x,F as k,i as S,d as c,y as N,q as B,C as J}from"./index-X4N7UznN.js";import{h as M}from"./help-uzXOVcqD.js";const O={components:{help_icon:M,close_icon:L,dashboard_card_white:P},emits:["update","close"],setup(_,{emit:o}){const p=_.conf.url+"driver/"+_.item.driver_id+"?load=json",e=u({title:"",items:[],columns:[]}),r=u({}),f=u(!0),g=u("info"),h=u(5);(()=>{B(p).then(d=>{console.log(d),r.value=JSON.parse(JSON.stringify(d))})})();const n=()=>{showAddSide.value=!1,showEditSide.value=!1},y=()=>{o("edit","edit",r.value)},i=()=>{o("close","close",r.value)},I=()=>{let d=r.value.last_trips.length;h.value+=5,h.value>d&&(f.value=null)},j=d=>{g.value=d};function z(d,w){switch(console.log(d),d){case"view":r.value=JSON.parse(JSON.stringify(w)),showProfilePage.value=!0;break;case"edit":r.value=w,showAddSide.value=!1,showEditSide.value=!0,showProfilePage.value=!0;break;case"delete":J(_.object_key,w,_.object_name+".delete");break;case"close":showEditSide.value=!1,showAddSide.value=!1,showProfilePage.value=!1;break}}return r.value=_.item,{url:p,content:e,activeItem:r,activeStatus:g,limitCount:h,showLoadMore:f,update:y,close:i,loadmore:I,setActiveStatus:j,closeSide:n,translate:E,handleAction:z}},props:["item","path","lang","setting","conf","auth"]},T={class:"w-full"},V={key:0,class:"grid xl:grid-cols-12 lg:grid-cols-12 grid-cols-1 gap-6"},D={class:"xl:col-span-3 lg:col-span-5"},F={class:"card px-4 py-6 mb-6"},R={class:"text-center"},q=["src"],K=["textContent"],G=["textContent"],H=["textContent"],W=["textContent"],Q=t("hr",{class:"mt-5 dark:border-gray-600"},null,-1),U={class:"text-start mt-6 text-sm"},X={class:"space-y-7"},Y={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},Z=["textContent"],$=["textContent"],tt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},et=["textContent"],st=["textContent"],nt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},ot=["textContent"],at=["textContent"],lt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},rt=["textContent"],it=["textContent"],dt={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},ct=["textContent"],_t=["textContent"],xt={class:"text-zinc-400 dark:text-gray-400 flex gap-4 items-start"},ht=["textContent"],ut=["textContent"],bt=t("hr",{class:"my-5 dark:border-gray-600"},null,-1),mt={class:"xl:col-span-9 lg:col-span-7"},gt={class:"card"},vt={class:"p-6"},pt={class:"w-full"},ft={class:"lg:flex items-center justify-around rounded-xl space-x-3 bg-gray-100 p-2 dark:bg-gray-900/30","aria-label":"Tabs",role:"tablist"},yt=["textContent"],wt=["textContent"],Ct=["textContent"],kt=["textContent"],St={class:"mt-3 overflow-hidden"},It={id:"basic-tabs-1",class:"transition-all duration-300 transform"},jt={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full border-b border-gray-100"},zt={class:"w-full relative"},At={class:"dark:border-border-dark dark:border-dashed border border-border-light border-dashed p-4 flex flex-col gap-5"},Lt={class:"flex items-start justify-between"},Pt={class:"border border-1 grid p-3 rounded-full sm:p-2 place-content-center"},Et=["textContent"],Nt={class:"flex flex-col gap-2"},Bt=["textContent"],Jt=["textContent"],Mt=["textContent"],Ot={key:1,class:"w-full border-b border-gray-100"},Tt={class:"mt-6 w-full"},Vt={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6"},Dt={key:2,class:"w-full border-b border-gray-100"},Ft={key:0,class:"relative overflow-hidden mb-10 pb-10 border-b"},Rt={class:"md:text-start lg:flex mb-5 mt-5"},qt={class:"w-full"},Kt=["textContent"],Gt=["textContent"],Ht={class:"w-full"},Wt=["textContent"],Qt=["textContent"],Ut={class:"w-full"},Xt=["textContent"],Yt=["textContent"],Zt={class:"text-start"},$t={class:"absolute start-7 mt-6"},te={class:"relative"},ee={class:"w-9 h-9 flex justify-center items-center rounded-full bg-white text-info dark:bg-gray-800"},se=["src"],ne=t("div",{class:"absolute top-4 -end-6 w-12 h-[2px] bg-gray-400 -z-10"},null,-1),oe={class:"grid grid-cols-1"},ae={class:"md:col-start-1 col-span-2"},le={class:"flex md:flex-nowrap items-center gap-6 ms-10 md:mt-0 mt-5"},re={class:"ms-10"},ie=["textContent"],de={class:"relative me-5 md:ps-0 ps-10 overflow-auto"},ce={class:"pt-3"},_e=["textContent"],xe=["textContent"],he=["textContent"];function ue(_,o,p,e,r,f){const g=C("close_icon"),h=C("help_icon"),v=C("dashboard_card_white");return a(),l("div",T,[_.showLoader?c("",!0):(a(),l("div",V,[t("div",D,[t("div",F,[t("div",R,[t("img",{src:e.activeItem.picture,alt:"",class:"rounded-full p-1 bg-gray-100 dark:bg-gray-700 mx-auto"},null,8,q),t("h4",{class:"mb-1 mt-3 text-lg dark:text-gray-300",textContent:s(e.activeItem.name)},null,8,K),t("p",{class:"text-gray-400 mb-4 dark:text-gray-400",textContent:s(e.activeItem.email)},null,8,G),t("button",{type:"button",onClick:o[0]||(o[0]=(...n)=>e.update&&e.update(...n)),class:"bg-gray-50 border border-1 hover:bg-primary mb-3 px-6 py-2 rounded-lg text-primary",textContent:s(e.translate("Edit"))},null,8,H),t("button",{type:"button",onClick:o[1]||(o[1]=(...n)=>e.close&&e.close(...n)),class:"flex hover:bg-primary mb-3 px-6 py-2 text-danger"},[b(g,{class:"w-4"}),m(),t("span",{textContent:s(e.translate("Back"))},null,8,W)])]),Q,t("div",U,[t("div",X,[t("p",Y,[t("strong",{textContent:s(e.translate("First name"))},null,8,Z),m(),t("span",{class:"ms-2",textContent:s(e.activeItem.first_name)},null,8,$)]),t("p",tt,[t("strong",{textContent:s(e.translate("Last name"))},null,8,et),m(),t("span",{class:"ms-2",textContent:s(e.activeItem.last_name)},null,8,st)]),t("p",nt,[t("strong",{textContent:s(e.translate("Email"))},null,8,ot),t("span",{class:"ms-2",textContent:s(e.activeItem.email)},null,8,at)]),t("p",lt,[t("strong",{textContent:s(e.translate("Phone"))},null,8,rt),t("span",{class:"ms-2",textContent:s(e.activeItem.contact_number)},null,8,it)]),t("p",dt,[t("strong",{textContent:s(e.translate("License number"))},null,8,ct),m(),t("span",{class:"ms-2",textContent:s(e.activeItem.driver_license_number)},null,8,_t)]),t("p",xt,[t("strong",{class:"flex-shrink",textContent:s(e.translate("address"))},null,8,ht),m(),t("span",{class:"ms-2",textContent:s(e.activeItem.address)},null,8,ut)])])]),bt])]),t("div",mt,[t("div",gt,[t("div",vt,[t("div",pt,[t("nav",ft,[t("button",{onClick:o[2]||(o[2]=n=>e.setActiveStatus("info")),type:"button",textContent:s(e.translate("Info")),class:x([e.activeStatus=="info"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white active"])},null,10,yt),t("button",{onClick:o[3]||(o[3]=n=>e.setActiveStatus("trips")),type:"button",textContent:s(e.translate("Trips")),class:x([e.activeStatus=="trips"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"])},null,10,wt),t("button",{type:"button",onClick:o[4]||(o[4]=n=>e.setActiveStatus("help_messages")),class:x([e.activeStatus=="help_messages"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"]),textContent:s(e.translate("Help messages"))},null,10,Ct),t("button",{onClick:o[5]||(o[5]=n=>e.setActiveStatus("reviews")),type:"button",textContent:s(e.translate("Reviews")),class:x([e.activeStatus=="reviews"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"])},null,10,kt)]),t("div",St,[t("div",It,[e.activeStatus=="help_messages"?(a(),l("div",jt,[(a(!0),l(k,null,S(e.activeItem.help_messages,n=>(a(),l("div",zt,[t("div",At,[t("div",Lt,[t("span",Pt,[b(h,{class:"text-primary w-10 h-10"})]),t("span",{class:"text-content3 text-2xs text-muted p-3",textContent:s(n.date)},null,8,Et)]),t("div",Nt,[t("div",null,[t("p",{class:"text-title text-sm font-semibold mb-1 dark:text-white",textContent:s(n.subject)},null,8,Bt),t("p",{class:"text-content3 text-2xs truncate",textContent:s(n.message)},null,8,Jt)]),t("div",{class:x([e.translate("lang")=="ar"?"left-0":"right-0","absolute flex items-center justify-between gap-1"])},[t("span",{class:"bg-blue-50 px-4 py-1 text-secondary badge-sm rounded-5",textContent:s(n.status)},null,8,Mt)],2)])])]))),256))])):c("",!0),e.activeStatus=="info"?(a(),l("div",Ot,[t("div",Tt,[t("div",Vt,[b(v,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-success",class:"border border-1",title:e.translate("Completed trips"),value:e.activeItem.last_trips?e.activeItem.last_trips.length:"0"},null,8,["title","value"]),b(v,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-info",class:"border border-1",title:e.translate("Pickup locations"),value:e.activeItem.total_pickups_count},null,8,["title","value"]),b(v,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-danger",class:"border border-1",title:e.translate("Reviews"),value:"0"},null,8,["title"])])])])):c("",!0),e.activeStatus=="trips"&&e.activeItem.last_trips?(a(),l("div",Dt,[(a(!0),l(k,null,S(e.activeItem.last_trips,(n,y)=>(a(),l("div",{class:"w-full",key:e.limitCount},[e.limitCount>y?(a(),l("div",Ft,[t("div",{class:x([e.translate("lang")=="ar"?"right-4":"left-4","absolute border-s-2 border border-gray-300 h-full top-20 start-10 -z-10 dark:border-white/10"])},null,2),t("div",Rt,[t("div",qt,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:s(e.translate("Trip number")+" #"+n.trip_id)},null,8,Kt),t("p",{class:"text-muted text-sm",textContent:s(n.trip_date)},null,8,Gt)]),t("div",Ht,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:s(n.duration)},null,8,Wt),t("p",{class:"text-muted text-sm",textContent:s(e.translate("Duration"))},null,8,Qt)]),t("div",Ut,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:s(n.distance+" KM")},null,8,Xt),t("p",{class:"text-muted text-sm",textContent:s(e.translate("Distance"))},null,8,Yt)])]),(a(!0),l(k,null,S(n.pickup_locations,i=>(a(),l("div",{class:"space-y-4",key:n},[t("div",Zt,[t("div",$t,[t("div",te,[t("div",ee,[t("img",{src:"/app/image.php?w=100&h=100&src="+i.model.picture,class:"rounded-full",alt:""},null,8,se)]),ne])]),t("div",oe,[t("div",ae,[t("div",le,[t("div",re,[t("h2",{class:x([e.translate("lang")=="ar"?"bg-gradient-to-l":"bg-gradient-to-r","font-semibold p-2 rounded text-primary flex items-center justify-center text-sm mx-16"]),textContent:s(i.boarding_time?i.time:e.translate("Waiting"))},null,10,ie)]),t("div",de,[t("div",ce,[i.model?(a(),l("h4",{key:0,class:"mb-1.5 text-base dark:text-gray-300",textContent:s(i.model.name)},null,8,_e)):c("",!0),i.location?(a(),l("p",{key:1,style:N([{"white-space":"nowrap"},{"white-space":"nowrap"}]),class:"mb-4 text-gray-500 dark:text-gray-400",textContent:s(i.location.address)},null,8,xe)):c("",!0)])])])])])])]))),128))])):c("",!0)]))),128))])):c("",!0)])])])])]),e.showLoadMore&&e.activeStatus=="trips"?(a(),l("p",{class:"text-center",key:e.showLoadMore},[t("span",{class:"mx-auto menu-dark px-4 py-3 rounded-xl text-white cursor-pointer text-white rounded-lg",onClick:o[6]||(o[6]=n=>e.loadmore()),textContent:s(e.translate("Load more"))},null,8,he)])):c("",!0)])]))])}const ge=A(O,[["render",ue]]);export{ge as default};
