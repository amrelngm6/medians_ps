import{_ as S,f as j,s as y,q as x,r as p,o as l,c as i,a as t,t as n,k as w,d,n as _,F as C,i as I,b as m,j as M,l as z}from"./index-V43WAyJj.js";import{h as D}from"./help-rto3xF1U.js";const F={components:{dashboard_card_white:j,help_icon:D,translate:y},setup(o){const r=o.conf.url+o.path+"?load=json",s=x({});x({}),x({}),s.value=o.trip;const e=()=>{s.value.locations=[u(s.value.vehicle,s.value.route,"car.svg")];let a,b;for(let c=0;c<s.value.pickup_locations.length;c++)a=s.value.pickup_locations[c].time?"yellow_pin.gif":"blue_pin.gif",b=s.value.destinations[c].time?"yellow_pin.gif":"blue_pin.gif",s.value.locations.push(u(s.value.pickup_locations[c],s.value.destinations[c],a)),s.value.locations.push(u(s.value.destinations[c],s.value.pickup_locations[c],b));s.value.locations.push(u(s.value.route,s.value.vehicle,"destination.svg"))},f=x("info"),k=x(!0),v=()=>{limitCount.value+=5,limitCount.value>s.value.last_trips.length&&(k.value=!1)},h=a=>{f.value=a},u=(a,b,c)=>{let g={};return g.icon=o.conf.url+"uploads/images/"+c,g.origin={lat:parseFloat(a.latitude),lng:parseFloat(a.longitude)},g.destination={lat:parseFloat(b.latitude),lng:parseFloat(b.longitude)},g.drag=!1,g};return{url:r,activeItem:s,setActiveStatus:h,loadmore:v,handlePickup:u,setLocations:e,translate:y}},props:["path","lang","setting","conf","auth","trip"]},A={class:"w-full"},B={key:0,class:"grid xl:grid-cols-12 lg:grid-cols-12 grid-cols-1 gap-6"},L={class:"xl:col-span-3 lg:col-span-5"},N={class:"card px-4 py-6 mb-6"},P={key:0,class:"text-center"},T=["textContent"],V=t("i",{class:"fa fa-close px-2"},null,-1),R=["textContent"],U=t("hr",{class:"mt-5 dark:border-gray-600"},null,-1),q={class:"text-start mt-6 text-sm"},E={class:"space-y-7"},K={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},W=["textContent"],G=["textContent"],H={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},J=["textContent"],O=["textContent"],Q={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},X=["textContent"],Y=["textContent"],Z={class:"text-zinc-400 dark:text-gray-400 flex gap-4"},$=["textContent"],tt=["textContent"],et=t("hr",{class:"my-5 dark:border-gray-600"},null,-1),st={class:"xl:col-span-9 lg:col-span-7"},at={class:"card"},nt={class:"p-6"},ot={class:"w-full"},lt={class:"lg:flex items-center justify-around rounded-xl space-x-3 bg-gray-100 p-2 dark:bg-gray-900/30","aria-label":"Tabs",role:"tablist"},it=["textContent"],rt=["textContent"],ct=["textContent"],dt=["textContent"],ut={class:"mt-3 overflow-hidden"},_t={id:"basic-tabs-1",class:"transition-all duration-300 transform"},ht={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full border-b border-gray-100"},bt={class:"w-full relative"},gt={class:"dark:border-border-dark dark:border-dashed border border-border-light border-dashed p-4 flex flex-col gap-5"},xt={class:"flex items-start justify-between"},mt={class:"border border-1 grid p-3 rounded-full sm:p-2 place-content-center"},vt=["textContent"],pt={class:"flex flex-col gap-2"},ft=["textContent"],kt=["textContent"],yt=["textContent"],wt={key:1,class:"w-full border-b border-gray-100"},Ct={class:"mt-6 w-full"},It={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6"},St={key:2,class:"w-full border-b border-gray-100"},jt={class:"md:text-start lg:flex mb-5 mt-5"},Mt={class:"w-full"},zt=["textContent"],Dt=["textContent"],Ft={class:"w-full"},At=["textContent"],Bt=["textContent"],Lt={class:"w-full"},Nt=["textContent"],Pt=["textContent"],Tt={class:"text-start"},Vt={class:"absolute start-7 mt-6"},Rt={class:"relative"},Ut={class:"w-9 h-9 flex justify-center items-center rounded-full bg-white text-info dark:bg-gray-800"},qt=["src"],Et=t("div",{class:"absolute top-4 -end-6 w-12 h-[2px] bg-gray-400 -z-10"},null,-1),Kt={class:"grid grid-cols-1"},Wt={class:"md:col-start-1 col-span-2"},Gt={class:"flex md:flex-nowrap items-center gap-6 ms-10 md:mt-0 mt-5"},Ht={class:"ms-10"},Jt=["textContent"],Ot={class:"relative me-5 md:ps-0 ps-10 overflow-auto"},Qt={class:"pt-3"},Xt=["textContent"],Yt=["textContent"],Zt={key:0,class:"text-center"};function $t(o,r,s,e,f,k){const v=p("help_icon"),h=p("dashboard_card_white"),u=p("trip_map");return l(),i("div",A,[!o.showLoader&&s.trip?(l(),i("div",B,[t("div",L,[t("div",N,[e.activeItem&&e.activeItem.driver?(l(),i("div",P,[t("h4",{class:"mb-1 mt-3 text-lg dark:text-gray-300",textContent:n(e.translate("Trip")+e.translate(" #")+e.activeItem.trip_id)},null,8,T),t("button",{type:"button",onClick:r[0]||(r[0]=(...a)=>o.close&&o.close(...a)),class:"hover:bg-primary mb-3 px-6 py-2 text-danger"},[V,w(),t("span",{textContent:n(e.translate("Back"))},null,8,R)])])):d("",!0),U,t("div",q,[t("div",E,[t("p",K,[t("strong",{textContent:n(e.translate("Duration"))},null,8,W),t("span",{class:"ms-2",textContent:n(e.activeItem.duration)},null,8,G)]),t("p",H,[t("strong",{textContent:n(e.translate("Pickup locations"))},null,8,J),w(),t("span",{class:"ms-2",textContent:n(e.activeItem.pickup_locations_count)},null,8,O)]),t("p",Q,[t("strong",{textContent:n(e.translate("Route"))},null,8,X),t("span",{class:"ms-2",textContent:n(e.activeItem.route?e.activeItem.route.route_name:"")},null,8,Y)]),t("p",Z,[t("strong",{textContent:n(e.translate("Driver"))},null,8,$),t("span",{class:"ms-2",textContent:n(e.activeItem.driver_name)},null,8,tt)])])]),et])]),t("div",st,[t("div",at,[t("div",nt,[t("div",ot,[t("nav",lt,[t("button",{onClick:r[1]||(r[1]=a=>e.setActiveStatus("info")),type:"button",textContent:n(e.translate("Info")),class:_([o.activeStatus=="info"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white active"])},null,10,it),t("button",{onClick:r[2]||(r[2]=a=>e.setActiveStatus("pickup_locations")),type:"button",textContent:n(e.translate("Pickup locations")),class:_([o.activeStatus=="pickup_locations"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"])},null,10,rt),t("button",{type:"button",onClick:r[3]||(r[3]=a=>e.setActiveStatus("map")),class:_([o.activeStatus=="map"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"]),textContent:n(e.translate("Map"))},null,10,ct),t("button",{onClick:r[4]||(r[4]=a=>e.setActiveStatus("reviews")),type:"button",textContent:n(e.translate("Reviews")),class:_([o.activeStatus=="reviews"?"menu-dark text-white font-semibold":"text-gray-500","hover:bg-white hover:text-blue-800 hs-tab-active:font-semibold hs-tab-active:bg-white dark:hs-tab-active:bg-gray-700 w-full flex justify-center py-2 rounded items-center gap-2 border-b-2 border-transparent -mb-px transition-all text-sm whitespace-nowrap dark:text-white"])},null,10,dt)]),t("div",ut,[t("div",_t,[o.activeStatus=="help_messages"?(l(),i("div",ht,[(l(!0),i(C,null,I(e.activeItem.help_messages,a=>(l(),i("div",bt,[t("div",gt,[t("div",xt,[t("span",mt,[m(v,{class:"text-primary w-10 h-10"})]),t("span",{class:"text-content3 text-2xs text-muted p-3",textContent:n(a.date)},null,8,vt)]),t("div",pt,[t("div",null,[t("p",{class:"text-title text-sm font-semibold mb-1 dark:text-white",textContent:n(a.subject)},null,8,ft),t("p",{class:"text-content3 text-2xs truncate",textContent:n(a.message)},null,8,kt)]),t("div",{class:_([e.translate("lang")=="ar"?"left-0":"right-0","absolute flex items-center justify-between gap-1"])},[t("span",{class:"bg-blue-50 px-4 py-1 text-secondary badge-sm rounded-5",textContent:n(a.status)},null,8,yt)],2)])])]))),256))])):d("",!0),o.activeStatus=="info"?(l(),i("div",wt,[t("div",Ct,[t("div",It,[m(h,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-success",class:"border border-1",title:e.translate("Duration"),value:e.activeItem.duration?e.activeItem.duration:"0"},null,8,["title","value"]),m(h,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-info",class:"border border-1",title:e.translate("Pickup locations"),value:e.activeItem.pickup_locations_count},null,8,["title","value"]),m(h,{icon:"/uploads/img/products_icome.png",classes:"bg-gradient-danger",class:"border border-1",title:e.translate("Distance"),value:e.activeItem.distance},null,8,["title","value"])])])])):d("",!0),o.activeStatus=="pickup_locations"&&s.trip?(l(),i("div",St,[t("div",{class:_([e.translate("lang")=="ar"?"right-4":"left-4","absolute border-s-2 border border-gray-300 h-full top-20 start-10 -z-10 dark:border-white/10"])},null,2),t("div",jt,[t("div",Mt,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:n(e.translate("Trip number")+" #"+s.trip.trip_id)},null,8,zt),t("p",{class:"text-muted text-sm",textContent:n(s.trip.trip_date)},null,8,Dt)]),t("div",Ft,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:n(s.trip.duration)},null,8,At),t("p",{class:"text-muted text-sm",textContent:n(e.translate("Duration"))},null,8,Bt)]),t("div",Lt,[t("h5",{class:"font-semibold bg-white dark:bg-gray-700 dark:text-gray-300 inline rounded",textContent:n(s.trip.distance+" KM")},null,8,Nt),t("p",{class:"text-muted text-sm",textContent:n(e.translate("Distance"))},null,8,Pt)])]),(l(!0),i(C,null,I(s.trip.pickup_locations,a=>(l(),i("div",{class:"space-y-4",key:s.trip},[t("div",Tt,[t("div",Vt,[t("div",Rt,[t("div",Ut,[a.model?(l(),i("img",{key:0,src:"/app/image.php?w=100&h=100&src="+a.model.picture,class:"rounded-full",alt:""},null,8,qt)):d("",!0)]),Et])]),t("div",Kt,[t("div",Wt,[t("div",Gt,[t("div",Ht,[t("h2",{class:_([e.translate("lang")=="ar"?"bg-gradient-to-l":"bg-gradient-to-r","font-semibold p-2 rounded text-primary flex items-center justify-center text-sm mx-16"]),textContent:n(a.boarding_time?a.time:e.translate("Waiting"))},null,10,Jt)]),t("div",Ot,[t("div",Qt,[a.model?(l(),i("h4",{key:0,class:"mb-1.5 text-base dark:text-gray-300",textContent:n(a.model.name)},null,8,Xt)):d("",!0),a.location?(l(),i("p",{key:1,style:z([{"white-space":"nowrap"},{"white-space":"nowrap"}]),class:"mb-4 text-gray-500 dark:text-gray-400",textContent:n(a.location.address)},null,8,Yt)):d("",!0)])])])])])])]))),128))])):d("",!0)])])])])]),o.activeStatus=="map"?(l(),i("p",Zt,[(l(),M(u,{key:s.trip,trip:s.trip,conf:s.conf,showroute:!0,onClickMarker:o.clickMarker,onUpdateMarker:o.updateMarker,onIntervalCallback:o.callback},null,8,["trip","conf","onClickMarker","onUpdateMarker","onIntervalCallback"]))])):d("",!0)])])):d("",!0)])}const se=S(F,[["render",$t]]);export{se as default};
