import{d as c}from"./data-table-actions-LX4zTUSV.js";import{_ as w,r as u,o as r,c as d,a as e,d as i,t as l,b as h,m as b,w as p,v as m}from"./index-aN-AJUQZ.js";const x={components:{dataTableActions:c},name:"pages",data(){return{url:this.conf.url+this.path+"?load=json",content:{title:"",items:[],columns:[]},activeItem:{},showAddSide:!1,showEditSide:!1,showLoader:!0}},computed:{bindings(){return this.content.columns.push({key:this.__("actions"),component:c,sortable:!1}),{columns:this.content.columns,data:this.content.items}}},props:["path","lang","setting","conf","auth"],mounted(){this.load()},methods:{handleAction(t,s){switch(t){case"view":window.open(this.conf.url+s.content.prefix);break;case"edit":window.open(this.conf.url+"builder?prefix="+s.content.prefix);break;case"delete":this.$parent.delete(s,"Page.delete");break}console.log(t,s)},load(){this.showLoader=!0,this.$parent.handleGetRequest(this.url).then(t=>{this.setValues(t),this.showLoader=!1})},setValues(t){return this.content=JSON.parse(JSON.stringify(t)),this},__(t){return this.$root.$children[0].__(t)}}},v={class:"w-full flex overflow-auto",style:{height:"85vh","z-index":"9999"}},y={class:"w-full relative"},k={key:0,class:"mx-auto mt-10 absolute top-0 left-0 right-0 bottom-0 m-auto w-40 h-40"},C=["src"],A={key:1,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},T={class:"px-4 mb-6 py-4 rounded-lg shadow-lg bg-white dark:bg-gray-700 flex w-full"},S=["textContent"],L=e("hr",{class:"mt-2"},null,-1),V={class:"w-full flex gap gap-6"},N={key:0,class:"col-md-3 sidebar-create-form"},D={class:"mb-6 p-4 rounded-lg shadow-lg bg-white dark:bg-gray-700"},E={action:"/api/create",method:"POST","data-refresh":"1",id:"add-device-form",class:"action py-0 m-auto rounded-lg max-w-xl pb-10"},P={class:"w-full flex"},q={class:"w-full m-auto max-w-xl text-base mb-10"},B=e("input",{name:"type",type:"hidden",value:"Page.create"},null,-1),O=e("input",{name:"params[status]",type:"hidden",value:"1"},null,-1),j=["textContent"],I=["textContent"],J=["placeholder"],R=["textContent"];function U(t,s,_,z,o,n){const f=u("data-table"),g=u("close_icon");return r(),d("div",v,[e("div",y,[o.showLoader?(r(),d("div",k,[e("img",{src:_.conf.url+"uploads/images/loader.gif"},null,8,C)])):i("",!0),o.content&&!o.showLoader?(r(),d("main",A,[e("div",T,[e("h1",{class:"font-bold text-lg w-full",textContent:l(o.content.title)},null,8,S),e("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg menu-dark hover:bg-purple-800",onClick:s[0]||(s[0]=a=>{o.showLoader=!0,o.showAddSide=!0,o.showLoader=!1})},l(n.__("add_new")),1)]),L,e("div",V,[h(f,b({ref:"pages",onActionTriggered:n.handleAction},n.bindings),null,16,["onActionTriggered"]),o.showAddSide?(r(),d("div",N,[e("div",D,[e("form",E,[e("div",P,[e("h1",q,l(n.__("ADD_NEW")),1),e("span",{class:"cursor-pointer py-1 px-2",onClick:s[1]||(s[1]=a=>(o.showAddSide=!1,o.activeItem={}))},[h(g)])]),B,O,p(e("input",{name:"params[title]",type:"hidden","onUpdate:modelValue":s[2]||(s[2]=a=>t.altTitle=a)},null,512),[[m,t.altTitle]]),e("span",{class:"block my-2",textContent:l(n.__("title")+" AR")},null,8,j),p(e("input",{name:"params[content][ar][title]",required:"",type:"text",class:"h-12 mt-3 rounded w-full border px-3 text-gray-700 focus:border-blue-100 dark:bg-gray-800 dark:border-gray-600","onUpdate:modelValue":s[3]||(s[3]=a=>t.altTitle=a)},null,512),[[m,t.altTitle]]),e("span",{class:"block mb-2",textContent:l(n.__("title")+" EN")},null,8,I),e("input",{name:"params[content][en][title]",required:"",type:"text",class:"h-12 mt-3 rounded w-full border px-3 text-gray-700 focus:border-blue-100 dark:bg-gray-800 dark:border-gray-600",placeholder:n.__("Title")},null,8,J),e("button",{class:"uppercase h-12 mt-3 text-white w-full rounded bg-red-700 hover:bg-red-800",textContent:l(n.__("save"))},null,8,R)])])])):i("",!0)])])):i("",!0)])])}const W=w(x,[["render",U]]);export{W as default};
