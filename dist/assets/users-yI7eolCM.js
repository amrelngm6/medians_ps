import{_ as k,k as m,l as S,r as x,o as s,c as l,a as t,t as o,F as g,i as p,d,j as w,p as y,q as A,s as E,u as I,x as P,n as U,y as N,z as b}from"./index-B0DNYBLh.js";const O=y(()=>b(()=>import("./side-form-create-aDR39Mc0.js"),__vite__mapDeps([0,1,2,3,4,5]))),R=y(()=>b(()=>import("./side-form-update-M5dR0HhU.js"),__vite__mapDeps([6,1,2,3,4,5]))),V={components:{SideFormCreate:O,SideFormUpdate:R},name:"Users",setup(c){const r=c.conf.url+c.path+"?load=json",a=m(!1),e=m(!1),f=m({}),u=m({});(()=>{A(r).then(n=>{u.value=JSON.parse(JSON.stringify(n))})})();const h=()=>{a.value=!1,e.value=!1},i=n=>{n.active=!n.active;var _=new URLSearchParams;_.append("type","User.updateStatus"),_.append("params",JSON.stringify(n)),E(_,"/api/update").then(C=>{I(C.result)})};return{showAddSide:a,showEditSide:e,url:r,content:u,activeItem:f,showProfilePage,setActiveStatus:i,closeSide:h,translate:S,handleAction}},props:["path","lang","setting","conf","auth"]},z={class:"w-full flex overflow-auto",style:{height:"85vh","z-index":"9999"}},B={class:"w-full"},F={key:0,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},L={class:"px-4 mb-6 py-4 rounded-lg shadow-lg bg-white dark:bg-gray-700 flex w-full"},T=["textContent"],j=t("hr",{class:"mt-2"},null,-1),q={class:"w-full flex gap gap-6"},D={key:0,class:"w-full"},J={class:"w-full pb-4"},G={class:"pb-b flex gap-4"},H=["textContent"],K=["textContent"],M=t("hr",null,null,-1),Q={class:"w-full grid lg:grid-cols-3 gap gap-6"},W={class:"flex-shrink-0"},X={class:"relative"},Y=t("div",{class:"absolute inset-0 rounded-full shadow-inner","aria-hidden":"true"},null,-1),Z=["src"],$={class:"flex-grow w-full"},ee={class:"text-lg font-medium text-gray-900"},te=["textContent"],ne=["textContent"],se={class:"text-center"},oe=["onClick"],le=["textContent"],ae=["textContent","onClick"];function ie(c,r,a,e,f,u){const v=x("side-form-create"),h=x("side-form-update");return s(),l("div",z,[t("div",B,[e.content?(s(),l("main",F,[t("div",L,[t("h1",{class:"font-bold text-lg w-full",textContent:o(e.content.title)},null,8,T),t("a",{href:"javascript:;",class:"menu-dark uppercase p-2 mx-2 text-center text-white w-32 rounded bg-gradient-purple hover:bg-red-800",onClick:r[0]||(r[0]=i=>{e.showAddSide=!0,e.activeItem={}})},o(e.translate("add_new")),1)]),j,t("div",q,[e.content.users?(s(),l("div",D,[(s(!0),l(g,null,p(e.content.roles,i=>(s(),l("div",J,[t("h3",G,[t("span",{textContent:o(i.name)},null,8,H),P(),t("span",{class:"pt-2 text-sm text-muted",textContent:o(i.id>1?e.translate("Theese users can manage your account only"):"")},null,8,K)]),M,t("div",Q,[c.user&&c.user.role_id==i.id?(s(!0),l(g,{key:0},p(e.content.users,n=>(s(),l("div",{key:n,class:"mb-2 rounded-lg flex items-center space-x-4 gap gap-4 bg-white p-4"},[t("div",W,[t("div",X,[Y,t("img",{class:"relative w-12 h-12 rounded-full",src:n.photo,alt:"User avatar"},null,8,Z)])]),t("div",$,[t("div",ee,o(n.first_name)+" "+o(n.last_name),1),t("div",{class:"text-sm font-medium text-gray-500",textContent:o(n.phone)},null,8,te),t("div",{class:"text-sm font-medium text-gray-500",textContent:o(n.email)},null,8,ne)]),t("div",se,[t("div",{class:"flex gap gap-2 cursor-pointer",onClick:_=>e.setActiveStatus(n)},[t("span",{class:U([n.active?"":"bg-inverse-dark","mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[t("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:N({left:n.active?"16px":0})},null,4)],2),t("span",{textContent:o(n.active?e.translate("Active"):e.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,le)],8,oe),n.id==a.auth.id||a.auth.role_id==1?(s(),l("span",{key:0,textContent:o(e.translate("edit")),class:"hover:bg-purple-800 hover:text-gray-100 my-2 inline-flex items-center px-6 py-1 rounded-full text-xs pb-2 font-medium bg-blue-100 text-blue-800 cursor-pointer",onClick:_=>{e.showEditSide=!0,e.showAddSide=!1,e.activeItem=n}},null,8,ae)):d("",!0)])]))),128)):d("",!0)])]))),256))])):d("",!0),e.showAddSide&&e.content&&e.content.fillable?(s(),w(v,{key:1,conf:a.conf,model:"User.create",columns:e.content.fillable,class:"col-md-3"},null,8,["conf","columns"])):d("",!0),e.showEditSide&&!e.showAddSide?(s(),w(h,{key:2,conf:a.conf,model:"User.update",item:e.activeItem,model_id:e.activeItem.id,index:"id",columns:e.content.fillable,class:"col-md-3"},null,8,["conf","item","model_id","columns"])):d("",!0)])])):d("",!0)])])}const ce=k(V,[["render",ie]]);export{ce as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/side-form-create-aDR39Mc0.js","assets/index-B0DNYBLh.js","assets/index-OY3wY1QZ.css","assets/Field-jjP2EFiy.js","assets/Manager-5mnrHoWY.js","assets/Manager-Cgf44v6b.css","assets/side-form-update-M5dR0HhU.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}