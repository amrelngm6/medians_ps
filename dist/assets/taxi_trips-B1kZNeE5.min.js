const __vite__fileDeps=["map-B_qpUccu.min.js","index.es-BqyRJkQ3.min.js","index.min.js","index.min.css","trip_page-BcNRFItq.min.js","usertype_picker-C1B4fPvb.min.js","taxiTripWizard-BpjYbt6K.min.js","editable_map_location-C3m7cXEh.min.js","drivers_locations_map-DiTe87JV.min.js","tooltip-B6mCVe86.min.js","trip_map-BEE4417S.min.js","taxiTripTrackWizard-BNuokCWJ.min.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as W,D as S,x as N,G as A,H as L,Q as R,r as c,t as F,a as u,o as a,c as r,d as s,e as i,b as o,y as C,w as O,v as M,N as P,F as j,f as B,g as z,O as m,q as y,u as f,j as E,k as J,p as U}from"./index.min.js";const Y=y(()=>f(()=>import("./map-B_qpUccu.min.js"),__vite__mapDeps([0,1,2,3]))),q=y(()=>f(()=>import("./trip_page-BcNRFItq.min.js"),__vite__mapDeps([4,2,3,1]))),G=y(()=>f(()=>import("./usertype_picker-C1B4fPvb.min.js"),__vite__mapDeps([5,2,3]))),H=y(()=>f(()=>import("./taxiTripWizard-BpjYbt6K.min.js"),__vite__mapDeps([6,2,3,7,1,8,9,10]))),K=y(()=>f(()=>import("./taxiTripTrackWizard-BNuokCWJ.min.js"),__vite__mapDeps([11,2,3,7,1,8,9,10]))),Q={components:{datatabble:S,maps:Y,delete_icon:N,car_icon:A,route_icon:L,trip_page:q,usertype_picker:G,taxi_trip_wizard:H,VueTailwindDatepicker:R,taxi_trip_track_wizard:K},name:"Taxi trips",setup(v){const n=c({startDate:"",endDate:""}),l=c({date:"YYYY-MM-DD",month:"MMM"}),t=v.conf.url+v.path+"?load=json",D=c(null),h=c({}),d=c({}),b=c([]),T=c(!1),x=c(!1),p=c(!1),V=c(""),w=c("#");(()=>{E(t).then(_=>{d.value=JSON.parse(JSON.stringify(_)),w.value=d.value.columns[1].value})})();const k=(_,g)=>{switch(_){case"view":break;case"edit":h.value=g,x.value=!0;break;case"delete":J("trip_id",g,"TaxiTrip.delete");break}},I=()=>{h.value.usertype=="employee"&&(b.value=d.value.employees),h.value.usertype=="supervisor"&&(b.value=d.value.supervisors)};return{handleSelectedDate:_=>{E(v.conf.url+v.path+"?start_date="+_.startDate+"&end_date="+_.endDate+"&load=json").then(g=>{d.value=JSON.parse(JSON.stringify(g))})},usersList:b,showTrackWizard:D,showWizard:x,setType:_=>{h.value.usertype=_,p.value=!1,x.value=!0,I()},showOptions:p,showTrip:T,url:t,content:d,activeItem:h,searchValue:V,searchField:w,translate:F,handleAction:k,dateValue:n,formatter:l}},props:["path","lang","business_setting","system_setting","conf","auth","currency"]},X={class:"w-full overflow-auto"},Z={key:0,class:""},$={class:"card"},tt={class:"card-body"},et={class:"card-px text-center pt-15 pb-15"},st=["textContent"],nt=["textContent"],at=["textContent"],ot=s("div",{class:"text-center pb-15 px-5"},[s("img",{src:"/uploads/img/start-wizard.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"})],-1),lt={key:4,class:"w-full relative"},rt={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},it=["textContent"],ct=["textContent"],dt={class:"w-full bg-white"},_t={class:"card-header align-items-center py-5 gap-2 gap-md-5 w-full flex"},ut={class:"card-title"},ht={class:"d-flex align-items-center position-relative my-1"},mt=U('<div id="kt_ecommerce_report_views_export" class="d-none"><div class="dt-buttons btn-group flex-wrap"><button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Copy</span></button> <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>Excel</span></button> <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>CSV</span></button> <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="kt_ecommerce_report_views_table" type="button"><span>PDF</span></button></div></div>',1),vt={class:"card-toolbar flex-row-fluid justify-content-end gap-5 w-200px"},bt={class:"w-150px"},xt=["textContent","value"],yt={class:"card-toolbar w-full flex-end"},ft={class:"w-full"},pt=["src"],wt=["textContent"],kt=["textContent"],gt=["textContent"],Ct=["textContent"],Tt=["onClick","textContent"],Vt=["textContent"],zt=["textContent"],Dt=["onClick"],Ot=["onClick"];function Et(v,n,l,t,D,h){const d=u("taxi_trip_wizard"),b=u("taxi_trip_track_wizard"),T=u("usertype_picker"),x=u("vue-tailwind-datepicker"),p=u("vue-feather"),V=u("delete_icon"),w=u("datatabble");return a(),r("div",X,[!t.showOptions&&!t.showWizard&&t.content.items&&!t.content.items.length?(a(),r("div",Z,[s("div",$,[s("div",tt,[s("div",et,[s("h2",{class:"fs-2x fw-bold mb-0",textContent:i(t.content.title)},null,8,st),s("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:i(t.translate("Empty data"))},null,8,nt),s("a",{textContent:i(t.translate("add_new")),onClick:n[0]||(n[0]=e=>t.showOptions=!0),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,at)]),ot])])])):o("",!0),t.showWizard&&t.activeItem.usertype?(a(),C(d,{onCallback:n[1]||(n[1]=e=>t.showWizard=!1),conf:l.conf,currency:l.currency,usertype:t.activeItem.usertype,userslist:t.usersList,key:t.showWizard,vehicles:t.content.vehicles,drivers:t.content.drivers,system_setting:l.system_setting,item:t.activeItem,business_setting:l.business_setting},null,8,["conf","currency","usertype","userslist","vehicles","drivers","system_setting","item","business_setting"])):o("",!0),t.showTrackWizard&&t.activeItem.usertype?(a(),C(b,{onCallback:n[2]||(n[2]=e=>t.showTrackWizard=!1),conf:l.conf,currency:l.currency,key:t.showTrackWizard,system_setting:l.system_setting,item:t.activeItem,business_setting:l.business_setting},null,8,["conf","currency","system_setting","item","business_setting"])):o("",!0),!t.showWizard&&t.showOptions?(a(),C(T,{alias:t.translate("Need taxi trip"),disable_students:!0,key:t.showOptions,auth:l.auth,item:t.activeItem,onCallback:t.setType},null,8,["alias","auth","item","onCallback"])):o("",!0),!t.showWizard&&!t.showOptions&&!t.showTrackWizard&&t.content?(a(),r("div",lt,[t.content.items&&t.content.items.length?(a(),r("main",{key:t.content.items,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},[s("div",rt,[s("h1",{class:"font-bold text-lg w-full",textContent:i(t.content.title)},null,8,it),s("a",{href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:n[3]||(n[3]=e=>t.showOptions=!0),textContent:i(t.translate("add_new"))},null,8,ct)]),s("div",dt,[s("div",_t,[s("div",ut,[s("div",ht,[O(s("input",{type:"text","onUpdate:modelValue":n[4]||(n[4]=e=>t.searchValue=e),"data-kt-ecommerce-order-filter":"search",class:"form-control form-control-solid w-125px",placeholder:"Search Report"},null,512),[[M,t.searchValue]])]),mt]),s("div",vt,[s("div",bt,[O(s("select",{"onUpdate:modelValue":n[5]||(n[5]=e=>t.searchField=e),class:"form-select form-select-solid select2-hidden-accessible","data-control":"select2","data-hide-search":"true","data-placeholder":"Rating","data-kt-ecommerce-order-filter":"rating","data-select2-id":"select2-data-9-zple",tabindex:"-1","aria-hidden":"true","data-kt-initialized":"1"},[(a(!0),r(j,null,B(t.content.columns,e=>(a(),r("option",{textContent:i(e.text),value:e.value},null,8,xt))),256))],512),[[P,t.searchField]])])]),s("div",yt,[s("div",ft,[z(x,{formatter:t.formatter,"onUpdate:modelValue":[n[6]||(n[6]=e=>t.handleSelectedDate(e)),n[7]||(n[7]=e=>t.dateValue=e)],separator:" - "+t.translate("To")+" - ",modelValue:t.dateValue},null,8,["formatter","separator","modelValue"])])])]),t.content.columns?(a(),C(w,{key:0,"search-field":t.searchField,"search-value":t.searchValue,alternating:"",class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("is_rtl"),"fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":m(e=>[s("img",{src:e.picture,class:"w-8 h-8 rounded-full"},null,8,pt)]),"item-total_cost":m(e=>[s("span",{class:"py-2",textContent:i(l.currency.symbol+""+e.total_cost)},null,8,wt)]),"item-subtotal":m(e=>[s("span",{class:"py-2",textContent:i(l.currency.symbol+""+e.total_cost)},null,8,kt)]),"item-status":m(e=>[e.status=="scheduled"?(a(),r("span",{key:0,class:"py-2",textContent:i(t.translate(e.status))},null,8,gt)):o("",!0),e.status=="started"?(a(),r("span",{key:1,class:"py-2",textContent:i(t.translate(e.status))},null,8,Ct)):o("",!0),e.status=="started"?(a(),r("span",{key:2,class:"fw-bold",onClick:k=>(t.showTrackWizard=!0,t.activeItem=e),textContent:i(t.translate("Track"))},null,8,Tt)):o("",!0),e.status=="completed"?(a(),r("span",{key:3,class:"py-2 text-green-600",textContent:i(t.translate(e.status))},null,8,Vt)):o("",!0),e.status=="cancelled"?(a(),r("span",{key:4,class:"py-2 text-red-600",textContent:i(t.translate(e.status))},null,8,zt)):o("",!0)]),"item-details":m(e=>[e.not_editable?o("",!0):(a(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:k=>t.handleAction("edit",e)},[z(p,{class:"w-5",type:"edit"})],8,Dt))]),"item-delete":m(e=>[e.not_removeable?o("",!0):(a(),r("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:k=>t.handleAction("delete",e)},[z(V,{class:"w-5"})],8,Ot))]),_:1},8,["search-field","search-value","body-text-direction","headers","items"])):o("",!0)])])):o("",!0)])):o("",!0)])}const Nt=W(Q,[["render",Et]]);export{Nt as default};
