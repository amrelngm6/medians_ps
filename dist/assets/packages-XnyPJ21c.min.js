import{_ as A,D as V,G as U,e as W,y as E,z as O,f as m,t as j,r as v,o as a,c as i,i as e,a as g,F as R,k as L,x as D,j as s,H as f,I as h,h as c,B,d as y,b as w,n as J,J as F,K as M,g as z,A as q,m as G,p as K}from"./index.min.js";import{e as N}from"./editable_map_location-sN38-aBc.min.js";import{r as H}from"./route_map-Re9VZOXs.min.js";import{t as Q}from"./tooltip-s9Xa9pgY.min.js";import"./index.es-6MjjNoyG.min.js";const X=y(()=>w(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),Y=y(()=>w(()=>import("./side-form-create-Hnkm4KDO.min.js"),__vite__mapDeps([4,2,3,5,6]))),Z=y(()=>w(()=>import("./side-form-update-_QNnsS5h.min.js"),__vite__mapDeps([7,2,3,5,6,8,9,1]))),$=y(()=>w(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),tt={components:{datatabble:V,SideFormCreate:Y,SideFormUpdate:Z,maps:X,close_icon:U,delete_icon:W,car_icon:E,route_icon:O,form_field:$,editable_map_location:N,route_map:H},name:"Packages",emits:["callback"],setup(r,{emit:o}){const d=m(!1),t=m({}),p=m("Info"),u=m({}),b=m(["Info","Double trips","Single trip","Confirm"]);return r.item&&(t.value=r.item),{progressWidth:()=>M(["name","description","single_cost_month","single_cost_querter","single_cost_year","double_cost_month","double_cost_quarter","double_cost_year","status"],t),showEditSide:d,content:u,fillable:b,activeItem:t,activeTab:p,translate:j,savePackage:()=>{var l=new URLSearchParams;let _=JSON.parse(JSON.stringify(t.value)),T=Object.keys(_),k,P;for(let I=0;I<T.length;I++)k=T[I],P=typeof _[k]=="object"?JSON.stringify(_[k]):_[k],l.append("params["+k+"]",P);let S=_.route_id>0?"update":"create";l.append("type","Package."+S),J(l,"/api/"+S).then(I=>{F(I)})},back:()=>{o("callback")}}},props:["conf","path","system_setting","business_setting","setting","item","drivers","vehicles"]},et={class:"w-full flex overflow-auto"},ot={class:"w-full relative"},st={class:"card w-full py-10"},nt={class:"w-full stepper stepper-links"},lt={class:"stepper-nav justify-content-center py-2 mb-10"},at=["onClick"],it=["textContent"],ct={class:"w-full"},rt={class:"card-body pt-0"},dt={class:"settings-form"},_t={class:"max-w-xl mb-6 mx-auto row"},mt=e("input",{name:"params[route_id]",type:"hidden"},null,-1),ft=["for","textContent"],ht=["placeholder"],ut=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),bt=["for","textContent"],vt=["placeholder"],pt={class:"text-center mt-10"},xt=["textContent"],gt={class:"card-body pt-0"},yt={class:"settings-form"},wt={class:"max-w-xl mb-6 mx-auto"},Ct={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},kt={class:"d-flex flex-stack flex-grow-1"},It={class:"fw-semibold"},qt=["textContent"],Tt=["textContent"],Pt=e("hr",{class:"opacity-10 my-4"},null,-1),St={class:"w-full mb-6 mx-auto row"},Dt=["textContent"],zt=["placeholder"],At={class:"w-full mb-6 mx-auto row"},Vt=["textContent"],Wt=["placeholder"],Et={class:"w-full mb-6 mx-auto row"},Ot=["textContent"],jt=["placeholder"],Nt={class:"text-center mt-10"},Ut=["textContent"],Rt={class:"card-body pt-0"},Lt={class:"settings-form"},Bt={class:"max-w-xl mb-6 mx-auto"},Jt={class:"notice d-flex bg-blue-100 rounded border-primary border border-dashed rounded-3 p-6"},Ft={class:"d-flex flex-stack flex-grow-1"},Mt={class:"fw-semibold"},Gt=["textContent"],Kt=["textContent"],Ht=e("hr",{class:"opacity-10 my-4"},null,-1),Qt={class:"w-full mb-6 mx-auto row"},Xt=["textContent"],Yt=["placeholder"],Zt={class:"w-full mb-6 mx-auto row"},$t=["textContent"],te=["placeholder"],ee={class:"w-full mb-6 mx-auto row"},oe=["textContent"],se=["placeholder"],ne={class:"text-center mt-10"},le=["textContent"],ae={class:"w-full flex gap-10"},ie={class:"w-full"},ce=e("hr",{class:"block mt-6 my-2 opacity-10"},null,-1),re={class:"bg-gray-200 shadow-md mb-10 rounded-xl"},de={class:"card-header border-0 pt-9"},_e={key:0,class:"card-title m-0 flex gap-4"},me={class:"symbol symbol-50px w-50px bg-light"},fe=["src"],he=["textContent"],ue={class:"flex gap-2 cursor-pointer"},be={class:"pt-3"},ve=["textContent"],pe={key:0,class:"card-body p-9"},xe=["textContent"],ge=["textContent"],ye={class:"timeline timeline-border-dashed"},we={class:"timeline-item"},Ce=e("div",{class:"timeline-line"},null,-1),ke={class:"timeline-icon me-4"},Ie={class:"timeline-content mb-10 mt-n2"},qe={class:"overflow-auto pe-3"},Te=["textContent"],Pe={class:"d-flex align-items-center mt-1 fs-6"},Se=["textContent"],De={class:"timeline-item"},ze=e("div",{class:"timeline-line"},null,-1),Ae={class:"timeline-icon me-4"},Ve={class:"timeline-content mb-10 mt-n2"},We={class:"overflow-auto pe-3"},Ee=["textContent"],Oe={class:"d-flex align-items-center mt-1 fs-6"},je=["textContent"],Ne={class:"h-4px w-100 bg-light mb-5"},Ue={key:0,class:"w-full flex gap-4"},Re={key:0,class:"w-full flex gap-4"},Le=["src"],Be={class:"w-full block gap-4"},Je=["textContent"],Fe=["textContent"],Me={key:1,class:"w-full block gap-4"},Ge=["textContent"],Ke=["textContent"],He={key:2,class:"w-full block gap-4"},Qe={class:"w-full block gap-4"},Xe=["textContent"],Ye=["textContent"],Ze={class:"text-center mt-10"},$e=["textContent"];function to(r,o,d,t,p,u){const b=v("close_icon"),C=v("form_field"),x=v("vue-feather");return a(),i("div",et,[e("div",ot,[g(b,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:t.back},null,8,["onClick"]),e("div",st,[e("div",nt,[e("div",lt,[(a(!0),i(R,null,L(t.fillable,n=>(a(),i("div",{class:"stepper-item",onClick:l=>t.activeTab=n},[e("h3",{class:D([t.activeTab==n?"text-danger border-danger":"text-gray-400 border-transparent","cursor-pointer pb-3 px-2 stepper-title text-md border-b"]),textContent:s(n)},null,10,it)],8,at))),256))]),e("div",ct,[t.activeTab=="Info"?(a(),i("div",{class:"",key:t.activeTab},[e("div",rt,[e("div",dt,[e("div",_t,[mt,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Package name"))},null,8,ft),f(e("input",{required:!0,autocomplete:"off",name:"params[name]",class:"form-control form-control-solid",placeholder:t.translate("Package name"),"onUpdate:modelValue":o[0]||(o[0]=n=>t.activeItem.route_name=n)},null,8,ht),[[h,t.activeItem.route_name]]),ut,e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",for:"input"+r.i,textContent:s(t.translate("Description"))},null,8,bt),f(e("textarea",{required:!0,autocomplete:"off",name:"params[description]",class:"form-control form-control-solid",placeholder:t.translate("Description"),"onUpdate:modelValue":o[1]||(o[1]=n=>t.activeItem.description=n)}," ",8,vt),[[h,t.activeItem.description]])])])]),e("p",pt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[2]||(o[2]=n=>t.activeTab="Double trips"),textContent:s(t.translate("Next"))},null,8,xt)])])):c("",!0),t.activeTab=="Double trips"?(a(),i("div",{class:"",key:t.activeTab},[e("div",gt,[e("div",yt,[e("div",wt,[e("div",Ct,[e("div",kt,[e("div",It,[e("h4",{class:"text-gray-900 fw-bold",textContent:s(t.translate("Double daily trips cost"))},null,8,qt),e("div",{class:"fs-6 text-gray-700",textContent:s(t.translate("Cost for Two trips daily Morning & Afternoon"))},null,8,Tt)])])]),Pt,e("div",St,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,Dt),f(e("input",{required:!0,autocomplete:"off",name:"params[double_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Double Trips cost per month"),type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>t.activeItem.double_cost_month=n)},null,8,zt),[[h,t.activeItem.double_cost_month]])]),e("div",At,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,Vt),f(e("input",{required:!0,autocomplete:"off",name:"params[double_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Double Trips cost per quarter"),type:"number","onUpdate:modelValue":o[4]||(o[4]=n=>t.activeItem.double_cost_quarter=n)},null,8,Wt),[[h,t.activeItem.double_cost_quarter]])]),e("div",Et,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,Ot),f(e("input",{required:!0,autocomplete:"off",name:"params[double_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Double Trips cost per year"),type:"number","onUpdate:modelValue":o[5]||(o[5]=n=>t.activeItem.double_cost_year=n)},null,8,jt),[[h,t.activeItem.double_cost_year]])])])])]),e("p",Nt,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[6]||(o[6]=n=>t.activeTab="Single trip"),textContent:s(t.translate("Next"))},null,8,Ut)])])):c("",!0),t.activeTab=="Single trip"?(a(),i("div",{class:"",key:t.activeTab},[e("div",Rt,[e("div",Lt,[e("div",Bt,[e("div",Jt,[e("div",Ft,[e("div",Mt,[e("h4",{class:"text-gray-900 fw-bold",textContent:s(t.translate("Single daily trip cost"))},null,8,Gt),e("div",{class:"fs-6 text-gray-700",textContent:s(t.translate("Cost for Single trip daily either Morning or Afternoon"))},null,8,Kt)])])]),Ht,e("div",Qt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per month"))},null,8,Xt),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_month]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per month"),type:"number","onUpdate:modelValue":o[7]||(o[7]=n=>t.activeItem.single_cost_month=n)},null,8,Yt),[[h,t.activeItem.single_cost_month]])]),e("div",Zt,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per quarter"))},null,8,$t),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_quarter]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per quarter"),type:"number","onUpdate:modelValue":o[8]||(o[8]=n=>t.activeItem.single_cost_quarter=n)},null,8,te),[[h,t.activeItem.single_cost_quarter]])]),e("div",ee,[e("label",{class:"col-lg-4 col-form-label required fw-semibold fs-6",textContent:s(t.translate("Cost per year"))},null,8,oe),f(e("input",{required:!0,autocomplete:"off",name:"params[single_cost_year]",class:"form-control form-control-solid",placeholder:t.translate("Single Trip cost per year"),type:"number","onUpdate:modelValue":o[9]||(o[9]=n=>t.activeItem.single_cost_year=n)},null,8,se),[[h,t.activeItem.single_cost_year]])])])])]),e("p",ne,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[10]||(o[10]=n=>t.activeTab="Confirm"),textContent:s(t.translate("Next"))},null,8,le)])])):c("",!0),t.activeTab=="Confirm"?(a(),i("div",{class:"w-full mx-auto",key:t.activeTab},[e("div",ae,[e("div",ie,[ce,e("div",re,[e("div",de,[t.activeItem.driver_id?(a(),i("div",_e,[e("div",me,[e("img",{src:r.selectedObject(d.drivers,"driver_id").picture,alt:"image",class:"p-3"},null,8,fe)]),e("span",{class:"",textContent:s(r.selectedObject(d.drivers,"driver_id").name)},null,8,he)])):c("",!0),e("label",ue,[g(C,{class:"flex-end",item:t.activeItem,column:{key:"status",title:t.translate("Status"),column_type:"checkbox",hide_text:!0}},null,8,["item","column"]),e("div",be,[e("span",{class:"badge badge-light fw-bold me-auto px-4 py-3",textContent:s(t.activeItem.status?"Active":"Pending")},null,8,ve)])])]),t.activeItem?(a(),i("div",pe,[e("div",{class:"fs-3 fw-bold text-gray-900",textContent:s(t.activeItem.route_name)},null,8,xe),e("p",{class:"text-gray-500 fw-semibold fs-5 mt-1 mb-7",textContent:s(t.activeItem.description)},null,8,ge),e("div",ye,[e("div",we,[Ce,e("div",ke,[g(x,{type:"circle",class:"fs-2 text-success"})]),e("div",Ie,[e("div",qe,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.start_address)},null,8,Te)):c("",!0),e("div",Pe,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Pickup"))},null,8,Se)])])])]),e("div",De,[ze,e("div",Ae,[g(x,{type:"map-pin",class:"fs-2 text-danger"})]),e("div",Ve,[e("div",We,[t.activeItem.position?(a(),i("div",{key:0,class:"fs-5 fw-semibold mb-2",textContent:s(t.activeItem.position.end_address)},null,8,Ee)):c("",!0),e("div",Oe,[e("div",{class:"text-muted me-2 fs-7",textContent:s(t.translate("Destination"))},null,8,je)])])])])]),e("div",Ne,[e("div",{class:D(["rounded h-4px transition transition-all",t.progressWidth()<100?"bg-info":"bg-success"]),role:"progressbar",style:B({width:t.progressWidth()+"%"})},null,6)]),t.activeItem.vehicle_id?(a(),i("div",Ue,[t.activeItem.vehicle_id?(a(),i("div",Re,[e("img",{src:"/uploads/images/car.svg",class:"w-10"},null,8,Le),e("div",Be,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Vehicle"))},null,8,Je),e("span",{class:"w-full block",textContent:s(r.selectedObject(d.vehicles,"vehicle_id").plate_number)},null,8,Fe)])])):c("",!0),t.activeItem.morning_trip_time?(a(),i("div",Me,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Morning trip"))},null,8,Ge),e("span",{class:"w-full block",textContent:s(t.activeItem.morning_trip_time)},null,8,Ke)])):c("",!0),t.activeItem.afternoon_trip_time?(a(),i("div",He,[e("div",Qe,[e("span",{class:"w-full block font-semibold",textContent:s(t.translate("Afternoon trip"))},null,8,Xe),e("span",{class:"w-full block",textContent:s(t.activeItem.afternoon_trip_time)},null,8,Ye)])])):c("",!0)])):c("",!0)])):c("",!0)])])]),e("p",Ze,[e("a",{href:"javascript:;",class:"uppercase px-4 py-3 mx-2 text-center text-white rounded-lg bg-danger",onClick:o[11]||(o[11]=(...n)=>t.savePackage&&t.savePackage(...n)),textContent:s(t.translate("Submit"))},null,8,$e)])])):c("",!0)])])])])])}const eo=A(tt,[["render",to]]),oo=y(()=>w(()=>import("./map-B-UdJfwR.min.js"),__vite__mapDeps([0,1,2,3]))),so=y(()=>w(()=>import("./form_field-JC_s-tjI.min.js"),__vite__mapDeps([8,2,3,5,6,9,1]))),no={components:{datatabble:V,maps:oo,delete_icon:W,car_icon:E,route_icon:O,form_field:so,editable_map_location:N,package_wizard:eo,tooltip:Q},name:"Packages",setup(r){const o=r.conf.url+r.path+"?load=json",d=m(!1),t=m({}),p=m({}),u=m(!1),b=()=>{d.value=!1};return(()=>{G(o).then(l=>{p.value=JSON.parse(JSON.stringify(l))})})(),{showEditSide:d,url:o,content:p,activeItem:t,showWizard:u,translate:j,closeSide:b,addPackageWizard:()=>{t.value={},u.value=!0},handleAction:(l,_)=>{switch(l){case"view":break;case"edit":t.value=_,u.value=!0;break;case"delete":K("package_id",_,"Package.delete");break;case"close":d.value=!1,t.value={};break}}}},props:["path","lang","system_setting","business_setting","setting","conf","auth"]},lo={class:"w-full flex overflow-auto"},ao={key:0,class:"w-full relative"},io={key:1,class:""},co={class:"card"},ro={class:"card-body"},_o={class:"card-px text-center pt-15 pb-15"},mo=["textContent"],fo=["textContent"],ho=["textContent"],uo={class:"text-center pb-15 px-5"},bo=["src"],vo={key:2,class:"flex-1 overflow-x-hidden overflow-y-auto w-full relative"},po={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},xo=["textContent"],go=e("hr",{class:"mt-2"},null,-1),yo={class:"w-full"},wo=["src"],Co=["onClick"],ko=["onClick"];function Io(r,o,d,t,p,u){const b=v("package_wizard"),C=v("vue-feather"),x=v("delete_icon"),n=v("datatabble");return a(),i("div",lo,[t.content?(a(),i("div",ao,[t.showWizard?(a(),z(b,{onCallback:o[0]||(o[0]=l=>t.showWizard=!1),key:t.showWizard,item:t.activeItem,business_setting:d.business_setting,conf:d.conf},null,8,["item","business_setting","conf"])):c("",!0),!t.showWizard&&t.content.items&&!t.content.items.length?(a(),i("div",io,[e("div",co,[e("div",ro,[e("div",_o,[e("h2",{class:"fs-2x fw-bold mb-0",textContent:s(t.content.title)},null,8,mo),e("p",{class:"text-gray-400 fs-4 font-semibold py-7",textContent:s(t.translate("Add your first package using this below wizard"))},null,8,fo),e("a",{textContent:s(t.translate("add_new")),onClick:o[1]||(o[1]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l)),href:"javascript:;",class:"text-white btn btn-primary er fs-6 px-8 py-4"},null,8,ho)]),e("div",uo,[e("img",{src:"/src/asset/img/1.png",alt:"",class:"mx-auto mw-100 h-200px h-sm-325px"},null,8,bo)])])])])):c("",!0),t.content.items&&!t.showWizard?(a(),i("main",vo,[e("div",po,[e("h1",{class:"font-bold text-lg w-full",textContent:s(t.content.title)},null,8,xo),t.showWizard?c("",!0):(a(),i("a",{key:0,href:"javascript:;",class:"uppercase p-2 mx-2 text-center text-white w-32 rounded-lg bg-danger",onClick:o[2]||(o[2]=(...l)=>t.addPackageWizard&&t.addPackageWizard(...l))},s(t.translate("add_new")),1))]),go,e("div",yo,[t.content.columns?(a(),z(n,{key:0,class:"align-middle fs-6 gy-5 table table-row-dashed px-6","body-text-direction":t.translate("lang")=="ar"?"right":"left","fixed-checkbox":"",headers:t.content.columns,items:t.content.items},{"item-picture":q(l=>[e("img",{src:l.picture,class:"w-8 h-8 rounded-full"},null,8,wo)]),"item-single_trip":q(l=>[]),"item-double_trip":q(l=>[]),"item-edit":q(l=>[l.not_editable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-purple",onClick:_=>t.handleAction("edit",l)},[g(C,{class:"w-5",type:"edit"})],8,Co))]),"item-delete":q(l=>[l.not_removeable?c("",!0):(a(),i("button",{key:0,class:"p-2 hover:text-gray-600 text-red-500",onClick:_=>t.handleAction("delete",l)},[g(x,{class:"w-5"})],8,ko))]),_:1},8,["body-text-direction","headers","items"])):c("",!0)])])):c("",!0)])):c("",!0)])}const zo=A(no,[["render",Io]]);export{zo as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["map-B-UdJfwR.min.js","index.es-6MjjNoyG.min.js","index.min.js","index.min.css","side-form-create-Hnkm4KDO.min.js","Field-D7aHrL1B.min.js","Field.min.css","side-form-update-_QNnsS5h.min.js","form_field-JC_s-tjI.min.js","editable_map_location-sN38-aBc.min.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
