(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67197a6b"],{2473:function(t,e,n){"use strict";var i,o,r=n("755e"),a=Object(r["MapElementFactory"])({name:"directionsRenderer",ctr:function(){return window.google.maps.DirectionsRenderer},events:[],mappedProps:{},props:{origin:{type:Object},destination:{type:Object},travelMode:{type:String}},afterCreate:function(t){var e=this,n=new window.google.maps.DirectionsService;this.$watch((function(){return[e.origin,e.destination,e.travelMode]}),(function(){var i=e.origin,o=e.destination,r=e.travelMode;i&&o&&r&&n.route({origin:i,destination:o,travelMode:r},(function(e,n){"OK"===n&&t.setDirections(e)}))}))}}),s=a,c=n("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null);e["a"]=l.exports},aa44:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full overflow-auto",staticStyle:{height:"85vh","z-index":"9999"}},[e("GmapMap",{key:t.waypoints,ref:"trip_map",staticStyle:{width:"100%",height:"calc(100vh -  100px)"},attrs:{center:t.center,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0},zoom:t.zoom}},[t.showroute&&t.directionPoints?e("DirectionsRenderer",{key:t.directionPoints,attrs:{destination:t.directionPoints.destination,origin:t.directionPoints.origin,travelMode:t.travelMode}}):t._e(),t._l(t.waypoints,(function(n,i){return e("GmapMarker",{key:t.waypoints,attrs:{position:n.origin,clickable:!0,draggable:!1,icon:n.icon?n.icon:null},on:{click:function(e){return t.checkMarker(i)}}})}))],2)],1)},o=[],r=(n("96cf"),n("1da1")),a=n("2473"),s={components:{DirectionsRenderer:a["a"]},name:"Trip Map",data:function(){return{modes:["DRIVING","WALKING"],activeMarkerIndex:0,reload:!0,render:!0,travelMode:"DRIVING",origin:{lat:0,lng:0},destination:{lat:0,lng:0},zoom:12,markers:[],center:{lat:0,lng:0},waypoints:[],polylineCoordinates:[],directionPoints:{},activeDestination:{}}},computed:{},props:["path","lang","setting","conf","auth","trip","showroute"],mounted:function(){var t=this;setTimeout((function(){t.onMapReady()}),1e3)},methods:{onMapReady:function(){var t=this;t.updateMarkers(this.trip.vehicle),setInterval((function(){t.updateVehicle()}),1e4)},updateVehicle:function(){var t=this,e=this.conf?this.conf.url+"vehicle/"+this.trip.vehicle_id:"";this.$root.$children[0].handleGetRequest(e).then((function(e){t.updateMarkers(e)}))},updateMarkers:function(t){this.center={lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)},this.waypoints=this.trip.locations,this.waypoints[0].origin=this.center},checkMarker:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.activeDestination=this.waypoints[e].destination,this.$emit("click-marker",this.waypoints[e],e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),__:function(t){return this.$root.$children[0].__(t)}}},c=s,l=n("2877"),u=Object(l["a"])(c,i,o,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-67197a6b.chunk.js.map