{"version":3,"sources":["webpack:///./src/components/users.vue","webpack:///src/components/users.vue","webpack:///./src/components/users.vue?0cb0","webpack:///./src/components/users.vue?4fe0"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","content","showLoader","domProps","_s","title","attrs","on","$event","showAddSide","activeItem","_v","__","users","_l","roles","role","name","id","user","role_id","key","photo","first_name","last_name","phone","email","setActiveStatus","class","active","style","left","auth","showEditSide","_e","fillable","conf","staticRenderFns","data","url","path","props","mounted","load","methods","isMaster","_this","access","params","URLSearchParams","append","JSON","stringify","$root","$children","handleRequest","then","response","$alert","result","_this2","$parent","handleGetRequest","setValues","parse","i","component"],"mappings":"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","file":"js/chunk-2d0b8a18.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full flex overflow-auto\",staticStyle:{\"height\":\"85vh\",\"z-index\":\"9999\"}},[_c('div',{staticClass:\"w-full\"},[(_vm.content && !_vm.showLoader)?_c('main',{staticClass:\"flex-1 overflow-x-hidden overflow-y-auto w-full\"},[_c('div',{staticClass:\"px-4 mb-6 py-4 rounded-lg shadow-lg bg-white dark:bg-gray-700 flex w-full\"},[_c('h1',{staticClass:\"font-bold text-lg w-full\",domProps:{\"textContent\":_vm._s(_vm.content.title)}}),_c('a',{staticClass:\"menu-dark uppercase p-2 mx-2 text-center text-white w-32 rounded bg-gradient-purple hover:bg-red-800\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.showLoader = true, _vm.showAddSide = true,_vm.showLoader = false, _vm.activeItem = {};}}},[_vm._v(_vm._s(_vm.__('add_new')))])]),_c('hr',{staticClass:\"mt-2\"}),_c('div',{staticClass:\"w-full flex gap gap-6\"},[(_vm.content.users)?_c('div',{staticClass:\"w-full\"},_vm._l((_vm.content.roles),function(role){return _c('div',{staticClass:\"w-full pb-4\"},[_c('h3',{staticClass:\"pb-b flex gap-4\"},[_c('span',{domProps:{\"textContent\":_vm._s(role.name)}}),_c('span',{staticClass:\"pt-2 text-sm text-muted\",domProps:{\"textContent\":_vm._s(role.id > 1 ? _vm.__('Theese users can manage your account only') : '')}})]),_c('hr'),_c('div',{staticClass:\"w-full grid lg:grid-cols-3 gap gap-6\"},_vm._l((_vm.content.users),function(user){return (user && user.role_id == role.id)?_c('div',{key:user,staticClass:\"mb-2 rounded-lg flex items-center space-x-4 gap gap-4 bg-white p-4\"},[_c('div',{staticClass:\"flex-shrink-0\"},[_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"absolute inset-0 rounded-full shadow-inner\",attrs:{\"aria-hidden\":\"true\"}}),_c('img',{staticClass:\"relative w-12 h-12 rounded-full\",attrs:{\"src\":user.photo,\"alt\":\"User avatar\"}})])]),_c('div',{staticClass:\"flex-grow w-full\"},[_c('div',{staticClass:\"text-lg font-medium text-gray-900\"},[_vm._v(_vm._s(user.first_name)+\" \"+_vm._s(user.last_name))]),_c('div',{staticClass:\"text-sm font-medium text-gray-500\",domProps:{\"textContent\":_vm._s(user.phone)}}),_c('div',{staticClass:\"text-sm font-medium text-gray-500\",domProps:{\"textContent\":_vm._s(user.email)}})]),_c('div',{staticClass:\"text-center\"},[_c('div',{staticClass:\"flex gap gap-2 cursor-pointer\",on:{\"click\":function($event){return _vm.setActiveStatus(user)}}},[_c('span',{staticClass:\"mt-1 bg-red-400 block h-4 relative rounded-full w-8\",class:!user.active ? 'bg-inverse-dark' : '',staticStyle:{\"direction\":\"ltr\"}},[_c('a',{staticClass:\"absolute bg-white block h-4 relative right-0 rounded-full w-4\",style:({left: user.active ? '16px' : 0})})]),_c('span',{staticClass:\"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium\",domProps:{\"textContent\":_vm._s(user.active ? _vm.__('Active') : _vm.__('Pending'))}})]),(user.id == _vm.auth.id || _vm.auth.role_id == 1)?_c('span',{staticClass:\"hover:bg-purple-800 hover:text-gray-100 my-2 inline-flex items-center px-6 py-1 rounded-full text-xs pb-2 font-medium bg-blue-100 text-blue-800 cursor-pointer\",domProps:{\"textContent\":_vm._s(_vm.__('edit'))},on:{\"click\":function($event){_vm.showEditSide = true; _vm.showAddSide = false; _vm.activeItem = user}}}):_vm._e()])]):_vm._e()}),0)])}),0):_vm._e(),(_vm.showAddSide && _vm.content && _vm.content.fillable)?_c('side-form-create',{staticClass:\"col-md-3\",attrs:{\"conf\":_vm.conf,\"model\":\"User.create\",\"columns\":_vm.content.fillable}}):_vm._e(),(_vm.showEditSide && !_vm.showAddSide )?_c('side-form-update',{staticClass:\"col-md-3\",attrs:{\"conf\":_vm.conf,\"model\":\"User.update\",\"item\":_vm.activeItem,\"model_id\":_vm.activeItem.id,\"index\":\"id\",\"columns\":_vm.content.fillable}}):_vm._e()],1)]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"w-full flex overflow-auto\" style=\"height: 85vh; z-index: 9999;\">\r\n        <div class=\" w-full\">\r\n            <main v-if=\"content && !showLoader\" class=\" flex-1 overflow-x-hidden overflow-y-auto  w-full\">\r\n                <!-- New releases -->\r\n                <div class=\"px-4 mb-6 py-4 rounded-lg shadow-lg bg-white dark:bg-gray-700 flex w-full\">\r\n                    <h1 class=\"font-bold text-lg w-full\" v-text=\"content.title\"></h1>\r\n                    <a href=\"javascript:;\" class=\"menu-dark uppercase p-2 mx-2 text-center text-white w-32 rounded bg-gradient-purple hover:bg-red-800\" @click=\"showLoader = true, showAddSide = true,showLoader = false, activeItem = {}; \">{{__('add_new')}}</a>\r\n                </div>\r\n                <hr class=\"mt-2\" />\r\n                <div class=\"w-full flex gap gap-6\">\r\n\r\n                    <div v-if=\"content.users\" class=\"w-full\">\r\n                        <div v-for=\"role in content.roles\" class=\"w-full pb-4\">\r\n                            <h3  class=\"pb-b flex gap-4\"><span v-text=\"role.name\"></span> <span class=\"pt-2 text-sm text-muted\" v-text=\"role.id > 1 ? __('Theese users can manage your account only') : ''\"></span></h3>\r\n                            <hr />\r\n                            <div class=\"w-full grid lg:grid-cols-3 gap gap-6\">\r\n                                <div v-if=\"user && user.role_id == role.id\" :key=\"user\" v-for=\"user in content.users\" class=\"mb-2 rounded-lg flex items-center space-x-4 gap gap-4  bg-white p-4 \">\r\n                                    <div class=\"flex-shrink-0 \">\r\n                                        <div class=\"relative\">\r\n                                            <div class=\"absolute inset-0 rounded-full shadow-inner\" aria-hidden=\"true\"></div>\r\n                                            <img class=\"relative w-12 h-12 rounded-full\" :src=\"user.photo\" alt=\"User avatar\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"flex-grow w-full\">\r\n                                        <div class=\"text-lg font-medium text-gray-900\">{{user.first_name}} {{user.last_name}}</div>\r\n                                        <div class=\"text-sm font-medium text-gray-500\" v-text=\"user.phone\"></div>\r\n                                        <div class=\"text-sm font-medium text-gray-500\" v-text=\"user.email\"></div>\r\n                                    </div>\r\n                                    <div class=\"text-center\">\r\n                                        <div class=\"flex gap gap-2 cursor-pointer\" @click=\"setActiveStatus(user)\">\r\n                                            <span :class=\"!user.active ? 'bg-inverse-dark' : ''\" class=\"mt-1 bg-red-400 block h-4 relative rounded-full w-8\" style=\"direction: ltr;\" ><a class=\"absolute bg-white block h-4 relative right-0 rounded-full w-4\" :style=\"{left: user.active ? '16px' : 0}\"></a></span>\r\n                                            <span  v-text=\"user.active ? __('Active') : __('Pending')\" class=\" font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium \"></span>\r\n                                        </div>\r\n\r\n                                        <span  v-text=\"__('edit')\" class=\"hover:bg-purple-800 hover:text-gray-100 my-2 inline-flex items-center px-6  py-1 rounded-full text-xs pb-2 font-medium bg-blue-100 text-blue-800 cursor-pointer\" v-if=\"user.id == auth.id || auth.role_id == 1\" @click=\"showEditSide = true; showAddSide = false; activeItem = user\">\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <side-form-create :conf=\"conf\" model=\"User.create\" v-if=\"showAddSide && content && content.fillable\" :columns=\"content.fillable\"  class=\"col-md-3\" />\r\n\r\n                    <side-form-update :conf=\"conf\" model=\"User.update\" :item=\"activeItem\" :model_id=\"activeItem.id\" index=\"id\" v-if=\"showEditSide && !showAddSide \" :columns=\"content.fillable\"  class=\"col-md-3\" />\r\n\r\n                </div>\r\n                <!-- END New releases -->\r\n            </main>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'Users',\r\n    data() {\r\n        return {\r\n            url: this.conf.url +this.path+ '?load=json',\r\n            content: {\r\n\r\n                title: this.__('users'),\r\n                roles: [],\r\n                users: [],\r\n            },\r\n\r\n            activeItem: null,\r\n            showAddSide: false,\r\n            showEditSide: false,\r\n            showLoader: false,\r\n        }\r\n    },\r\n    props: [\r\n        'path',\r\n        'lang',\r\n        'setting',\r\n        'conf',\r\n        'auth',\r\n    ],\r\n    mounted() {\r\n        this.load()\r\n    },\r\n\r\n    methods: {\r\n\r\n        /**\r\n         * Check if the user is Master\r\n         */\r\n        isMaster()\r\n        {\r\n            return (this.auth && this.auth.role_id == 1);\r\n        } , \r\n\r\n        setActiveStatus(user) {\r\n            this.showLoader = true;\r\n            user.active = !user.access;\r\n            this.showLoader = false;\r\n            var params = new URLSearchParams();\r\n            params.append('type', 'User.updateStatus')\r\n            params.append('params', JSON.stringify(user))\r\n            this.$root.$children[0].handleRequest(params, '/api/handle').then(response => {\r\n                this.$alert(response.result).then(() => {\r\n\r\n                });\r\n            })\r\n        },\r\n\r\n        load() {\r\n            this.showLoader = true;\r\n            this.$parent.handleGetRequest(this.url).then(response => {\r\n                this.setValues(response)\r\n                this.showLoader = false;\r\n                // this.$alert(response)\r\n            });\r\n        },\r\n\r\n        setValues(data) {\r\n            this.content = JSON.parse(JSON.stringify(data));\r\n            return this\r\n        },\r\n        __(i) {\r\n            return this.$root.$children[0].__(i);\r\n        }\r\n    }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./users.vue?vue&type=template&id=3d9e33e4&\"\nimport script from \"./users.vue?vue&type=script&lang=js&\"\nexport * from \"./users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}