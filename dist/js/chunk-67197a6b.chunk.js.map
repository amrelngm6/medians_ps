{"version":3,"sources":["webpack:///./src/components/includes/map_direction.vue","webpack:///src/components/includes/map_direction.vue","webpack:///./src/components/includes/map_direction.vue?1840","webpack:///./src/components/includes/trip_map.vue","webpack:///src/components/includes/trip_map.vue","webpack:///./src/components/includes/trip_map.vue?ee1f","webpack:///./src/components/includes/trip_map.vue?3716"],"names":["render","staticRenderFns","MapElementFactory","name","ctr","window","google","maps","DirectionsRenderer","events","mappedProps","props","origin","type","Object","destination","travelMode","String","afterCreate","directionsRenderer","_this","directionsService","DirectionsService","$watch","route","response","status","setDirections","component","_vm","this","_c","_self","staticClass","staticStyle","key","waypoints","ref","attrs","center","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","zoom","showroute","directionPoints","_e","_l","marker","index","icon","on","$event","checkMarker","components","data","modes","activeMarkerIndex","reload","lat","lng","markers","polylineCoordinates","activeDestination","computed","mounted","t","setTimeout","onMapReady","methods","updateMarkers","trip","vehicle","setInterval","updateVehicle","url","conf","vehicle_id","$root","$children","handleGetRequest","then","item","parseFloat","latitude","longitude","locations","_checkMarker","_asyncToGenerator","regeneratorRuntime","mark","_callee","i","wrap","_context","prev","next","$emit","stop","_x","apply","arguments","__"],"mappings":"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","file":"js/chunk-67197a6b.chunk.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./map_direction.vue?vue&type=script&lang=js&\"\nexport * from \"./map_direction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport { MapElementFactory } from \"vue2-google-maps\";\r\n\r\nexport default MapElementFactory({\r\n  name: \"directionsRenderer\",\r\n\r\n  ctr() { \r\n    return window.google.maps.DirectionsRenderer;\r\n  },\r\n\r\n  events: [],\r\n\r\n  mappedProps: {},\r\n\r\n  props: {\r\n    origin: { type: Object },\r\n    destination: { type: Object },\r\n    travelMode: { type: String }\r\n  },\r\n\r\n  afterCreate(directionsRenderer) {\r\n    let directionsService = new window.google.maps.DirectionsService();\r\n\r\n    this.$watch(\r\n      () => [this.origin, this.destination, this.travelMode],\r\n      () => {\r\n        let { origin, destination, travelMode } = this;\r\n        if (!origin || !destination || !travelMode) return;\r\n\r\n        directionsService.route(\r\n          {\r\n            origin,\r\n            destination,\r\n            travelMode\r\n          },\r\n          (response, status) => {\r\n            if (status !== \"OK\") return;\r\n            directionsRenderer.setDirections(response);\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n});\r\n\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map_direction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map_direction.vue?vue&type=script&lang=js&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full overflow-auto\",staticStyle:{\"height\":\"85vh\",\"z-index\":\"9999\"}},[_c('GmapMap',{key:_vm.waypoints,ref:\"trip_map\",staticStyle:{\"width\":\"100%\",\"height\":\"calc(100vh -  100px)\"},attrs:{\"center\":_vm.center,\"options\":{\n            zoomControl: true,\n            mapTypeControl: true,\n            scaleControl: true,\n            streetViewControl: true,\n            rotateControl: true,\n            fullscreenControl: true\n        },\"zoom\":_vm.zoom}},[(_vm.showroute && _vm.directionPoints)?_c('DirectionsRenderer',{key:_vm.directionPoints,attrs:{\"destination\":_vm.directionPoints.destination,\"origin\":_vm.directionPoints.origin,\"travelMode\":_vm.travelMode}}):_vm._e(),_vm._l((_vm.waypoints),function(marker,index){return _c('GmapMarker',{key:_vm.waypoints,attrs:{\"position\":marker.origin,\"clickable\":true,\"draggable\":false,\"icon\":marker.icon ? marker.icon : null},on:{\"click\":function($event){return _vm.checkMarker(index)}}})})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"w-full  overflow-auto\" style=\"height: 85vh; z-index: 9999;\">\r\n        <GmapMap ref=\"trip_map\" :center=\"center\" :key=\"waypoints\" \r\n            :options=\"{\r\n                zoomControl: true,\r\n                mapTypeControl: true,\r\n                scaleControl: true,\r\n                streetViewControl: true,\r\n                rotateControl: true,\r\n                fullscreenControl: true\r\n            }\"\r\n            :zoom=\"zoom\" style=\"width: 100%; height: calc(100vh -  100px)\">\r\n\r\n            \r\n            <DirectionsRenderer \r\n                v-if=\"showroute && directionPoints\"\r\n                :destination=\"directionPoints.destination\" \r\n                :origin=\"directionPoints.origin\"\r\n                :key=\"directionPoints\" \r\n                :travelMode=\"travelMode\"  ></DirectionsRenderer>\r\n                \r\n            <GmapMarker\r\n                v-for=\"(marker, index) in waypoints\" \r\n                :key=\"waypoints\" \r\n                :position=\"marker.origin\"\r\n                :clickable=\"true\" \r\n                :draggable=\"false\" \r\n                :icon=\"marker.icon ? marker.icon : null\" \r\n                @click=\"checkMarker(index)\"\r\n                >\r\n            </GmapMarker> \r\n\r\n        </GmapMap>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport DirectionsRenderer from \"./map_direction.vue\";\r\n\r\nexport default\r\n    {\r\n        components: {\r\n            DirectionsRenderer,\r\n        },\r\n        name: 'Trip Map',\r\n        data() {\r\n            return {\r\n                \r\n                modes: ['DRIVING', 'WALKING'],\r\n                activeMarkerIndex: 0,\r\n                reload: true,\r\n                render: true,\r\n                travelMode: 'DRIVING',\r\n                origin: { lat: 0, lng: 0 }, // Replace with your origin location\r\n                destination: { lat: 0, lng: 0 }, // Replace with your destination location\r\n                \r\n                zoom: 12,\r\n                markers: [\r\n                ],\r\n                \r\n                center: { lat: 0, lng: 0 }, \r\n                waypoints: [],\r\n                polylineCoordinates: [],\r\n                directionPoints: {},\r\n                activeDestination: {},\r\n            }\r\n\r\n        },\r\n\r\n        computed: {\r\n\r\n        },\r\n        props: [\r\n            'path',\r\n            'lang',\r\n            'setting',\r\n            'conf',\r\n            'auth',\r\n            'trip',\r\n            'showroute',\r\n            // 'waypoints',\r\n            // 'center',\r\n        ],\r\n        mounted() {\r\n            var t = this;\r\n            setTimeout(function(){\r\n                t.onMapReady()\r\n            }, 1000)\r\n        },\r\n\r\n        methods:\r\n        {\r\n\r\n            /**\r\n             * When map loaded is ready\r\n             * \r\n             * @param\r\n             */\r\n            onMapReady()\r\n            {\r\n                var t = this;\r\n                t.updateMarkers(this.trip.vehicle);\r\n\r\n                setInterval(() => {\r\n                    t.updateVehicle()\r\n                }, 10000);\r\n            },\r\n\r\n            updateVehicle()\r\n            {   \r\n                var t = this;\r\n                let url = this.conf ? (this.conf.url + \"vehicle/\"+this.trip.vehicle_id) : ''\r\n                this.$root.$children[0].handleGetRequest( url ).then(response=> {\r\n                    t.updateMarkers(response);\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Set markers and update \r\n             * if got new location\r\n             */\r\n            updateMarkers(item)\r\n            {\r\n                this.center = {lat: parseFloat(item.latitude), lng: parseFloat(item.longitude)}\r\n                this.waypoints = this.trip.locations;\r\n                this.waypoints[0].origin = this.center;\r\n            },\r\n            \r\n\r\n            async checkMarker(i)  {\r\n                this.activeDestination = this.waypoints[i].destination;\r\n                this.$emit('click-marker', this.waypoints[i], i);\r\n            },\r\n            \r\n            \r\n\r\n            __(i) {\r\n                return this.$root.$children[0].__(i);\r\n            }\r\n        }\r\n    };\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trip_map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trip_map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./trip_map.vue?vue&type=template&id=5e60fb74&\"\nimport script from \"./trip_map.vue?vue&type=script&lang=js&\"\nexport * from \"./trip_map.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}