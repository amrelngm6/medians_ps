{"version":3,"sources":["webpack:///./src/components/includes/map.vue","webpack:///src/components/includes/map.vue","webpack:///./src/components/includes/map.vue?82e9","webpack:///./src/components/includes/map.vue?7d46","webpack:///./src/components/includes/map_direction.vue","webpack:///src/components/includes/map_direction.vue","webpack:///./src/components/includes/map_direction.vue?1840","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","key","reload","ref","attrs","center","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","zoom","showroute","directionPoints","destination","origin","travelMode","_e","_l","waypoints","marker","index","drag","icon","on","$event","checkMarker","activeMarkerIndex","updateMarker","domProps","_s","lat","directives","name","rawName","value","expression","calculateAndDisplayRoute","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","modes","mode","staticRenderFns","components","DirectionsRenderer","data","lng","markers","polylineCoordinates","activeDestination","computed","props","mounted","t","setTimeout","onMapReady","methods","_this","directionsService","window","google","maps","DirectionsService","directionsDisplay","$refs","gmap","$mapObject","setMap","setInterval","$parent","locations","calculateDistance","location1","location2","R","lat1","lon1","lat2","lon2","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","distance","addPoint","event","status","_this2","push","sort","b","locationData","distanceA","distanceB","setMarker","i","updateDestination","latLng","updateOrigin","_updateMarker","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","handlePositionToPlaceId","address","sent","$emit","stop","_x","apply","arguments","_checkMarker","_callee2","_context2","_x2","addMarker","length","position","sortWaypointsByDistance","setMode","_t$directionPoints","route","LatLng","response","setDirections","console","warn","calculateAndDisplayRoute2","_calculateAndDisplayRoute","_callee3","directionsRenderer","_context3","waypoint","location","error","_this3","waypointsWithDistances","originLatLng","destinationLatLng","waypointLatLng","distanceToOrigin","geometry","spherical","computeDistanceBetween","distanceToDestination","item","getPlaceIdFromPosition","_getPlaceIdFromPosition","_callee4","geocoder","_context4","Geocoder","parseFloat","abrupt","Promise","resolve","reject","geocode","results","concat","_x3","_x4","_handlePositionToPlaceId","_callee5","place","_context5","log","formatted_address","t0","_x5","_x6","__","$root","$children","component","MapElementFactory","ctr","events","mappedProps","type","Object","String","afterCreate","$watch","fails","module","exports","method","arg","$export","aFunction","toObject","$sort","test","P","F","undefined","comparefn"],"mappings":"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","file":"js/chunk-fa1d82ec.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full overflow-auto\",staticStyle:{\"height\":\"85vh\",\"z-index\":\"9999\"}},[_c('GmapMap',{key:_vm.reload,ref:\"gmap\",staticStyle:{\"width\":\"100%\",\"height\":\"calc(100vh -  100px)\"},attrs:{\"center\":_vm.center,\"options\":{\n            zoomControl: true,\n            mapTypeControl: true,\n            scaleControl: true,\n            streetViewControl: true,\n            rotateControl: true,\n            fullscreenControl: true\n        },\"zoom\":_vm.zoom}},[(_vm.showroute && _vm.directionPoints)?_c('DirectionsRenderer',{key:_vm.directionPoints,attrs:{\"destination\":_vm.directionPoints.destination,\"origin\":_vm.directionPoints.origin,\"travelMode\":_vm.travelMode}}):_vm._e(),_vm._l((_vm.waypoints),function(marker,index){return _c('GmapMarker',{key:_vm.waypoints,attrs:{\"position\":marker.destination,\"clickable\":true,\"draggable\":marker.drag ? true : false,\"icon\":marker.icon ? marker.icon : null},on:{\"click\":function($event){return _vm.checkMarker(index)},\"drag\":function($event){_vm.activeMarkerIndex = index},\"dragend\":_vm.updateMarker}},[_c('GMapInfoWindow',{attrs:{\"opened\":true}},[_c('div',{domProps:{\"textContent\":_vm._s(marker.destination.lat)}})])],1)})],2),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.travelMode),expression:\"travelMode\"}],attrs:{\"change\":_vm.calculateAndDisplayRoute},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.travelMode=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.modes),function(mode){return _c('option',{domProps:{\"value\":mode,\"textContent\":_vm._s(mode)}})}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"w-full  overflow-auto\" style=\"height: 85vh; z-index: 9999;\">\r\n        <GmapMap ref=\"gmap\" :center=\"center\" :key=\"reload\" \r\n            :options=\"{\r\n                zoomControl: true,\r\n                mapTypeControl: true,\r\n                scaleControl: true,\r\n                streetViewControl: true,\r\n                rotateControl: true,\r\n                fullscreenControl: true\r\n            }\"\r\n            \r\n            :zoom=\"zoom\" style=\"width: 100%; height: calc(100vh -  100px)\">\r\n\r\n            \r\n            <DirectionsRenderer \r\n                v-if=\"showroute && directionPoints\"\r\n                :destination=\"directionPoints.destination\" \r\n                :origin=\"directionPoints.origin\"\r\n                :key=\"directionPoints\" \r\n                :travelMode=\"travelMode\" \r\n                 />\r\n                 \r\n            <GmapMarker\r\n                v-for=\"(marker, index) in waypoints\" \r\n                :key=\"waypoints\" \r\n                :position=\"marker.destination\"\r\n                :clickable=\"true\" \r\n                :draggable=\"marker.drag ? true : false\" \r\n                :icon=\"marker.icon ? marker.icon : null\" \r\n                @click=\"checkMarker(index)\"\r\n                @drag=\"activeMarkerIndex = index\" \r\n                @dragend=\"updateMarker\" >\r\n                <GMapInfoWindow\r\n                :opened=\"true\">\r\n                    <div v-text=\"marker.destination.lat\">\r\n                    </div>\r\n                </GMapInfoWindow>\r\n                </GmapMarker>\r\n\r\n        </GmapMap>\r\n        <select :change=\"calculateAndDisplayRoute\" v-model=\"travelMode\">\r\n            <option v-text=\"mode\" :value=\"mode\" v-for=\"mode in modes\"></option>\r\n        </select>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport { F } from \"core-js/modules/_export\";\r\nimport DirectionsRenderer from \"./map_direction.vue\";\r\n\r\nexport default\r\n    {\r\n        components: {\r\n            DirectionsRenderer,\r\n        },\r\n        name: 'Vehicles',\r\n        data() {\r\n            return {\r\n                modes: ['DRIVING', 'WALKING'],\r\n                activeMarkerIndex: 0,\r\n                reload: true,\r\n                render: true,\r\n                travelMode: 'DRIVING',\r\n                origin: { lat: 0, lng: 0 }, // Replace with your origin location\r\n                destination: { lat: 0, lng: 0 }, // Replace with your destination location\r\n\r\n                zoom: 14,\r\n                markers: [\r\n                ],\r\n\r\n                polylineCoordinates: [],\r\n                // waypoints: [],\r\n                directionPoints: {},\r\n                activeDestination: {},\r\n            }\r\n\r\n        },\r\n\r\n        computed: {\r\n\r\n        },\r\n        props: [\r\n            'path',\r\n            'lang',\r\n            'setting',\r\n            'conf',\r\n            'auth',\r\n            'waypoints',\r\n            'showroute',\r\n            'center',\r\n        ],\r\n        mounted() {\r\n            var t = this;\r\n            setTimeout(function(){\r\n                t.onMapReady()\r\n            }, 1000)\r\n        },\r\n\r\n        methods:\r\n        {\r\n\r\n            /**\r\n             * When map loaded is ready\r\n             * \r\n             * @param\r\n             */\r\n            onMapReady()\r\n            {\r\n                var t = this;\r\n                t.directionsService = new window.google.maps.DirectionsService();\r\n                t.directionsDisplay = new window.google.maps.DirectionsRenderer();\r\n\r\n                var map = this.$refs.gmap.$mapObject;\r\n                this.directionsDisplay.setMap(map);\r\n\r\n                setInterval(() => {\r\n                    if (t.waypoints != this.$parent.locations && this.$parent.locations) {\r\n                        t.waypoints = this.$parent.locations;\r\n                        t.calculateAndDisplayRoute();\r\n                    }\r\n                }, 2000);\r\n            },\r\n\r\n            calculateDistance(location1, location2) {\r\n                const R = 6371; // Radius of the Earth in kilometers\r\n                const lat1 = location1.lat;\r\n                const lon1 = location1.lng;\r\n                const lat2 = location2.lat;\r\n                const lon2 = location2.lng;\r\n\r\n                const dLat = (lat2 - lat1) * (Math.PI / 180);\r\n                const dLon = (lon2 - lon1) * (Math.PI / 180);\r\n\r\n                const a =\r\n                    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n                    Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) *\r\n                    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n\r\n                const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n                const distance = R * c; // Distance in kilometers\r\n\r\n                return distance;\r\n            },\r\n\r\n            addPoint(event, status) {\r\n                if (status == 'waiting')\r\n                {\r\n                    this.polylineCoordinates.push(event);\r\n                }\r\n                // Sorting the polylineCoordinates array based on distance from a specific location\r\n                this.polylineCoordinates.sort((a, b) => {\r\n                    const locationData = this.waypoints[0];\r\n                    const distanceA = this.calculateDistance(locationData, a);\r\n                    const distanceB = this.calculateDistance(locationData, b);\r\n\r\n                    return distanceA - distanceB;\r\n                });\r\n\r\n            },\r\n            setMarker(i) { this.activeMarkerIndex = i; },\r\n            updateDestination(event) {\r\n                this.destination = {\r\n                    lat: event.latLng.lat(),\r\n                    lng: event.latLng.lng(),\r\n                };\r\n            },\r\n            updateOrigin(event) {\r\n                this.origin = {\r\n                    lat: event.latLng.lat(),\r\n                    lng: event.latLng.lng(),\r\n                };\r\n            },\r\n            \r\n            async updateMarker(event) \r\n            {\r\n                this.waypoints[this.activeMarkerIndex].destination = {\r\n                    lat: event.latLng.lat(), lng: event.latLng.lng()\r\n                };\r\n\r\n                this.waypoints[this.activeMarkerIndex].address = await this.handlePositionToPlaceId(this.waypoints[this.activeMarkerIndex].destination.lat, this.waypoints[this.activeMarkerIndex].destination.lng);\r\n\r\n                this.$emit('update-marker', this.waypoints[this.activeMarkerIndex], this.activeMarkerIndex, event);\r\n            },\r\n\r\n            async checkMarker(i)  {\r\n                this.activeDestination = this.waypoints[i].destination;\r\n                this.waypoints[i].address = await this.handlePositionToPlaceId(this.waypoints[i].destination.lat, this.waypoints[i].destination.lng);\r\n                this.$emit('click-marker', this.waypoints[i], i);\r\n                this.calculateAndDisplayRoute()\r\n            },\r\n            addMarker() {\r\n                this.markers[this.markers.length] = { position: { lat: this.markers[this.markers.length - 1].position.lat + 0.005, lng: this.markers[this.markers.length - 1].position.lat + 0.05 } }\r\n                this.sortWaypointsByDistance();\r\n                this.calculateAndDisplayRoute();\r\n            },\r\n\r\n            setMode() {\r\n                this.travelMode;\r\n            },\r\n\r\n             calculateAndDisplayRoute() {\r\n                var t = this;\r\n                if (window.google && this.waypoints.length && this.showroute) \r\n                {\r\n                    t.directionPoints = {origin: t.waypoints[0].destination, destination:t.waypoints[1].destination};\r\n                    var {origin, destination} = t.directionPoints;\r\n                    \r\n                    t.directionsService.route(\r\n                        {\r\n                            origin: new window.google.maps.LatLng(origin.lat, origin.lng),\r\n                            destination: this.activeDestination ? this.activeDestination : new window.google.maps.LatLng(destination.lat, destination.lng),\r\n                            travelMode: 'DRIVING'\r\n                        },\r\n                        (response, status) => {\r\n                            if (status === 'OK') {\r\n                                t.directionsDisplay.setDirections(response);\r\n                            } else {\r\n                                console.warn('Directions request failed due to ' + status);\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            },\r\n\r\n            async calculateAndDisplayRoute2() {\r\n                if (window.google) {\r\n                    this.render = false;\r\n\r\n                    var directionsService = new window.google.maps.DirectionsService();\r\n                    var directionsRenderer = new window.google.maps.DirectionsRenderer();\r\n\r\n                    var map = this.$refs.gmap.$mapObject;\r\n\r\n                    directionsRenderer.setMap(map);\r\n\r\n                    directionsService.route(\r\n                        {\r\n                            origin: this.origin,\r\n                            destination: this.destination,\r\n                            travelMode: this.travelMode,\r\n                            waypoints: this.waypoints.map((waypoint) => ({\r\n                                location: waypoint,\r\n                            })),\r\n                        },\r\n                        (response, status) => {\r\n                            if (status === 'OK') {\r\n                                directionsRenderer.setDirections(response);\r\n                            } else {\r\n                                console.error('Directions request failed due to ' + status);\r\n                            }\r\n                        }\r\n                    );\r\n                    this.render = true\r\n                }\r\n            },\r\n\r\n            sortWaypointsByDistance() {\r\n\r\n                const waypointsWithDistances = this.waypoints.map((waypoint) => {\r\n                    const originLatLng = new window.google.maps.LatLng(this.origin);\r\n                    const destinationLatLng = new window.google.maps.LatLng(this.destination);\r\n                    const waypointLatLng = new window.google.maps.LatLng(waypoint.location);\r\n\r\n                    const distanceToOrigin = window.google.maps.geometry.spherical.computeDistanceBetween(\r\n                        originLatLng,\r\n                        waypointLatLng\r\n                    );\r\n\r\n                    const distanceToDestination = window.google.maps.geometry.spherical.computeDistanceBetween(\r\n                        waypointLatLng,\r\n                        destinationLatLng\r\n                    );\r\n\r\n                    return {\r\n                        waypoint,\r\n                        distance: distanceToOrigin + distanceToDestination,\r\n                    };\r\n                });\r\n\r\n                // Sort waypoints by total distance\r\n                waypointsWithDistances.sort((a, b) => a.distance - b.distance);\r\n\r\n                // Extract the sorted waypoints\r\n                return waypointsWithDistances.map((item) => item.waypoint);\r\n\r\n            },\r\n\r\n\r\n            async getPlaceIdFromPosition(lat, lng) {\r\n                const geocoder = new google.maps.Geocoder();\r\n\r\n                const latLng = { lat: parseFloat(lat), lng: parseFloat(lng) };\r\n\r\n                return new Promise((resolve, reject) => {\r\n                    geocoder.geocode({ location: latLng }, (results, status) => {\r\n                    if (status === 'OK') {\r\n                        results[0] ? resolve(results[0]) : reject('No results found');\r\n                    } else {\r\n                        reject(`Geocoder failed due to: ${status}`);\r\n                    }\r\n                    });\r\n                });\r\n            },\r\n            async handlePositionToPlaceId(lat, lng) {\r\n\r\n                try {\r\n                    const place = await this.getPlaceIdFromPosition(lat, lng);\r\n                    console.log('Place ID:', place.formatted_address);\r\n                    return place.formatted_address;\r\n                    // Perform actions with the retrieved placeId\r\n                } catch (error) {\r\n                    console.error(error);\r\n                    // Handle error if geocoding fails\r\n                }\r\n            },\r\n\r\n                \r\n            __(i) {\r\n                return this.$root.$children[0].__(i);\r\n            }\r\n        }\r\n    };\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=00720f15&\"\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./map_direction.vue?vue&type=script&lang=js&\"\nexport * from \"./map_direction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport { MapElementFactory } from \"vue2-google-maps\";\r\n\r\nexport default MapElementFactory({\r\n  name: \"directionsRenderer\",\r\n\r\n  ctr() { \r\n    return window.google.maps.DirectionsRenderer;\r\n  },\r\n\r\n  events: [],\r\n\r\n  mappedProps: {},\r\n\r\n  props: {\r\n    origin: { type: Object },\r\n    destination: { type: Object },\r\n    travelMode: { type: String }\r\n  },\r\n\r\n  afterCreate(directionsRenderer) {\r\n    let directionsService = new window.google.maps.DirectionsService();\r\n\r\n    this.$watch(\r\n      () => [this.origin, this.destination, this.travelMode],\r\n      () => {\r\n        let { origin, destination, travelMode } = this;\r\n        if (!origin || !destination || !travelMode) return;\r\n\r\n        directionsService.route(\r\n          {\r\n            origin,\r\n            destination,\r\n            travelMode\r\n          },\r\n          (response, status) => {\r\n            if (status !== \"OK\") return;\r\n            directionsRenderer.setDirections(response);\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n});\r\n\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map_direction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map_direction.vue?vue&type=script&lang=js&\"","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n"],"sourceRoot":""}