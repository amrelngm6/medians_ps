{"version":3,"sources":["webpack:///./src/components/includes/Field.vue","webpack:///src/components/includes/Field.vue","webpack:///./src/components/includes/Field.vue?dfc4","webpack:///./src/components/includes/Field.vue?e12d"],"names":["render","_vm","this","_c","_self","staticClass","file","attrs","name","domProps","_e","content","on","showLibrary","_v","_s","types","images","files","staticStyle","clear","showManager","key","api_url","filetypes","value","$event","insert","staticRenderFns","components","Manager","Loader","props","type","String","required","Object","default","Array","helper","data","loading","mounted","methods","file_name","change","$emit","watch","console","log","component"],"mappings":"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","file":"js/chunk-2d0c1501.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"media-library-field\"},[(_vm.file)?_c('input',{attrs:{\"name\":_vm.name,\"type\":\"hidden\"},domProps:{\"value\":_vm.file}}):_vm._e(),(_vm.content == null)?_c('div',{staticClass:\"media-library-field__selector\"},[_c('span',{staticClass:\"media-library-field__selector__button\",on:{\"click\":_vm.showLibrary}},[_vm._v(\"Attach \"+_vm._s(_vm.types.images && _vm.types.files ? 'file' : (_vm.types.images && !_vm.types.files) ? 'image' : 'file'))])]):_vm._e(),(_vm.file && _vm.content)?_c('div',{staticClass:\"media-library-field__selected\"},[_c('div',{staticClass:\"media-library-field__selected__inner\"},[_c('div',{staticClass:\"w-full\"},[_c('div',[_c('img',{staticStyle:{\"width\":\"auto\",\"height\":\"auto\",\"max-width\":\"180px\"},attrs:{\"src\":_vm.file}})]),_c('div',{staticClass:\"block w-full\"},[_c('div',{staticClass:\"w-full flex\",staticStyle:{\"margin\":\"2rem -0.5rem 0 -0.5rem\"}},[_c('div',{staticStyle:{\"flex-grow\":\"1\",\"padding\":\"0 0.5rem\"}},[_c('span',{staticClass:\"media-library-field__selected__inner__details__button font-semibold\",on:{\"click\":_vm.showLibrary}},[_vm._v(\"Edit\")])]),_c('div',{staticStyle:{\"flex-grow\":\"1\",\"padding\":\"0 0.5rem\"}},[_c('button',{staticClass:\"media-library-field__selected__inner__details__button media-library-field__selected__inner__details__button--delete\",on:{\"click\":_vm.clear}},[_vm._v(\"Remove\")])])])])])])]):_vm._e()]),(_vm.showManager)?_c('vue-medialibrary-manager',{key:_vm.showManager,attrs:{\"api_url\":_vm.api_url,\"filetypes\":_vm.filetypes,\"types\":_vm.types,\"selected\":_vm.value,\"selectable\":true},on:{\"close\":function($event){_vm.showManager = false, _vm.file = _vm.content = _vm.value},\"select\":_vm.insert,\"fail-to-find\":_vm.clear}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"media-library-field\">\r\n\r\n            <input v-if=\"file\" :name=\"name\" type=\"hidden\" :value=\"file\">\r\n\r\n            <div class=\"media-library-field__selector\" v-if=\"content == null\">\r\n                <span \r\n                     @click=\"showLibrary\"\r\n                    class=\"media-library-field__selector__button\"\r\n                >Attach {{ types.images && types.files ? 'file' : (types.images && !types.files) ? 'image' : 'file' }}</span>\r\n\r\n            </div>\r\n            <div v-if=\"file && content\" class=\"media-library-field__selected\">\r\n                <div class=\"media-library-field__selected__inner\">\r\n                    <div class=\"w-full\">\r\n                        <div>\r\n                            <img :src=\"file\" style=\"width: auto; height: auto; max-width: 180px;\">\r\n                        </div>\r\n                        <div class=\"block w-full\">\r\n                            <div class=\"w-full flex\" style=\"  margin: 2rem -0.5rem 0 -0.5rem;\">\r\n                                <div style=\"flex-grow: 1; padding: 0 0.5rem;\">\r\n                                    <span class=\"media-library-field__selected__inner__details__button font-semibold\" @click=\"showLibrary\">Edit</span>\r\n                                </div>\r\n                                <!-- <div style=\"flex-grow: 1; padding: 0 0.5rem;\">\r\n                                    <a :href=\"file.download_url\" class=\"media-library-field__selected__inner__details__button\">Download</a>\r\n                                </div> -->\r\n                                <div style=\"flex-grow: 1; padding: 0 0.5rem;\">\r\n                                    <button @click=\"clear\" class=\"media-library-field__selected__inner__details__button media-library-field__selected__inner__details__button--delete\">Remove</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <!-- <p v-if=\"helper\" v-html=\"helper\" class=\"media-library-field__selected__inner__details__helper\" /> -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <vue-medialibrary-manager\r\n            :key=\"showManager\"\r\n            :api_url=\"api_url\"\r\n            :filetypes=\"filetypes\"\r\n            v-if=\"showManager\"\r\n            :types=\"types\"\r\n            :selected=\"value\"\r\n            :selectable=\"true\"\r\n            @close=\"showManager = false, file = content = value\"\r\n            @select=\"insert\"\r\n            @fail-to-find=\"clear\"\r\n        ></vue-medialibrary-manager>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Loader from './Loader';\r\n    import Manager from './Manager';\r\n    import axios from 'axios';\r\n\r\n    export default {\r\n        name: 'vue-medialibrary-field',\r\n\r\n        components: {\r\n            'vue-medialibrary-manager': Manager,\r\n            'app-medialibrary-loader': Loader\r\n        },\r\n\r\n        props: {\r\n            name: {\r\n                type: String,\r\n                required: false\r\n            },\r\n            api_url: {\r\n                type: String,\r\n                required: false\r\n            },\r\n            value: {\r\n                type: Object|String,\r\n                required: false,\r\n                default: () => ({\r\n                })\r\n            },\r\n            types: {\r\n                type: Object,\r\n                required: false,\r\n                default: () => ({\r\n                    images: true,\r\n                    files: true\r\n                })\r\n            },\r\n            filetypes: {\r\n                type: Array,\r\n                required: false,\r\n                default: () => ([])\r\n            },\r\n            helper: {\r\n                type: String,\r\n                required: false\r\n            }\r\n        },\r\n\r\n        data: () => ({\r\n            loading: true,\r\n            showManager: false,\r\n            file: {},\r\n            content: null,\r\n        }),\r\n\r\n        mounted() {\r\n            this.content = this.value ? this.value : this.content;\r\n            if (this.content ) {\r\n                this.file = this.content;\r\n            } else {\r\n                this.content = null;\r\n            }\r\n            this.loading = false;\r\n        },\r\n\r\n        methods: {\r\n            showLibrary()\r\n            {\r\n                this.showManager = !this.showManager;\r\n            },\r\n            insert(value) {\r\n\r\n                this.loading = false;\r\n                this.showManager = false;\r\n                \r\n                this.file = value.file_name;\r\n                this.content = value.file_name;\r\n\r\n                this.change();\r\n            },\r\n            clear() {\r\n                this.loading = false;\r\n                this.content = this.file = null;\r\n\r\n                this.$emit('input', null);\r\n            },\r\n            change() {\r\n                this.$emit('input', this.file);\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            value() {\r\n                if (typeof this.file == 'undefined') {\r\n                    this.loading = true;\r\n                }\r\n            },\r\n            showManager()\r\n            {\r\n                console.log('changed')\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Field.vue?vue&type=template&id=0b5a2b3a\"\nimport script from \"./Field.vue?vue&type=script&lang=js\"\nexport * from \"./Field.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}