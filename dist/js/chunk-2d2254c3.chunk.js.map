{"version":3,"sources":["webpack:///./node_modules/medians-calendar-vue3/dist/medians-calendar-cell-bg-96f57cde.js"],"names":["script","date","showBgSelect","showBgHover","props","inject","components","MediansCalendarEvent","computed","methods","dropStart","cellData","this","$emit","device","mouseDown","creator","creating","mouseUp","_this$medians_calenda","medians_calendar_options","read_only","past_event_creation","overlap","now","Date","value","$medians_calendar","closePopups","payload","original_starting_cell","starting_cell","current_cell","ending_cell","mouseMove","_this$medians_calenda2","_this$creator","going_down","index","direction","resetCreator","isAnHour","hourlySelection","show_modal","item","arguments","length","undefined","$parent","log","data","__vue_script__","__vue_render__","_vm","_h","$createElement","_c","_self","visible","staticClass","class","style","cell_height","on","$event","target","currentTarget","preventDefault","staticStyle","domProps","_s","slice","_e","__vue_staticRenderFns__","__vue_inject_styles__","source","map","media","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","render","staticRenderFns"],"mappings":"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","file":"js/chunk-2d2254c3.chunk.js","sourcesContent":["import { j as getLocaleTime, c as cloneObject, b as _objectSpread2, d as __vue_normalize__, e as __vue_create_injector__ } from './index-f8767c62.js';\nimport 'vue';\nimport 'moment';\n\nvar script = {\n  date: function date() {\n    return {\n      showBgSelect: false,\n      showBgHover: false\n    };\n  },\n  props: ['device', 'creator', 'index', 'cellData', 'constructedEvents', 'temporaryEvent'],\n  inject: ['medians_calendar_options'],\n  components: {\n    MediansCalendarEvent: function MediansCalendarEvent() {\n      return import('./medians-calendar-event-785a1eb1.js');\n    }\n  },\n  computed: {},\n  methods: {\n    dropStart: function dropStart(cellData) {\n      this.$emit('dragEnd', cellData, this.device);\n    },\n    mouseDown: function mouseDown() {\n      // user mouse got depressed while outside medians-calendar-cells\n      // came back in and clicked while the creator was on\n      if (!!this.creator.creating) {\n        this.mouseUp();\n        return;\n      }\n      var _this$medians_calenda = this.medians_calendar_options,\n        read_only = _this$medians_calenda.read_only,\n        overlap = _this$medians_calenda.overlap,\n        past_event_creation = _this$medians_calenda.past_event_creation;\n      if (read_only) return;\n\n      // if past_event_creation is set to false, check if cell value is\n      // before current time\n      if (past_event_creation === false) {\n        var now = getLocaleTime(new Date());\n        if (new Date(now) > new Date(this.cellData.value)) {\n          this.mouseUp();\n          return;\n        }\n      }\n\n      // if overlap is set to false, prevent selection on top of\n      // other events\n\n      // close any open popups in the whole medians_calendar instance\n      // before starting a new one\n      this.$medians_calendar.closePopups();\n\n      // create a payload consisting of\n      // starting, current, ending and originalStarting cell\n      // starting, current and ending are self explanatory\n      // but originalStarting cell is required\n      // to determine the direction of the scroll/drag\n      var payload = {\n        creating: true,\n        original_starting_cell: cloneObject(this.cellData),\n        starting_cell: cloneObject(this.cellData),\n        current_cell: cloneObject(this.cellData),\n        ending_cell: cloneObject(this.cellData)\n      };\n      this.$emit('select', payload);\n    },\n    mouseMove: function mouseMove() {\n      // same guards like in the mouseDown function\n      var _this$medians_calenda2 = this.medians_calendar_options,\n        read_only = _this$medians_calenda2.read_only,\n        overlap = _this$medians_calenda2.overlap;\n      if (read_only) return;\n      if (this.creator && !this.creator.creating) return;\n      var _this$creator = this.creator,\n        starting_cell = _this$creator.starting_cell,\n        original_starting_cell = _this$creator.original_starting_cell,\n        creating = _this$creator.creating;\n\n      // direction of scroll\n      var going_down = this.cellData.index >= starting_cell.index && starting_cell.index === original_starting_cell.index;\n      if (creating) {\n        var payload = _objectSpread2(_objectSpread2({}, this.creator), {}, {\n          current_cell: this.cellData,\n          ending_cell: this.cellData,\n          direction: going_down ? 'normal' : 'reverse'\n        });\n        this.$emit('select', payload);\n      }\n    },\n    mouseUp: function mouseUp() {\n      this.showBgSelect = false;\n      this.$emit('initiatePopup');\n    },\n    resetCreator: function resetCreator() {\n      this.$emit('reset');\n    },\n    isAnHour: function isAnHour(index) {\n      if (this.medians_calendar_options.hourlySelection) {\n        return true;\n      } else {\n        return (index + 1) % (60 / 10) === 0;\n      }\n    },\n    show_modal: function show_modal() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this.$parent.show_modal(item);\n    },\n    log: function log(data) {\n      this.$parent.log(data);\n    }\n  }\n};\n\n/* script */\nvar __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _vm.cellData.visible ? _c('div', {\n    staticClass: \"text-xs hover:text-gray-600 border-gray-100 hover:bg-gray-100 border medians-calendar-cell-bg rounded relative cell-bg\",\n    class: {\n      // selected: selected,\n      'is-an-hour': _vm.isAnHour(_vm.index),\n      'bg-gray-200': _vm.showBgHover,\n      'bg-blue-200': _vm.showBgSelect\n      // 'being-created': !!being_created || hasPopups,\n    },\n    style: \"height: \" + _vm.medians_calendar_options.cell_height + \"px; \",\n    on: {\n      \"mouseover\": [function ($event) {\n        _vm.showBgHover = true;\n      }, function ($event) {\n        if ($event.target !== $event.currentTarget) {\n          return null;\n        }\n        return _vm.mouseMove();\n      }],\n      \"mouseout\": function mouseout($event) {\n        _vm.showBgHover = false;\n      },\n      \"mousedown\": function mousedown($event) {\n        if ($event.target !== $event.currentTarget) {\n          return null;\n        }\n        return _vm.mouseDown();\n      },\n      \"mouseup\": function mouseup($event) {\n        return _vm.mouseUp();\n      },\n      \"dragover\": [function ($event) {\n        $event.preventDefault();\n      }, function ($event) {\n        _vm.showBgHover = true;\n      }],\n      \"dragenter\": function dragenter($event) {\n        $event.preventDefault();\n      },\n      \"drop\": function drop($event) {\n        return _vm.dropStart(_vm.cellData);\n      }\n    }\n  }, [_vm.cellData.value ? _c('div', {\n    staticStyle: {\n      \"pointer-events\": \"none\"\n    }\n  }, [_c('div', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.cellData.value.slice(11, 16))\n    }\n  })]) : _vm._e()]) : _vm._e();\n};\nvar __vue_staticRenderFns__ = [];\n\n/* style */\nvar __vue_inject_styles__ = function __vue_inject_styles__(inject) {\n  if (!inject) return;\n  inject(\"data-v-163d3ceb_0\", {\n    source: \"li{font-size:13px;position:relative}.created-events{height:100%}.cell-bg div{display:none}.cell-bg:active div,.cell-bg:hover div{display:block}ul.building-blocks li{z-index:0;border-bottom:dotted 1px var(--odd-cell-border-color)}ul.building-blocks li.first_of_appointment{z-index:1;opacity:1}ul.building-blocks li.is-an-hour{border-bottom:solid 1px var(--table-cell-border-color)}ul.building-blocks li.has-events{z-index:unset}ul.building-blocks li.being-created{z-index:11}\",\n    map: undefined,\n    media: undefined\n  });\n};\n/* scoped */\nvar __vue_scope_id__ = undefined;\n/* module identifier */\nvar __vue_module_identifier__ = undefined;\n/* functional template */\nvar __vue_is_functional_template__ = false;\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__ = /*#__PURE__*/__vue_normalize__({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, false, __vue_create_injector__, undefined, undefined);\n\nexport default __vue_component__;\n"],"sourceRoot":""}