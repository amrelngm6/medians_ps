{% include 'views/front/default/includes/header.html.twig' %}


<div class="w-full cyan-bg pb-6 pt-24 relative ">
	<div class="w-full overflow-hidden h-full absolute bottom-0 left-0">
		<img loading="lazy" alt="{{app.settings['sitename']}}" src="/stream?image=/uploads/img/light-network.webp" class="absolute left-0 top-0 w-full" style="opacity: .3;"/>
	</div>
	<div class="container mx-auto relative pt-4">
		<h1 class="text-2xl mx-auto w-auto text-center font-bold text-white">{{lang.translate('Forum')}}</h1>
	</div>
</div>


<div class="w-full bg-gray-100 mx-auto pt-4 pb-2">
	<div class="container lg:flex gap-10  mx-auto  ">

		<form action="" class="w-full lg:flex gap-4">
			<div class="lg:flex gap-4">
				<div class="pt-2">{{lang.translate('Search')}}</div>
				<div>
					<input  class="appearance-none block w-40 bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="item-title" name="params[title]" />
				</div>
			</div>

			<div class="lg:flex gap-4">
				<div class="pt-2 w-24">{{lang.translate('Filter by')}}</div>
				<div>
					<select  class="appearance-none block w-40 bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="customer-spec" name="params[sort_by]">
                        {% for i in [
                            {title:lang.translate('New first'), val: 'new'},
                            {title:lang.translate('Old first'), val: 'old'},
                            {title:lang.translate('Most views'), val: 'best'},
                            {title:lang.translate('Trending'), val: 'trending'},
                        ] %}
						<option value="{{i.val}}" {% if i.val == app.params.sort_by %} selected {% endif %} >{{i.title}}</option>
                        {% endfor %}
					</select>
				</div>
			</div>
			<div class="">
                <button class="px-4 py-2 purple-bg rounded text-white">{{lang.translate('Sort')}}</button>
			</div>
		</form>
		<div class="lg:w-1/3 text-left">
			<a  title="{{lang.translate('Add New Question')}}" class="inline-block mx-auto py-3 px-4 purple-bg text-white rounded-lg" href="/new-forum-post">
				<span class="flex gap-4">
					<img src="/src/front_assets/svg/add-post.svg" class="w-6 inline-block"/>
					<span class=" ">{{lang.translate('Add New Question')}}</span>
				</span>
			</a> 
		</div>
	</div>
</div>


<div class="container mx-auto  pt-10 pb-20 gap-10 lg:flex ">

	<div class="w-full rounded-2xl pt-6 flex-col justify-start items-start gap-10 inline-flex">
		{% for item in items %}

			<div class="w-full flex-col justify-start items-start gap-10 inline-flex bg-gray-100 p-4 rounded-lg shadow-md bg-white">
				<div class=" flex-col justify-start items-start gap-2.5 flex">
					<div class="mt-2 justify-start items-start gap-2.5 inline-flex">
						<div class="px-2.5 py-1 bg-blue-100 rounded-lg justify-center items-center gap-2.5 flex">
							<a title="{{item.category.content.title}}" href="/{{item.category.content.prefix}}"  class=" font-normal text-sm leading-none text-gray-800">{{item.category.content.title}}</a>
						</div>
					</div>
					<a title="{{item.subject}}" href="/forum-post/{{item.id}}" class="pt-1 text-lg font-semibold leading-relaxed purple-color hover:text-gray-500">{{item.subject}}</a>
				</div>
				<div class="flex w-full">
					<div class="w-full justify-start items-center gap-2 inline-flex">
						<a title="{{item.doctor.content.title}}" href="/{{item.doctor.content.prefix}}" class=" relative flex">
							<img class="w-10 h-10 relative rounded-full" src="{{item.doctor.picture}}"/>
						</a>
						<div class=" justify-between items-center flex">
							<div class="flex-col justify-start items-start inline-flex">
								<div class="justify-start items-center gap-1 inline-flex">
    								<a title="{{item.doctor.content.title}}" href="/{{item.doctor.content.prefix}}"  class=" text-sm font-semibold text-gray-500">{{item.doctor.content.title}}</a>
								</div>
								<div class=" text-sm  pt-1 font-normal leading-none text-gray-800">{{lang.translate('Answered by')}}</div>
							</div>
						</div>

					</div>
					<div class="justify-start lg:gap-6 gap-2 flex">
						<div class="flex gap-1 text-sm font-normal relative">
							<span class="tooltiptext">{{lang.translate('Views')}}</span>
							<span class="pt-2">{{item.views_sum_times}}</span>
							<img src="/src/front_assets/svg/views.svg" width="40"/></div>
						<div class="flex gap-1 text-sm font-normal relative">
							<span class="tooltiptext">{{lang.translate('Comments')}}</span>
							<span class="pt-2">{{item.comments|length}}</span>
							<img src="/src/front_assets/svg/comments.svg" width="40"/></div>
					</div>
				</div>
			</div>
		{% endfor %}


        <hr class="pb-2" />
        {% if pages|length %}
        <div class="py-4 flex mx-auto text-center w-96">
            <span class="w-full"></span>
            {% for page in pages %}
                {% if loop.index == current_page %} 
                <span class="p-4 text-center font-bold cyan-color">{{loop.index}}</span> 
                {% else %} 
                <a href="?page={{loop.index}}" class="p-4 text-center text-gray-600 font-semibold ">{{loop.index}}</a> 
                {% endif %} 
            {% endfor %}
            <span class="w-full"></span>
        </div>
        {% endif %}
        
	</div>
	<div style="" class=" z-10 lg:w-1/3 relative px-2 pt-6">
		<div class="w-full bg-white h-full left-0 relative">

			{% include 'views/front/default/side_offers.html.twig' %}

			{% include 'views/front/default/side_articles.html.twig' %}

			{% include 'views/front/default/side_success_stories.html.twig' %}

			{% set similar = doctors %}
			{% include 'views/front/default/side_doctors.html.twig' %}

		</div>
	</div>
</div>

{% include 'views/front/default/includes/navbar.html.twig' %}

{% include 'views/front/default/includes/footer.html.twig' %}
